const v=[{id:"npa",name:"National Police Agency",abbrev:"NPA",url:"/npa",keywords:["police","crime","report","emergency","npa","law enforcement","theft","accident","911","background check","clearance","firearm","licensing","safety"],description:"National policing, emergency response, and community safety services across Praya.",services:["Emergency Response - Dial 911 for life-threatening incidents, crimes in progress, missing children","Non-emergency line: 311","Online crime reporting for thefts under Â¤2,500, vandalism, lost property, identity fraud","Police Clearance Certificates - 3 business day processing, covers criminal history, open warrants","Firearm Licensing - requires safety training, secure storage proof, biometric background checks","Traffic Safety - collision reports, citations, commercial vehicle inspections","Neighborhood Watch Programs","Victim Assistance - counseling, restitution advocates, protective order coordinators","Community Programs - school safety officers, patrol briefings"],subPages:[{name:"File Police Report",url:"/npa/report",description:"Submit non-emergency reports online for theft under Â¤2,500, lost property, vandalism, vehicle accidents with no injuries"},{name:"Police Services",url:"/npa/services",description:"Access police clearances, case lookups, and community programs"},{name:"Public Safety",url:"/npa/safety",description:"Safety tips, crime prevention resources, and community awareness programs"}],statistics:{responseTime:"4.2min average",crimeRate:"-12% vs Last Year",casesSolved:"87% this year",officers:"3,421 active duty"},hours:"Walk-in stations: 08:00-18:00 daily. Emergency dispatch: 24/7",contact:"Emergency: 911 | Non-emergency: 311 | HQ: +854 200 0000 | Anonymous Tips: 1-800-CRIME-TIP",responseInfo:"Average Priority 1 response: 7m 42s. Priority system ensures resources based on threat to life."},{id:"bop",name:"Bank of Praya",abbrev:"BOP",url:"/bop",keywords:["bank","banking","account","loan","bop","savings","currency","praya dollar","Â¤","mortgage","financial","central bank","monetary"],description:"Central bank responsible for monetary policy, financial stability, and banking supervision.",services:["Personal Banking - savings accounts, checking accounts, online banking","Business Loans and Mortgages - schedule appointment with financial advisor","Currency Services - official currency is the Praya Dollar (Â¤)","Banking Supervision","Monetary Policy","Economic Research and Analysis"],subPages:[{name:"Personal Banking",url:"/bop/personal",description:"Savings accounts, checking accounts, and personal financial services"},{name:"Business Banking",url:"/bop/business",description:"Business loans, mortgages, and commercial banking services"},{name:"Currency Exchange",url:"/bop/exchange",description:"Currency exchange services and rates"}],hours:"Branch hours vary by location. Online banking available 24/7",contact:"Main branch and customer service information available on BOP portal"},{id:"ctb",name:"Cannabis Tax Bureau",abbrev:"CTB",url:"/ctb",keywords:["cannabis","marijuana","ctb","cannabis tax","cannabis license","dispensary","cultivation","retail","medical cannabis","recreational"],description:"Licensing, taxation, and regulation of cannabis industry in the Republic of Praya.",services:["Dispensary Licensing - new applications and renewals","Cultivation Permits - commercial and personal grow licenses","Monthly Tax Returns - file online for license holders","Compliance Audits and Inspections","Cannabis Business Registration","Product Testing and Quality Standards","Industry Research and Statistics"],subPages:[{name:"Apply for License",url:"/ctb/apply",description:"Apply for dispensary, cultivation, or processing licenses"},{name:"Tax Filing",url:"/ctb/taxes",description:"File monthly cannabis tax returns online"},{name:"Compliance",url:"/ctb/compliance",description:"Compliance requirements, audits, and inspections information"}],hours:"Office hours: Mon-Fri 8AM-5PM. Online services available 24/7",contact:"CTB hotline available during business hours. Apply online via CTB portal"},{id:"doj",name:"Department of Justice",abbrev:"DOJ",url:"/doj",keywords:["court","legal","lawsuit","attorney","lawyer","doj","justice","case","trial","prosecutor","public defender","lawsuit","litigation"],description:"Court system, prosecution services, and legal resources for citizens of Praya.",services:["Court Services - criminal and civil proceedings","Case Lookup Tool - track case status and court schedules online","Legal Aid Services - Public Defender's Office for qualified individuals","Court Filings - electronic and in-person filing available","Prosecution Services","Criminal Code Information and Resources"],subPages:[{name:"Case Lookup",url:"/doj/lookup",description:"Track case status and court schedules online"},{name:"Legal Aid",url:"/doj/legal-aid",description:"Public Defender services and civil legal aid for qualified individuals"},{name:"Court Filings",url:"/doj/filings",description:"Electronic and in-person court filing information"}],hours:"Court hours: Mon-Fri 8AM-5PM. Case lookup available 24/7 online",contact:"DOJ main office and courthouse locations available on DOJ portal"},{id:"interior",name:"Interior Department",abbrev:"ID",url:"/interior",keywords:["id","identification","passport","driver license","drivers license","birth certificate","documents","national id","interior","civil records","land registry","building permit"],description:"Land registry, building permits, civil records, and parks management.",services:["National IDs - apply or renew online or in-person, 5-7 day processing","Passports - 10-14 day processing time","Birth Certificates - 3-5 day processing","Driver Licensing - handled by Transport Department","Land Registry Services","Building Permits and Inspections","Civil Records - marriage licenses, death certificates","Parks and Nature Reserves Management"],subPages:[{name:"National ID",url:"/interior/id",description:"Apply for or renew your National ID card. Fee: Â¤25 new, Â¤15 renewal. Processing: 5-7 days."},{name:"Passport Services",url:"/interior/passport",description:"Apply for passport. Standard: Â¤80, 10-14 days. Expedited: Â¤150, 3-5 days."},{name:"Birth Certificates",url:"/interior/birth",description:"Request certified copies or register a birth. Fee: Â¤10. Processing: 3-5 days."},{name:"Civil Records",url:"/interior/records",description:"Marriage licenses, death certificates, and other civil documents"}],fees:{nationalId:{new:"Â¤25",renewal:"Â¤15",processing:"5-7 business days"},passport:{standard:"Â¤80",expedited:"Â¤150",standardProcessing:"10-14 days",expeditedProcessing:"3-5 days"},birthCertificate:{fee:"Â¤10",processing:"3-5 business days"}},hours:"Mon-Fri 8AM-5PM. PrayaPass account required for online services",contact:"Visit any Interior Department office with valid ID"},{id:"transport",name:"Transport Department",abbrev:"TD",url:"/transport",keywords:["transport","driver","license","driving","vehicle","registration","dmv","car","highway","road","traffic"],description:"Driver licensing, vehicle registration, and management of national highways.",services:["Driver Licensing - new licenses, renewals, and tests","Vehicle Registration - cars, motorcycles, commercial vehicles","National Highways Maintenance","Road Safety Programs and Education","Commercial Driver Licensing (CDL)","Vehicle Inspections"],subPages:[{name:"Driver License",url:"/transport/license",description:"Apply for new license, renew, or schedule driving tests. Fee: Â¤45 new, Â¤30 renewal."},{name:"Vehicle Registration",url:"/transport/registration",description:"Register vehicles, renew registration, or transfer titles"},{name:"Schedule Test",url:"/transport/test",description:"Schedule written or road tests for driver licensing"}],fees:{driverLicense:{new:"Â¤45",renewal:"Â¤30",replacement:"Â¤25",valid:"5 years"},vehicleRegistration:{annual:"varies by vehicle type"}},hours:"Mon-Fri 8AM-5PM, Sat 9AM-1PM select locations",contact:"Book appointments online or visit walk-in centers"},{id:"revenue",name:"Revenue Department",abbrev:"RD",url:"/revenue",keywords:["tax","taxes","pay tax","file tax","revenue","income tax","business tax","tax return","refund","irs"],description:"Tax collection, benefits, and financial services for individuals and businesses.",services:["Individual Tax Filing - file online through PrayaPass account","Business Tax Accounts and Filing","Tax Benefits and Credits","Compliance Support and Audits","Tax Payment Plans","Refund Status Tracking"],subPages:[{name:"File Taxes",url:"/revenue/file",description:"File individual or business tax returns online. Free e-file for incomes under Â¤75,000."},{name:"Make Payment",url:"/revenue/payment",description:"Pay taxes online, set up payment plans, or manage your account"},{name:"Refund Status",url:"/revenue/refunds",description:"Track refund status and update direct deposit information"}],statistics:{returnsFiled:"2.8M this year",eFileRate:"87% online filing",avgRefund:"Â¤2,840 per return",processingTime:"21 days e-file average"},taxInfo:{deadline:"April 15 annually",freeFileThreshold:"Â¤75,000 AGI",standardDeduction:{single:"Â¤13,850",marriedJoint:"Â¤27,700",headOfHousehold:"Â¤20,800"},helpLine:"1-800-TAX-HELP"},hours:"Office hours: Mon-Fri 8AM-5PM. Online filing available 24/7",contact:"Phone: 1-800-TAX-HELP | Email: help@revenue.gov.py | Visit RD offices or access services through PrayaPass portal"},{id:"post",name:"Praya Post",abbrev:"PP",url:"/post",keywords:["mail","post","package","shipping","postal","letter","delivery","postage","mailbox","p.o. box","tracking"],description:"National postal service providing domestic and international mail and package delivery.",services:["Package Delivery - domestic and international","International Mail Services","Express Shipping Options","P.O. Box Rentals","Package Tracking Online","Bulk Mailing for Businesses","Certified and Registered Mail"],subPages:[{name:"Track Package",url:"/post/track",description:"Track your package using the tracking number (format: PP followed by numbers)"},{name:"Ship Package",url:"/post/ship",description:"Calculate shipping rates and ship packages domestically or internationally"},{name:"Find Location",url:"/post/locations",description:"Find post office locations and hours near you"}],hours:"Mon-Fri 8AM-6PM, Sat 9AM-1PM. Closed Sundays",contact:"Track packages online using tracking number. Visit local post office"},{id:"health",name:"Health Department",abbrev:"HD",url:"/health",keywords:["health","hospital","medical","doctor","insurance","clinic","healthcare","vaccination","public health","disease","health insurance"],description:"Public health services, disease control, healthcare licensing, and health statistics.",services:["Public Health Services and Programs","Disease Control and Prevention","Healthcare Licensing and Regulation","National Health Insurance - enrollment and inquiries","Vaccination Schedules and Immunization Clinics","Public Health Advisories","Health Statistics and Research","Emergency Medical Services - Dial 911"],subPages:[{name:"Health Insurance",url:"/health/insurance",description:"Enroll in National Health Insurance. Standard Plan Â¤50-Â¤350/month, Premium Plan Â¤180-Â¤520/month based on income."},{name:"Vaccinations",url:"/health/vaccinations",description:"View vaccination records, schedule immunizations, find clinic locations"},{name:"Find Provider",url:"/health/providers",description:"Search for doctors, specialists, hospitals, and clinics in your area"},{name:"Health Alerts",url:"/health/alerts",description:"Public health advisories, disease outbreaks, and safety recommendations"}],statistics:{insuredCitizens:"94.2% coverage rate",healthcareFacilities:"1,247 nationwide",lifeExpectancy:"81.3 years average",vaccinationRate:"89% full coverage"},insuranceInfo:{standardPlan:"Â¤50-Â¤350/month based on income",premiumPlan:"Â¤180-Â¤520/month based on income",openEnrollment:"November 1 - December 31",coverageStart:"January 1"},hours:"Office hours: Mon-Fri 8AM-5PM. Emergency: 911 24/7",contact:"Health Info: 1-800-HEALTH-PY | Crisis Line: 988 | Poison Control: 1-800-POISON | Emergency: 911"},{id:"housing",name:"Housing Authority",abbrev:"HA",url:"/housing",keywords:["housing","rent","apartment","home","property","landlord","tenant","public housing","rental assistance","eviction","affordable housing"],description:"Affordable public housing programs and subsidized rental assistance for eligible citizens.",services:["Public Housing Applications - apply online through PrayaPass","Eligibility Check - income-based qualifications","Rental Assistance Programs","Tenant Rights Information","Landlord Regulations and Compliance","Eviction Protection Resources","Waitlist Status - check via PrayaPass account","Regional Housing Availability"],subPages:[{name:"Apply for Housing",url:"/housing/apply",description:"Apply for public housing or rental assistance programs"},{name:"Check Eligibility",url:"/housing/eligibility",description:"Check income-based eligibility requirements for housing programs"},{name:"Tenant Rights",url:"/housing/rights",description:"Information about tenant rights, eviction protection, and landlord disputes"},{name:"Waitlist Status",url:"/housing/waitlist",description:"Check your position on housing waitlists"}],hours:"Mon-Fri 8AM-5PM. Online applications accepted 24/7",contact:"Visit Housing Authority office or check status via PrayaPass"},{id:"cbca",name:"Customs and Border Control Agency",abbrev:"CBCA",url:"/cbca",keywords:["customs","border","import","export","cbca","shipping","travel","duty","tariff","international shipping","visa"],description:"Import/export regulations, border control, and customs enforcement.",services:["Import/Export Permits - apply online through CBCA portal","Border Control and Immigration","Customs Declarations and Duties","Duty-Free Allowances Information","Prohibited and Restricted Items Lists","Travel Entry Requirements","Commercial Shipping Clearance","Customs Compliance and Enforcement"],subPages:[{name:"Import/Export",url:"/cbca/permits",description:"Apply for import or export permits, view tariff information"},{name:"Travel Requirements",url:"/cbca/travel",description:"Entry requirements, visa information, and what to declare"},{name:"Prohibited Items",url:"/cbca/prohibited",description:"List of items prohibited or restricted from import/export"}],hours:"Border crossings: 24/7. Office hours: Mon-Fri 8AM-5PM",contact:"Review entry requirements before travel. Apply for permits online"},{id:"lc",name:"Legislative Council",abbrev:"LC",url:"/lc",keywords:["legislative","law","bill","council","vote","representative","parliament","congress","legislation","lawmaker","elected"],description:"Legislative body responsible for creating and passing laws.",services:["Bill Tracking - view current legislation and status","Voting Records - access representative voting history","Contact Your Representative","Public Hearings - schedule and attend public sessions","Legislative Research and Archives","Citizen Petitions","Committee Information and Schedules"],subPages:[{name:"Bills & Legislation",url:"/lc/bills",description:"Track current legislation, view bill status and history"},{name:"Find Representative",url:"/lc/representatives",description:"Find and contact your district representative"},{name:"Voting Records",url:"/lc/voting",description:"View representative voting history on legislation"},{name:"Public Hearings",url:"/lc/hearings",description:"Schedule of public hearings and how to attend"}],hours:"Public viewing hours: Mon-Fri 8AM-5PM. Session schedules vary",contact:"Find your representative through LC portal"},{id:"bd",name:"Buildings Department",abbrev:"BD",url:"/bd",keywords:["building","construction","permit","inspection","contractor","building code","safety","architecture","renovation","development","structural"],description:"Building permits, construction safety, inspections, and enforcement of building codes.",services:["Building Permits - new construction and renovations","Building Inspections - safety and code compliance","Contractor Licensing","Building Code Information","Structural Safety Reviews","Permit Status Tracking","Construction Site Monitoring"],subPages:[{name:"Apply for Permit",url:"/bd/permits",description:"Apply for building permits for new construction or renovations"},{name:"Schedule Inspection",url:"/bd/inspections",description:"Schedule building inspections for code compliance"},{name:"Contractor License",url:"/bd/contractors",description:"Apply for or verify contractor licenses"},{name:"Building Codes",url:"/bd/codes",description:"View building code requirements and regulations"}],hours:"Mon-Fri 8AM-5PM. Online permit applications available 24/7",contact:"Visit Buildings Department office or submit applications online"},{id:"cr",name:"Companies Registry",abbrev:"CR",url:"/cr",keywords:["company","business","incorporation","register","corporate","llc","corporation","business registration","company search","annual filing","articles of incorporation"],description:"Business incorporation, company registration, and corporate filing services.",services:["Company Registration - incorporate new businesses","Annual Filings - submit required corporate documents","Company Search - lookup registered businesses","Document Retrieval - access corporate records","Name Reservation - reserve business names","Business Entity Changes - amendments and updates","Dissolution Services - wind up companies"],subPages:[{name:"Register Company",url:"/cr/register",description:"Incorporate a new business or register a company"},{name:"Company Search",url:"/cr/search",description:"Look up registered businesses and access corporate records"},{name:"Annual Filings",url:"/cr/filings",description:"Submit required annual corporate documents"},{name:"Name Reservation",url:"/cr/name",description:"Reserve a business name before incorporation"}],hours:"Mon-Fri 8AM-5PM. Online registration available 24/7",contact:"Register online or visit Companies Registry office"},{id:"swd",name:"Social Welfare Department",abbrev:"SWD",url:"/swd",keywords:["social","welfare","benefits","assistance","family","elderly","disability","support","care","subsidy","allowance","social services"],description:"Social benefits, family services, elderly care, and support for vulnerable citizens.",services:["Social Benefits - apply for financial assistance","Family Services - family support programs","Elderly Care - senior citizen programs","Disability Support - services for disabled citizens","Child Welfare Services","Community Care Programs","Emergency Assistance"],subPages:[{name:"Apply for Benefits",url:"/swd/benefits",description:"Apply for social benefits and financial assistance"},{name:"Family Services",url:"/swd/family",description:"Family support programs and child welfare services"},{name:"Elderly Care",url:"/swd/elderly",description:"Senior citizen programs and elderly care services"},{name:"Disability Support",url:"/swd/disability",description:"Services and support for disabled citizens"}],hours:"Mon-Fri 8AM-5PM. Emergency services available 24/7",contact:"Visit SWD office or call hotline for assistance"},{id:"air-quality",name:"Air Quality Monitoring",abbrev:"AQI",url:"/air-quality",keywords:["air","quality","aqi","pollution","pm2.5","pm10","ozone","pollutants","health","monitoring","alerts","respiratory","asthma","outdoor","mask","smog"],description:"Real-time air quality monitoring and health guidance for all regions of Praya with 87 monitoring stations nationwide.",services:["Real-time AQI Readings - Updated hourly across 87 monitoring stations","Air Quality Scale Reference - Understand what AQI levels (0-500) mean for health","Pollutant Information - PM2.5, PM10, Ozone, NO2, SO2, CO monitoring and health effects","Regional Monitoring Network - Check air quality in all 6 regions of Praya","Health Protection Tips - Masks, activity timing, outdoor worker guidance","Alert System - Mobile app, SMS, email, and emergency broadcasts","Historical Data - Air quality trends and annual statistics"],subPages:[{name:"Current AQI",url:"/air-quality#current",description:"Check current AQI levels and regional status"},{name:"Understanding Pollutants",url:"/air-quality#pollutants",description:"Learn about PM2.5, PM10, Ozone, NO2, SO2, and CO"},{name:"Health Protection Guide",url:"/air-quality#health",description:"Tips for reducing air pollution exposure and protecting health"},{name:"Alerts & Notifications",url:"/air-quality#alerts",description:"Sign up for mobile, SMS, email, and emergency broadcasts"}],statistics:{monitoringStations:87,regionsMonitored:6,goodDaysThisYear:312,updateFrequency:"Hourly"},aqiScale:{good:"0-50: Good - Air quality is satisfactory",moderate:"51-100: Moderate - Acceptable for most, sensitive groups may experience effects",unhealthySensitive:"101-150: Unhealthy for Sensitive Groups - Children, elderly, respiratory issues affected",unhealthy:"151-200: Unhealthy - Everyone may experience health effects",veryUnhealthy:"201-300: Very Unhealthy - Health warnings, everyone affected",hazardous:"301-500: Hazardous - Emergency conditions, stay indoors"},hours:"Monitoring: 24/7 | Web Access: 24/7",contact:"Air Quality Portal: gov.praya/air-quality | Mobile App: Praya Air (iOS/Android) | SMS Alerts: Text AQI to 311"},{id:"national-security",name:"National Security & Civil Defense",abbrev:"NS",url:"/national-security",keywords:["security","threat","level","emergency","civil defense","preparedness","shelter","alert","evacuation","911","disaster","safety","critical","elevated","enhanced","guarded"],description:"National Security Alert Level system and civil defense information for emergency preparedness and public safety.",services:["National Security Level System - 5 threat levels with guidance (Critical to Low)","Emergency Preparedness Kit Checklist - Essential supplies (water, food, first aid)","Emergency Contacts Directory - 911, Civil Defense: 1-800-DEFEND, NPA: 1-800-NPA-HELP","Public Shelter System - 247 locations accessible during Level 1-2 alerts","Communication Planning - Out-of-area contacts, family meeting points, emergency alerts","Alert Types - Natural Disaster, Security Threat, Public Health, Infrastructure","Alert Channels - Emergency Alert System, Social Media, Emergency Radio (97.5 FM, 1240 AM)"],subPages:[{name:"Security Level Scale",url:"/national-security#levels",description:"Understand Level 1 (Critical) through Level 5 (Low) and recommended actions"},{name:"Preparedness Guide",url:"/national-security#preparedness",description:"Emergency kit, contacts, shelters, and communication planning"},{name:"Emergency Alerts",url:"/national-security#alerts",description:"Types of alerts and how to receive notifications"},{name:"Stay Informed",url:"/national-security#informed",description:"Emergency Alert System, social media, and radio broadcasts"}],securityLevels:{level1:"Critical (Red) - Imminent threat, follow all emergency instructions immediately",level2:"Elevated (Orange) - High threat, increased vigilance required, prepare to evacuate",level3:"Enhanced (Yellow) - Significant threat, heightened awareness, review emergency plans",level4:"Guarded (Blue) - General threat, standard precautions, stay informed",level5:"Low (Green) - Minimal threat, routine security measures, normal activities"},statistics:{publicShelters:247,alertChannels:4,lastUpdate:"Real-time monitoring"},hours:"Monitoring: 24/7 | Civil Defense Hotline: 24/7",contact:"Emergency: 911 | Civil Defense: 1-800-DEFEND | NPA: 1-800-NPA-HELP | Fire & Rescue: 1-800-FIRE-PY"}],P=[/\bf+u+c+k+/i,/\bs+h+i+t+/i,/\ba+s+s+h+o+l+e+/i,/\bb+i+t+c+h+/i,/\bd+a+m+n+/i,/\bc+r+a+p+/i,/\bp+i+s+s+/i,/\bb+a+s+t+a+r+d+/i,/\bh+e+l+l+/i,/\bd+u+m+b+a+s+s+/i,/\bd+i+c+k+/i,/\bc+u+n+t+/i];function H(n){return P.some(e=>e.test(n))}function _(n){const e=n.toLowerCase().trim();if(e.length<=2&&!["hi","ok","no","id"].includes(e)||/(.)\1{5,}/.test(e))return!0;const i=(e.match(/[aeiou]/g)||[]).length,t=(e.match(/[bcdfghjklmnpqrstvwxyz]/g)||[]).length,a=i+t;return a>5&&i/a<.15||e.length>15&&!e.includes(" ")&&(e.match(/[^a-z0-9\s]/g)||[]).length/e.length>.3}function L(){const n=[{keywords:["hello","hi","hey","good morning","good afternoon","good evening","greetings","howdy","sup","yo","hola","aloha","heya","hiya","whats up","what's up","wassup","hi there","hey there","hello there","good day","g'day"],response:`Hello! Welcome to Praya Citizen Services. I'm here to help you with any government service you need.

Popular services:
â€¢ **IDs & Passports** - Apply, renew, or replace
â€¢ **Taxes** - File returns, make payments, check refunds
â€¢ **Police Services** - Report crimes, get clearances
â€¢ **Driver's License** - New, renewal, or tests

What can I help you with today?`},{keywords:["bye","goodbye","good bye","see you","see ya","later","farewell","take care","cya","catch you later","gotta go","have to go","leaving","talk to you later","ttyl","peace","adios","ciao"],response:"Thank you for using Praya Citizen Services! If you need any assistance in the future, I'll be right here. Have a great day!"},{keywords:["sorry","apologize","my bad","my mistake","oops","excuse me","pardon","forgive me","apologies"],response:"No problem at all! Don't worry about it. How can I help you with government services today?"},{keywords:["thank","thanks","appreciate","thank you","thx","ty","tysm","thank u","much appreciated","grateful","gracias"],response:"You're welcome! Is there anything else I can help you with regarding government services?"},{keywords:["great","awesome","excellent","perfect","amazing","wonderful","fantastic","brilliant","helpful","you are good","youre good","good job","well done","nice","love it","love this"],response:"I'm glad I could help! That's what I'm here for. Is there anything else you'd like to know about government services?"},{keywords:["yes","yeah","yep","yup","sure","ok","okay","alright","all right","sounds good","agreed","correct","right","uh huh","mhm"],response:"Great! What would you like to know more about? I can help with taxes, IDs, police services, healthcare, housing, postal services, and more."},{keywords:["no","nope","nah","not really","no thanks","no thank you","i'm good","im good","that's all","thats all","nothing","nevermind","never mind"],response:"Alright! If you need anything later, just let me know. I'm here 24/7 to help with Praya government services."},{keywords:["confused","confusing","don't understand","dont understand","unclear","what do you mean","huh","wdym","explain","clarify","i don't get it","lost","not sure"],response:`I understand this can be confusing! Let me help clarify. Could you tell me specifically what service or information you're looking for? For example:
â€¢ Getting an ID or passport
â€¢ Filing taxes
â€¢ Police services
â€¢ Healthcare
â€¢ Housing assistance

What would you like to know more about?`},{keywords:["who are you","what are you","are you human","are you real","are you a bot","are you ai","chatbot","robot","your name","introduce yourself"],response:"I'm the Praya Citizen Services Assistant, an AI-powered chatbot designed to help you navigate government services! I can answer questions about taxes, IDs, police services, healthcare, housing, and more. While I'm not human, I'm here 24/7 to provide accurate information about Praya government services. How can I help you today?"},{keywords:["how are you","how are you doing","how do you do","hows it going","how's it going","how are things","whats new","what's new","you good","you ok"],response:"I'm doing great, thank you for asking! I'm always ready to help citizens with government services. How can I assist you today?"},{keywords:["frustrated","frustrating","annoying","annoyed","irritated","mad","angry","this sucks","hate this","terrible","awful","worst","ugh"],response:"I understand your frustration, and I'm here to help make things easier. Government processes can be complex, but I'll do my best to guide you through. What specific issue are you dealing with? Let me see if I can provide clear information or direct you to the right department."},{keywords:["joke","funny","make me laugh","tell me a joke","humor","laugh","entertain me","boring"],response:"I appreciate the lighter mood! While I'm better at government services than comedy, I can tell you this: navigating bureaucracy doesn't have to be painful when you have the right information. Speaking of which, how can I help you with Praya services today? ðŸ˜Š"},{keywords:["weather","temperature","hot","cold","raining","sunny","forecast","climate"],response:"I don't have access to weather information, but you can check the current air quality index on the main portal (currently showing in the stats section). For detailed weather forecasts, you might want to check a dedicated weather service. Is there anything related to government services I can help you with?"},{keywords:["what time","current time","time is it","what day","today","date","calendar"],response:"I don't have access to real-time clock information, but your device should show you the current time and date. If you need information about government office hours or deadlines, I'd be happy to help with that! What service are you interested in?"},{keywords:["can you","are you able","do you know","capabilities","what can you do","your abilities","functions"],response:`I specialize in providing information about Praya government services! I can help you with:
â€¢ Finding the right department for your needs
â€¢ Office hours and contact information
â€¢ Service requirements and fees
â€¢ Application processes
â€¢ General government service questions

What would you like to know about?`},{keywords:["help","services","options","menu","assist","support","info","information","guide","start"],response:`I can help you with information about:
â€¢ Taxes & Revenue (RD, CTB)
â€¢ IDs & Documents (Interior, Transport)
â€¢ Police & Justice (NPA, DOJ)
â€¢ Banking (BOP)
â€¢ Customs & Border (CBCA)
â€¢ Health Services
â€¢ Housing Authority
â€¢ Postal Services
â€¢ Legislative Council
â€¢ PrayaPass Account Help

Just ask me a question about any of these services!`},{keywords:["hours","open","closed","business hours","schedule","when","time","available","opening"],response:`Most government offices are open Monday-Friday, 8AM-5PM. Some services vary:
â€¢ Post Offices: Mon-Fri 8AM-6PM, Sat 9AM-1PM
â€¢ Emergency Services (Police, Health): 24/7
â€¢ Border Crossings: 24/7
â€¢ Online Services: Available 24/7

For specific office hours, please check the department's page or call ahead.`},{keywords:["wait","hold on","one moment","one sec","give me a sec","just a moment","hang on","brb","be right back"],response:"No problem! Take your time. I'll be here whenever you're ready to continue."},{keywords:["ready","im back","i'm back","here","back","still there","you there"],response:"Great, I'm here! How can I help you with government services?"},{keywords:["how old are you","your age","when were you born","where are you from","where do you live","location"],response:"I'm an AI assistant, so I don't have an age or physical location! I exist in the digital space to help Praya citizens 24/7. What government service can I help you with today?"},{keywords:["test","testing","is this working","are you working","hello world","check"],response:"Yes, I'm working perfectly! The chat system is functioning normally. How can I help you with Praya government services?"},{keywords:["repeat","say that again","what","come again","pardon","one more time","didnt catch that","didn't catch that"],response:`I apologize if my previous response wasn't clear. Could you please let me know what specific information you need? I can help with:
â€¢ Government departments and services
â€¢ Office hours and locations
â€¢ Application requirements
â€¢ Fees and costs
â€¢ Contact information

What would you like to know more about?`},{keywords:["too fast","too slow","slow down","speed up"],response:"I'll do my best to provide information at a comfortable pace. Is there something specific you'd like me to explain about government services?"},{keywords:["good","cool","interesting","informative","useful","handy","neat"],response:"I'm glad you find this helpful! Feel free to ask if you need any more information about government services."},{keywords:["agent","human","person","representative","speak to someone","talk to agent","live agent","customer service","support agent","real person","operator"],response:`Agent currently unavailable. I'm an AI assistant here to help you find information about Praya government services. For direct assistance, you can:
â€¢ Call the relevant department directly
â€¢ Visit an office during business hours
â€¢ Use online portals for specific services

I can help you find the right contact information or service. What do you need help with?`},{keywords:["what is praya","where is praya","praya country","republic of praya","about praya","praya location","praya population","tell me about praya"],response:"The Republic of Praya is a nation of 2.4 million citizens with a modern, digital-first government. We offer 127 online services available 24/7 across 12 major departments. Our government is committed to transparency, efficiency, and accessibility through technology. How can I help you access our services?"},{keywords:["president","prime minister","leader","who runs","government leader","elected","politics"],response:"For information about Praya's government structure and elected officials, please visit the Legislative Council portal. The Legislative Council is our unicameral legislature responsible for lawmaking and oversight. You can view current council members and their voting records there. Is there a specific government service I can help you with?"},{keywords:["i love you","love you","i like you","you rock","youre the best","you're the best","best bot"],response:"That's very kind of you! I'm here to serve the citizens of Praya. Is there anything specific I can help you with today regarding government services?"},{keywords:["i hate you","you suck","useless","not helpful","waste of time","you're bad"],response:`I'm sorry I haven't been helpful. Let me try to assist you better. Could you tell me specifically what you're trying to accomplish? I can:
â€¢ Direct you to the right department
â€¢ Provide contact information
â€¢ Explain requirements for services
â€¢ Answer questions about fees and processes

What do you need help with?`},{keywords:["bored","entertain","fun","play","game"],response:"While I'm designed for government service information rather than entertainment, I'm happy to help you discover interesting services! Did you know Praya has 12 major departments offering everything from cannabis licensing to national park information? What would you like to explore?"},{keywords:["smart","intelligent","clever","genius","impressive"],response:"Thank you! I'm designed to help make government services more accessible. Is there something specific you'd like to know about Praya services?"},{keywords:["dumb","stupid","idiot","moron"],response:"I apologize if I'm not understanding your needs correctly. Could you please rephrase what you're looking for? I want to make sure I provide you with the right information about government services."},{keywords:["good night","goodnight","night"],response:"Good night! Remember, I'm available 24/7 if you need help with government services. Sleep well!"},{keywords:["quick question","fast","urgent","asap","right now","immediately","hurry"],response:"I'll help you as quickly as possible! What do you need to know? If this is a true emergency (life-threatening, crime in progress), please call 911 immediately."},{keywords:["recommend","suggestion","what should i","advice","should i"],response:`I can provide information about government services, but the best choice depends on your specific needs. Could you tell me what you're trying to accomplish? For example:
â€¢ Getting official documents
â€¢ Filing taxes
â€¢ Reporting an issue
â€¢ Applying for benefits
â€¢ Finding legal assistance`},{keywords:["already tried","tried that","doesn't work","didnt work","not working","still broken","same problem"],response:`I understand you've already attempted a solution. For technical issues with online services or persistent problems, I recommend:
â€¢ Contacting the specific department directly during business hours
â€¢ Visiting an office in person with proper documentation
â€¢ Checking the service status on the department's portal

Which department or service are you having trouble with? I can provide direct contact information.`},{keywords:["login","account","prayapass","password","register","sign up","forgot password","create account","sign in","log in"],response:"PrayaPass is your unified government account for accessing online services. To create an account, click 'Register' and follow the steps. Forgot your password? Use the 'Forgot Password' link on the login page. For account security issues, contact PrayaPass support or visit any government office with valid ID."},{keywords:["emergency","911","urgent","crisis","danger","help me"],response:`**For emergencies, please call 911 immediately.**

911 handles:
â€¢ Life-threatening medical situations
â€¢ Crimes in progress
â€¢ Fire emergencies
â€¢ Missing children
â€¢ Immediate danger

For non-emergencies, call 311.

If this is not an emergency, I can help you find information about government services. What do you need?`},{keywords:["complaint","complain","report problem","issue","dissatisfied","unhappy","bad service","poor service"],response:`I'm sorry to hear you're experiencing issues. To file a formal complaint:

â€¢ **General complaints**: Contact the specific department directly
â€¢ **Service quality**: Use the feedback form on the department's page
â€¢ **Serious misconduct**: Contact the Department of Justice
â€¢ **PrayaPass issues**: Contact support via your account dashboard

Would you like me to help you find the right department's contact information?`},{keywords:["cost","fee","price","how much","pay","payment","charge","expensive"],response:`Service fees vary by department and service type. Common fees include:

â€¢ **National ID**: Â¤25 (new), Â¤15 (renewal)
â€¢ **Passport**: Â¤80 (standard), Â¤150 (expedited)
â€¢ **Driver's License**: Â¤45 (new), Â¤30 (renewal)
â€¢ **Birth Certificate**: Â¤10
â€¢ **Police Clearance**: Â¤20

For specific fee information, please specify which service you need, or visit the relevant department's page.`},{keywords:["language","translate","spanish","french","chinese","other language","english","interpretation"],response:`Government services in Praya are primarily offered in English. For language assistance:

â€¢ Many offices have multilingual staff
â€¢ Translation services available for documents (fees may apply)
â€¢ Interpretation available for in-person visits at major offices
â€¢ Contact the specific department to arrange language support

Which department do you need language assistance with?`},{keywords:["appointment","schedule","book","reservation","meet","visit","walk-in"],response:`**Appointments** can be scheduled for most government services:

â€¢ **Online booking**: Available through PrayaPass for most departments
â€¢ **Phone booking**: Call the department directly
â€¢ **Walk-ins**: Accepted at most locations but may have longer wait times

Popular services that benefit from appointments:
â€¢ Driver's license testing (Transport Dept)
â€¢ Passport applications (Interior Dept)
â€¢ Business consultations (Revenue Dept)

Which service would you like to book?`},{keywords:["disabled","disability","accessibility","wheelchair","accessible","accommodation","special needs"],response:`All Praya government facilities are **ADA-compliant** and accessible:

â€¢ Wheelchair ramps and elevators
â€¢ Accessible parking spaces
â€¢ Sign language interpreters (request in advance)
â€¢ Alternative format documents
â€¢ Priority service windows

For specific accommodations, contact the department at least 48 hours before your visit. How can I help you access services?`}],e=v.map(i=>({keywords:i.keywords,response:I(i)}));return[...n,...e]}function I(n){let e=`**${n.name} (${n.abbrev})**

${n.description}

`;return n.url&&(e+=`**Visit:** [${n.name} Portal](${n.url})

`),n.services&&n.services.length>0&&(e+=`**Services:**
`,n.services.slice(0,5).forEach(i=>{e+=`â€¢ ${i}
`}),n.services.length>5&&(e+=`â€¢ ...and ${n.services.length-5} more services
`),e+=`
`),n.subPages&&n.subPages.length>0&&(e+=`**Quick Links:**
`,n.subPages.slice(0,4).forEach(i=>{e+=`â€¢ [${i.name}](${i.url}) - ${i.description}
`}),e+=`
`),n.hours&&(e+=`**Hours:** ${n.hours}
`),n.contact&&(e+=`**Contact:** ${n.contact}
`),n.responseInfo&&(e+=`
${n.responseInfo}`),e.trim()}function C(n,e){if(n.length===0)return e.length;if(e.length===0)return n.length;const i=[];for(let t=0;t<=e.length;t++)i[t]=[t];for(let t=0;t<=n.length;t++)i[0][t]=t;for(let t=1;t<=e.length;t++)for(let a=1;a<=n.length;a++)e.charAt(t-1)===n.charAt(a-1)?i[t][a]=i[t-1][a-1]:i[t][a]=Math.min(i[t-1][a-1]+1,i[t][a-1]+1,i[t-1][a]+1);return i[e.length][n.length]}function F(n,e,i=2){if(!n||!e)return!1;const t=n.toLowerCase(),a=e.toLowerCase();return t===a?!0:Math.abs(t.length-a.length)>i?!1:C(t,a)<=i}const m={id:["identification","identity","id card","national id","ident"],passport:["travel document","travel papers"],license:["licence","permit","certification"],certificate:["cert","certification","document"],apply:["get","obtain","request","need","want","acquire","file for","submit"],renew:["extend","update","refresh","reapply"],replace:["reissue","get new","lost","stolen","damaged"],track:["check","find","locate","lookup","look up","follow","trace","status"],file:["submit","lodge","send","report","declare"],pay:["settle","remit","submit payment","make payment"],tax:["taxes","taxation","revenue","irs","income tax","duty"],police:["cops","law enforcement","authorities","officers","npa"],bank:["banking","financial","bop","savings","money"],court:["legal","lawsuit","litigation","judicial","justice"],health:["medical","healthcare","hospital","clinic","doctor"],housing:["home","apartment","residence","dwelling","property","rent"],mail:["post","postal","package","parcel","shipping","delivery"],driver:["driving","drivers","driver's","driveing"],vehicle:["car","automobile","auto","truck","motorcycle","motorbike"],cannabis:["marijuana","weed","pot","dispensary"],customs:["border","import","export","cbca"],status:["progress","update","where is","check on"],how:["what way","method","process","steps"],where:["location","place","which office"],when:["what time","hours","schedule"],cost:["fee","price","charge","how much","payment amount"],governement:["government"],goverment:["government"],licence:["license"],licences:["licenses"],passaport:["passport"],pasport:["passport"],registeration:["registration"],regestration:["registration"],certficate:["certificate"],certificat:["certificate"],insurence:["insurance"],insuranse:["insurance"],emergancy:["emergency"],emergeny:["emergency"],vehical:["vehicle"],vehicel:["vehicle"],acount:["account"],acconut:["account"],refund:["rebate","return","reimbursement"],complain:["complaint","grievance","issue","problem"]};function x(n){if(!n||n.length<4)return n;let e=n.toLowerCase();const i=[{suffix:"ation",replacement:""},{suffix:"tion",replacement:""},{suffix:"sion",replacement:""},{suffix:"ment",replacement:""},{suffix:"ness",replacement:""},{suffix:"ity",replacement:""},{suffix:"ing",replacement:""},{suffix:"ings",replacement:""},{suffix:"ed",replacement:""},{suffix:"es",replacement:""},{suffix:"s",replacement:""},{suffix:"ly",replacement:""},{suffix:"ful",replacement:""},{suffix:"less",replacement:""},{suffix:"able",replacement:""},{suffix:"ible",replacement:""},{suffix:"er",replacement:""},{suffix:"or",replacement:""},{suffix:"ist",replacement:""}];for(const{suffix:t,replacement:a}of i)if(e.endsWith(t)&&e.length>t.length+2)return e.slice(0,-t.length)+a;return e}function M(n){const e=n.toLowerCase().split(/\s+/),i=new Set(e);for(const t of e){m[t]&&m[t].forEach(s=>i.add(s));for(const[s,o]of Object.entries(m))o.includes(t)&&i.add(s);const a=x(t);a!==t&&i.add(a)}return Array.from(i)}function g(n){const e=[],i=n.toLowerCase(),t={police:/police|crime|report|emergency|911|theft|assault|clearance/,banking:/bank|account|loan|mortgage|savings|checking/,taxes:/tax|refund|file|revenue|income|business tax/,identity:/id|identification|passport|birth certificate|documents/,transport:/driver|license|vehicle|registration|car|motorcycle/,health:/health|insurance|vaccination|medical|hospital/,housing:/housing|rent|apartment|landlord|tenant|eviction/,postal:/mail|package|shipping|tracking|post office/,cannabis:/cannabis|marijuana|dispensary|cultivation/,customs:/customs|border|import|export|travel|visa/,legal:/court|legal|lawsuit|attorney|lawyer|case/,legislative:/representative|bill|legislation|council|vote/};for(const[a,s]of Object.entries(t))s.test(i)&&e.push(a);return e}const w={reportCrime:{patterns:[/report (a |an )?crime/i,/file (a )?police report/i,/report (a )?(theft|robbery|assault|break.?in|burglary|vandalism)/i,/stolen/i,/been robbed/i,/want to report/i,/someone broke in/i,/my (car|bike|property|wallet|phone|purse|bag|laptop|computer) was (stolen|taken|snatched)/i,/i was (mugged|attacked|assaulted|robbed)/i,/witness(ed)? (a )?crime/i,/someone stole/i,/got robbed/i,/house was broken into/i,/car break.?in/i,/lost.*property/i,/fraud(ulent)?/i,/scam(med)?/i,/identity theft/i,/someone hit my car/i,/vandal/i,/graffiti/i],response:"I can help you file a police report. Let me guide you through the National Police Agency process.",action:"routeToNPA",followUp:{question:"What type of incident would you like to report?",options:[{label:"Theft (under Â¤2,500)",value:"theft_minor"},{label:"Theft (over Â¤2,500)",value:"theft_major"},{label:"Vandalism/Property Damage",value:"vandalism"},{label:"Assault/Violence",value:"assault"},{label:"Other Crime",value:"other_crime"}]},department:"npa"},checkCrimeStatus:{patterns:[/check.*(report|case) status/i,/where.*my.*report/i,/track.*case/i,/case number/i,/status of my (police )?report/i,/update on my case/i,/follow up.*(case|report)/i,/what happened.*(case|report)/i],response:"I can help you check your report status. Do you have your case number?",action:"getCaseNumber",requiresEntity:"caseNumber",followUp:{question:"Please provide your case number (format: NPA-XXXXXX) or select an option:",options:[{label:"I have my case number",value:"has_case_number"},{label:"I don't have my case number",value:"no_case_number"},{label:"Find my case number",value:"find_case_number"}]},department:"npa"},emergencyServices:{patterns:[/emergency/i,/911/i,/someone.*(hurt|injured|dying)/i,/crime.*(happening|in progress)/i,/need (police|ambulance|fire) (now|immediately)/i,/life threatening/i,/missing (child|person)/i],response:`**EMERGENCY: Call 911 immediately**

911 handles:
- Life-threatening situations
- Crimes in progress
- Fire emergencies
- Missing children
- Immediate danger

For non-emergencies, call 311.

Is this a current emergency?`,action:"emergencyAlert",priority:"high",department:"npa"},policeClearance:{patterns:[/police clearance/i,/background check/i,/criminal (record|history) check/i,/clearance certificate/i,/need.*(clearance|background)/i],response:"I can help you obtain a Police Clearance Certificate from the National Police Agency.",action:"routeToNPA",followUp:{question:"What do you need the clearance for?",options:[{label:"Employment",value:"clearance_employment"},{label:"Immigration/Visa",value:"clearance_immigration"},{label:"Professional License",value:"clearance_license"},{label:"Other Purpose",value:"clearance_other"}]},details:`**Police Clearance Certificates**
- Processing time: 3 business days
- Fee: Â¤20
- Covers: Criminal history, open warrants
- Required: Valid ID, completed application`,department:"npa"},openAccount:{patterns:[/open (a |an )?account/i,/new (bank )?account/i,/sign up.*(bank|banking)/i,/become.*(bank )?customer/i,/start.*banking/i,/create.*(bank )?account/i,/get.*bank account/i],response:"I can help you open a Bank of Praya account. What type of account are you interested in?",action:"routeToBank",followUp:{question:"Please select the type of account you'd like to open:",options:[{label:"Personal Savings Account",value:"savings_personal"},{label:"Personal Checking Account",value:"checking_personal"},{label:"Business Account",value:"business_account"},{label:"Joint Account",value:"joint_account"}]},department:"bop"},loanInquiry:{patterns:[/apply.*(loan|mortgage)/i,/(need|want|get) (a )?loan/i,/mortgage (application|info|rate)/i,/borrow money/i,/financing options/i,/home loan/i,/business loan/i],response:"I can provide information about Bank of Praya loan services.",action:"routeToBank",followUp:{question:"What type of loan are you interested in?",options:[{label:"Home Mortgage",value:"loan_mortgage"},{label:"Personal Loan",value:"loan_personal"},{label:"Business Loan",value:"loan_business"},{label:"Auto Loan",value:"loan_auto"}]},details:`**Bank of Praya Loans**
- Schedule an appointment with a financial advisor
- Bring: ID, proof of income, financial statements
- Pre-approval available online`,department:"bop"},fileTaxes:{patterns:[/file (my )?taxes/i,/tax return/i,/income tax/i,/tax declaration/i,/submit.*(tax|return)/i,/do my taxes/i,/tax filing/i,/how.*file.*tax/i,/when.*file.*tax/i,/tax.*deadline/i,/tax.*due/i,/w-?2/i,/1099/i,/tax.*form/i,/annual.*tax/i,/yearly.*tax/i,/tax.*season/i,/prepare.*tax/i,/tax.*preparation/i,/e-?file/i,/electronic.*tax/i,/online.*tax/i,/self.*employed.*tax/i,/freelancer.*tax/i,/small.*business.*tax/i],response:"I can guide you through filing your taxes with the Revenue Department.",action:"routeToRevenue",followUp:{question:"Are you filing as an individual or business?",options:[{label:"Individual Tax Return",value:"tax_individual"},{label:"Business Tax Return",value:"tax_business"},{label:"Self-Employment",value:"tax_selfemployed"},{label:"I need help deciding",value:"tax_help"}]},department:"revenue"},taxPayment:{patterns:[/pay (my )?taxes/i,/tax payment/i,/owe taxes/i,/tax bill/i,/tax balance/i,/how much.*owe.*tax/i],response:"I can help you with tax payments to the Revenue Department.",action:"routeToRevenue",followUp:{question:"What would you like to do?",options:[{label:"Make a payment",value:"tax_pay"},{label:"Check balance owed",value:"tax_balance"},{label:"Set up payment plan",value:"tax_plan"},{label:"Request extension",value:"tax_extension"}]},details:`**Tax Payments**
- Online payments through PrayaPass
- Payment plans available for balances over Â¤500
- Late payment penalties: 1% per month`,department:"revenue"},taxRefund:{patterns:[/tax refund/i,/refund status/i,/where.*my refund/i,/when.*refund/i,/track.*refund/i],response:"I can help you check on your tax refund status.",action:"routeToRevenue",followUp:{question:"Do you have your tax return reference number?",options:[{label:"Yes, check refund status",value:"refund_check"},{label:"No, I need to find it",value:"refund_find"},{label:"Report missing refund",value:"refund_missing"}]},details:`**Refund Processing Times**
- E-filed returns: 10-14 business days
- Paper returns: 6-8 weeks
- Direct deposit is fastest`,department:"revenue"},applyId:{patterns:[/apply.*(national )?id/i,/get (a |an )?(new )?id( card)?/i,/need (a )?new id/i,/id (card )?application/i,/national id/i,/identification card/i,/replace.*id/i,/lost.*id/i,/id.*expired/i,/renew.*id/i,/update.*id/i,/change.*address.*id/i,/id.*stolen/i,/damaged.*id/i,/how.*(get|apply|obtain).*id/i,/where.*get.*id/i,/state id/i,/government id/i],response:"I can help you apply for a National ID through the Interior Department.",action:"routeToInterior",followUp:{question:"Is this a new application or renewal?",options:[{label:"New ID (First Time)",value:"id_new"},{label:"Renewal",value:"id_renew"},{label:"Replacement (Lost/Stolen)",value:"id_replace"},{label:"Update Information",value:"id_update"}]},details:`**National ID**
- Fee: Â¤25 (new), Â¤15 (renewal)
- Processing: 5-7 business days
- Required: Birth certificate, photo, proof of address`,department:"interior"},applyPassport:{patterns:[/apply.*(for )?(a )?passport/i,/get (a )?passport/i,/need (a )?passport/i,/passport (application|renewal)/i,/renew.*passport/i,/new passport/i,/passport.*expired/i,/lost.*passport/i,/passport.*stolen/i,/replace.*passport/i,/damaged.*passport/i,/update.*passport/i,/how.*get.*passport/i,/where.*apply.*passport/i,/passport.*photo/i,/expedited.*passport/i,/rush.*passport/i,/urgent.*passport/i,/passport.*pages/i,/passport.*travel/i,/international.*travel.*document/i],response:"I can help you with passport services through the Interior Department.",action:"routeToInterior",followUp:{question:"What do you need?",options:[{label:"New Passport",value:"passport_new"},{label:"Passport Renewal",value:"passport_renew"},{label:"Replacement (Lost/Stolen)",value:"passport_replace"},{label:"Add Pages",value:"passport_pages"},{label:"Expedited Service",value:"passport_expedited"}]},details:`**Passport Services**
- Standard: Â¤80, 10-14 days
- Expedited: Â¤150, 3-5 days
- Required: National ID, photo, application form`,department:"interior"},birthCertificate:{patterns:[/birth certificate/i,/certificate of birth/i,/register.*birth/i,/newborn registration/i],response:"I can help you with birth certificate services.",action:"routeToInterior",followUp:{question:"What do you need?",options:[{label:"Request Certified Copy",value:"birth_copy"},{label:"Register a Birth",value:"birth_register"},{label:"Correct Information",value:"birth_correct"}]},details:`**Birth Certificates**
- Fee: Â¤10 per certified copy
- Processing: 3-5 business days
- New births must be registered within 30 days`,department:"interior"},driverLicense:{patterns:[/driver('s)? license/i,/driving license/i,/get.*(driver|driving) (license|licence)/i,/renew.*(driver|license)/i,/learner('s)? permit/i,/driving test/i,/dmv/i,/license.*expired/i,/lost.*license/i,/replace.*license/i,/update.*license/i,/change.*address.*license/i,/license.*stolen/i,/how.*get.*license/i,/schedule.*driving.*test/i,/road test/i,/written test/i,/license.*photo/i,/license.*points/i,/suspended.*license/i,/revoked.*license/i,/international.*license/i,/motorcycle.*license/i,/commercial.*license/i,/cdl/i,/learn.*to.*drive/i,/first.*license/i,/new.*driver/i,/provisional.*license/i],response:"I can help you with driver's license services through the Transport Department.",action:"routeToTransport",followUp:{question:"What do you need?",options:[{label:"New License",value:"license_new"},{label:"Renewal",value:"license_renew"},{label:"Replacement",value:"license_replace"},{label:"Schedule Driving Test",value:"license_test"},{label:"Commercial License (CDL)",value:"license_cdl"}]},details:`**Driver's License**
- Fee: Â¤45 (new), Â¤30 (renewal)
- Valid for 5 years
- Required: ID, vision test, written/road test (new only)`,department:"transport"},vehicleRegistration:{patterns:[/register.*(car|vehicle|motorcycle)/i,/vehicle registration/i,/car registration/i,/renew.*registration/i,/license plate/i,/title transfer/i],response:"I can help you with vehicle registration through the Transport Department.",action:"routeToTransport",followUp:{question:"What do you need?",options:[{label:"New Vehicle Registration",value:"vehicle_new"},{label:"Registration Renewal",value:"vehicle_renew"},{label:"Title Transfer",value:"vehicle_transfer"},{label:"Replace Lost Plates/Docs",value:"vehicle_replace"}]},department:"transport"},healthInsurance:{patterns:[/health insurance/i,/medical insurance/i,/national health/i,/enroll.*health/i,/health coverage/i,/insurance card/i],response:"I can help you with National Health Insurance through the Health Department.",action:"routeToHealth",followUp:{question:"What do you need help with?",options:[{label:"Enroll in Insurance",value:"health_enroll"},{label:"Update Coverage",value:"health_update"},{label:"Request Insurance Card",value:"health_card"},{label:"Find a Provider",value:"health_provider"}]},department:"health"},vaccination:{patterns:[/vaccin(e|ation)/i,/immuniz(e|ation)/i,/get.*shot/i,/flu shot/i,/vaccine schedule/i],response:"I can help you with vaccination services through the Health Department.",action:"routeToHealth",followUp:{question:"What do you need?",options:[{label:"Schedule Vaccination",value:"vaccine_schedule"},{label:"View Immunization Records",value:"vaccine_records"},{label:"Child Vaccinations",value:"vaccine_child"},{label:"Travel Vaccinations",value:"vaccine_travel"}]},department:"health"},housingApplication:{patterns:[/apply.*(housing|apartment)/i,/public housing/i,/affordable housing/i,/housing (assistance|help)/i,/need.*(house|housing|apartment)/i,/section 8/i,/rental assistance/i],response:"I can help you with housing services through the Housing Authority.",action:"routeToHousing",followUp:{question:"What type of assistance are you looking for?",options:[{label:"Public Housing Application",value:"housing_public"},{label:"Rental Assistance",value:"housing_rental"},{label:"Check Eligibility",value:"housing_eligibility"},{label:"Waitlist Status",value:"housing_waitlist"}]},details:`**Housing Programs**
- Income-based eligibility
- Apply through PrayaPass
- Waitlist times vary by region`,department:"housing"},tenantRights:{patterns:[/tenant rights/i,/landlord (issue|problem)/i,/eviction/i,/rent (increase|dispute)/i,/lease (question|issue)/i],response:"I can provide information about tenant rights and resources.",action:"routeToHousing",followUp:{question:"What issue are you dealing with?",options:[{label:"Eviction Notice",value:"tenant_eviction"},{label:"Rent Dispute",value:"tenant_rent"},{label:"Housing Conditions",value:"tenant_conditions"},{label:"General Rights Info",value:"tenant_rights"}]},department:"housing"},trackPackage:{patterns:[/track.*(package|parcel|shipment|mail)/i,/where.*my (package|order|delivery)/i,/package status/i,/delivery status/i,/tracking number/i],response:"I can help you track your package with Praya Post.",action:"routeToPost",requiresEntity:"trackingNumber",followUp:{question:"Do you have your tracking number?",options:[{label:"Yes, track my package",value:"track_yes"},{label:"No, I need help finding it",value:"track_no"},{label:"Report missing package",value:"track_missing"}]},department:"post"},shipPackage:{patterns:[/ship (a )?package/i,/send.*(package|parcel|mail)/i,/shipping rates/i,/mail.*(letter|package)/i,/postage (cost|rate)/i],response:"I can help you with Praya Post shipping services.",action:"routeToPost",followUp:{question:"What are you shipping?",options:[{label:"Domestic Package",value:"ship_domestic"},{label:"International Package",value:"ship_international"},{label:"Express/Overnight",value:"ship_express"},{label:"Letters/Documents",value:"ship_letter"}]},department:"post"},cannabisLicense:{patterns:[/cannabis (license|permit|business)/i,/dispensary (license|permit)/i,/cultivation (license|permit)/i,/marijuana (license|business)/i,/open.*dispensary/i,/grow.*cannabis/i],response:"I can help you with cannabis licensing through the Cannabis Tax Bureau.",action:"routeToCTB",followUp:{question:"What type of license are you interested in?",options:[{label:"Retail Dispensary",value:"cannabis_retail"},{label:"Commercial Cultivation",value:"cannabis_cultivation"},{label:"Personal Grow Permit",value:"cannabis_personal"},{label:"Processing/Manufacturing",value:"cannabis_processing"}]},department:"ctb"},importExport:{patterns:[/import.*(goods|product)/i,/export.*(goods|product)/i,/customs (declaration|duty|fee)/i,/bring.*(into|from) (praya|country)/i,/duty.?free/i,/international shipping/i],response:"I can help you with customs and import/export services.",action:"routeToCBCA",followUp:{question:"What do you need help with?",options:[{label:"Import Permit",value:"customs_import"},{label:"Export Permit",value:"customs_export"},{label:"Duty/Tariff Information",value:"customs_duty"},{label:"Prohibited Items List",value:"customs_prohibited"}]},department:"cbca"},travelRequirements:{patterns:[/travel (to|from) praya/i,/entry requirements/i,/visa (application|requirements)/i,/border crossing/i,/what.*bring.*border/i],response:"I can provide information about travel and entry requirements.",action:"routeToCBCA",followUp:{question:"What information do you need?",options:[{label:"Entry Requirements",value:"travel_entry"},{label:"Visa Information",value:"travel_visa"},{label:"What to Declare",value:"travel_declare"},{label:"Border Crossing Hours",value:"travel_hours"}]},department:"cbca"},courtCase:{patterns:[/court case/i,/lawsuit/i,/legal (case|matter|issue)/i,/sue someone/i,/being sued/i,/court date/i,/subpoena/i],response:"I can help you with court and legal services through the Department of Justice.",action:"routeToDOJ",followUp:{question:"What type of legal matter is this?",options:[{label:"Civil Case",value:"court_civil"},{label:"Criminal Case",value:"court_criminal"},{label:"Small Claims",value:"court_small"},{label:"Case Status Lookup",value:"court_lookup"}]},department:"doj"},legalAid:{patterns:[/legal (aid|help|assistance)/i,/public defender/i,/can't afford.*lawyer/i,/free.*lawyer/i,/need.*attorney/i,/legal representation/i],response:"I can provide information about legal aid services.",action:"routeToDOJ",followUp:{question:"What type of assistance do you need?",options:[{label:"Public Defender",value:"legal_public"},{label:"Civil Legal Aid",value:"legal_civil"},{label:"Check Eligibility",value:"legal_eligibility"},{label:"Find a Lawyer",value:"legal_find"}]},details:`**Legal Aid**
- Public Defender: For criminal cases, income-based
- Civil Legal Aid: For qualifying civil matters
- Contact DOJ for eligibility screening`,department:"doj"},findRepresentative:{patterns:[/find.*representative/i,/who.*my.*representative/i,/contact.*(representative|legislator|council)/i,/local representative/i],response:"I can help you find and contact your Legislative Council representative.",action:"routeToLC",followUp:{question:"How would you like to find your representative?",options:[{label:"Search by District",value:"rep_district"},{label:"Search by Name",value:"rep_name"},{label:"View All Members",value:"rep_all"}]},department:"lc"},billStatus:{patterns:[/bill status/i,/track.*(bill|legislation)/i,/pending legislation/i,/new laws/i,/voting record/i],response:"I can help you find information about legislation and voting records.",action:"routeToLC",followUp:{question:"What would you like to look up?",options:[{label:"Search Bills",value:"bill_search"},{label:"Current Session Bills",value:"bill_current"},{label:"Voting Records",value:"bill_votes"},{label:"Upcoming Hearings",value:"bill_hearings"}]},department:"lc"}},f={npa:{name:"National Police Agency",phone:"311 (non-emergency), 911 (emergency)",portal:"/npa",subPages:{report:"/npa/report",services:"/npa/services",safety:"/npa/safety"}},bop:{name:"Bank of Praya",phone:"See BOP portal for branch numbers",portal:"/bop",subPages:{personal:"/bop/personal",business:"/bop/business",exchange:"/bop/exchange"}},revenue:{name:"Revenue Department",phone:"1-800-TAX-HELP",portal:"/revenue",subPages:{file:"/revenue/file",payment:"/revenue/payment",refunds:"/revenue/refunds"}},interior:{name:"Interior Department",phone:"Visit any Interior office",portal:"/interior",subPages:{id:"/interior/id",passport:"/interior/passport",birth:"/interior/birth",records:"/interior/records"}},transport:{name:"Transport Department",phone:"Book appointments online",portal:"/transport",subPages:{license:"/transport/license",registration:"/transport/registration",test:"/transport/test"}},health:{name:"Health Department",phone:"1-800-HEALTH-PY | Emergency: 911",portal:"/health",subPages:{insurance:"/health/insurance",vaccinations:"/health/vaccinations",providers:"/health/providers",alerts:"/health/alerts"}},housing:{name:"Housing Authority",phone:"Visit HA office or check PrayaPass",portal:"/housing",subPages:{apply:"/housing/apply",eligibility:"/housing/eligibility",rights:"/housing/rights",waitlist:"/housing/waitlist"}},post:{name:"Praya Post",phone:"Visit local post office",portal:"/post",subPages:{track:"/post/track",ship:"/post/ship",locations:"/post/locations"}},ctb:{name:"Cannabis Tax Bureau",phone:"CTB hotline during business hours",portal:"/ctb",subPages:{apply:"/ctb/apply",taxes:"/ctb/taxes",compliance:"/ctb/compliance"}},cbca:{name:"Customs and Border Control Agency",phone:"Review requirements before travel",portal:"/cbca",subPages:{permits:"/cbca/permits",travel:"/cbca/travel",prohibited:"/cbca/prohibited"}},doj:{name:"Department of Justice",phone:"See DOJ portal",portal:"/doj",subPages:{lookup:"/doj/lookup",legalAid:"/doj/legal-aid",filings:"/doj/filings"}},lc:{name:"Legislative Council",phone:"Find via LC portal",portal:"/lc",subPages:{bills:"/lc/bills",representatives:"/lc/representatives",voting:"/lc/voting",hearings:"/lc/hearings"}},bd:{name:"Buildings Department",phone:"Visit BD office",portal:"/bd",subPages:{permits:"/bd/permits",inspections:"/bd/inspections",contractors:"/bd/contractors",codes:"/bd/codes"}},cr:{name:"Companies Registry",phone:"Contact CR office",portal:"/cr",subPages:{register:"/cr/register",search:"/cr/search",filings:"/cr/filings",name:"/cr/name"}},swd:{name:"Social Welfare Department",phone:"SWD hotline",portal:"/swd",subPages:{benefits:"/swd/benefits",family:"/swd/family",elderly:"/swd/elderly",disability:"/swd/disability"}}};function B(n){let e=n.toLowerCase().trim();for(const[t,a]of Object.entries(m))if(t.length>5){const s=new RegExp(`\\b${t}\\b`,"gi");s.test(e)&&(e=e.replace(s,a[0]))}const i={"i'm":"i am","i've":"i have","i'd":"i would","i'll":"i will","don't":"do not","doesn't":"does not","didn't":"did not","can't":"cannot","couldn't":"could not","won't":"will not","wouldn't":"would not","shouldn't":"should not","haven't":"have not","hasn't":"has not","hadn't":"had not","isn't":"is not","aren't":"are not","wasn't":"was not","weren't":"were not","what's":"what is","where's":"where is","how's":"how is","who's":"who is","that's":"that is","there's":"there is","here's":"here is","let's":"let us",gonna:"going to",wanna:"want to",gotta:"got to",gimme:"give me",lemme:"let me",kinda:"kind of",sorta:"sort of",dunno:"do not know","y'all":"you all"};for(const[t,a]of Object.entries(i))e=e.replace(new RegExp(t.replace("'","'?"),"gi"),a);return e=e.replace(/\s+/g," "),e}function E(n){const e=n.toLowerCase().trim();for(const[i,t]of Object.entries(w))for(const a of t.patterns)if(a.test(e))return{intent:i,...t,matchedPattern:a.toString()};return null}function W(n,e=!0){let i=n.response;if(e&&n.details&&(i+=`

`+n.details),n.followUp&&(i+=`

`+n.followUp.question,n.followUp.options&&(i+=`
`,n.followUp.options.forEach((t,a)=>{i+=`
${a+1}. ${t.label}`}))),n.department&&f[n.department]){const t=f[n.department];if(i+=`

**Need more help?** Visit the [${t.name}](${t.portal}) portal or contact them directly.`,t.subPages){const a=Object.entries(t.subPages).slice(0,3).map(([s,o])=>`[${s.charAt(0).toUpperCase()+s.slice(1)}](${o})`).join(" | ");a&&(i+=`
**Quick Links:** ${a}`)}}return i}function N(n,e){var a;const i=w[n];return!i||!i.followUp?null:{theft_minor:`For thefts under Â¤2,500, you can file an online report:

1. Go to the NPA portal
2. Click 'File Online Report'
3. Select 'Theft - Minor'
4. Fill in incident details
5. Submit and save your case number

Processing time: 24-48 hours for confirmation.`,theft_major:`For thefts over Â¤2,500, please call the non-emergency line (311) or visit your nearest police station. You'll need:

â€¢ Description of stolen items
â€¢ Estimated value
â€¢ Time and location of incident
â€¢ Any witness information`,vandalism:`To report vandalism, you can file online or call 311. Please gather:

â€¢ Photos of damage
â€¢ Location details
â€¢ Approximate time of incident
â€¢ Any suspect description`,assault:`**For assault, please call 911 if you need immediate help or are injured.**

Otherwise, call 311 or visit a police station to file a report. Victim assistance services are available.`,savings_personal:`To open a Personal Savings Account:

**Requirements:**
â€¢ Valid National ID
â€¢ Proof of address
â€¢ Minimum deposit: Â¤100

**Features:**
â€¢ Competitive interest rates
â€¢ No monthly fees
â€¢ Online/mobile banking

Visit any BOP branch or start your application online.`,checking_personal:`To open a Personal Checking Account:

**Requirements:**
â€¢ Valid National ID
â€¢ Proof of address
â€¢ Minimum deposit: Â¤50

**Features:**
â€¢ Free debit card
â€¢ Unlimited transactions
â€¢ Online bill pay

Visit any BOP branch to get started.`,business_account:`For Business Accounts, you'll need:

â€¢ Business registration documents
â€¢ Tax ID
â€¢ Owner identification
â€¢ Business plan (for new businesses)

Schedule an appointment with a business banking specialist at your nearest BOP branch.`,tax_individual:`To file your individual tax return:

1. Log into PrayaPass
2. Go to Revenue Department services
3. Select 'File Individual Return'
4. Gather your W-2s and income documents
5. Complete the guided filing process

**Deadline:** April 15th annually
**Late filing penalty:** 5% per month`,tax_business:`For business tax filing:

1. Log into PrayaPass with business account
2. Select 'File Business Return'
3. Have ready: Financial statements, expense records, payroll data

Consider scheduling a consultation with RD for complex filings.`,id_new:`To apply for a new National ID:

**Requirements:**
â€¢ Birth certificate
â€¢ Passport-style photo
â€¢ Proof of address
â€¢ Fee: Â¤25

**Process:**
1. Book appointment online or visit ID office
2. Submit documents
3. Biometric capture
4. Receive ID in 5-7 business days`,id_renew:`To renew your National ID:

**Requirements:**
â€¢ Current/expired ID
â€¢ Updated photo
â€¢ Fee: Â¤15

You can renew online through PrayaPass if your address hasn't changed.`,passport_new:`To apply for a new passport:

**Requirements:**
â€¢ National ID
â€¢ Passport photo (2x2 inches)
â€¢ Completed application
â€¢ Fee: Â¤80 (standard) or Â¤150 (expedited)

**Processing:**
â€¢ Standard: 10-14 business days
â€¢ Expedited: 3-5 business days

Appointment required at Interior Department.`,passport_expedited:`For expedited passport service:

**Additional fee:** Â¤70 (total Â¤150)
**Processing:** 3-5 business days

Must apply in person. Bring proof of urgent travel if requesting same-week processing.`,license_new:`To get a new driver's license:

**Requirements:**
â€¢ Valid National ID
â€¢ Proof of address
â€¢ Vision test (at TD office)
â€¢ Written test
â€¢ Road test
â€¢ Fee: Â¤45

**Steps:**
1. Schedule appointment online
2. Pass vision and written tests
3. Schedule road test
4. Receive license in 5-7 days`,license_renew:`To renew your driver's license:

**Requirements:**
â€¢ Current/expired license
â€¢ Fee: Â¤30

**Options:**
â€¢ Online: Via PrayaPass (if eligible)
â€¢ In-person: Any Transport Department office

Online renewals process in 3-5 days.`,license_replace:`To replace a lost/stolen license:

**Requirements:**
â€¢ Police report (if stolen)
â€¢ Valid ID
â€¢ Fee: Â¤25

You can apply online or visit a TD office. Replacement takes 5-7 days.`,license_test:`To schedule a driving test:

1. Book online at Transport Department portal
2. Choose location and time
3. Bring learner's permit and valid ID
4. Arrive 15 minutes early

**Test includes:**
â€¢ Pre-drive checklist
â€¢ Basic maneuvers
â€¢ City driving
â€¢ Highway section (varies by location)`,health_enroll:`To enroll in National Health Insurance:

**Requirements:**
â€¢ Valid National ID
â€¢ Proof of residence
â€¢ Income documentation

**Options:**
â€¢ Standard Plan: Basic coverage
â€¢ Premium Plan: Extended benefits

Apply online through PrayaPass or visit Health Department.`,vaccine_schedule:`To schedule a vaccination:

1. Log into PrayaPass
2. Go to Health Department services
3. Select 'Vaccination Scheduling'
4. Choose vaccine type and location
5. Select available date/time

Bring your ID and insurance card to the appointment.`,housing_public:`To apply for public housing:

**Eligibility:**
â€¢ Income below threshold (varies by area)
â€¢ Praya citizen or permanent resident
â€¢ No current public housing

**Process:**
1. Apply online through PrayaPass
2. Submit income verification
3. Background check
4. Waitlist placement

**Note:** Waitlists vary by region. Check current times online.`,housing_rental:`For rental assistance programs:

**Available Programs:**
â€¢ Emergency Rental Assistance
â€¢ Housing Choice Vouchers
â€¢ Utility Assistance

**Requirements:**
â€¢ Income verification
â€¢ Rental agreement
â€¢ Landlord participation

Apply through Housing Authority portal.`,cannabis_retail:`For retail dispensary licensing:

**Requirements:**
â€¢ Business registration
â€¢ Background check
â€¢ Location approval
â€¢ Security plan
â€¢ Fee: Varies by license type

**Process:**
1. Pre-application consultation
2. Submit full application
3. Site inspection
4. License issuance (60-90 days)

Contact CTB for current application windows.`,cannabis_personal:`For personal cultivation permits:

**Limits:**
â€¢ Up to 6 plants per household
â€¢ 18+ age requirement
â€¢ Registration required

**Fee:** Â¤50 annually

Register online through CTB portal.`,court_civil:`For civil court cases:

**Types handled:**
â€¢ Contract disputes
â€¢ Property matters
â€¢ Family law
â€¢ Personal injury

**To file:**
1. Complete civil complaint form
2. Pay filing fee (Â¤50-Â¤200)
3. Serve defendant
4. Await court date

Small claims (under Â¤5,000) have simplified procedures.`,legal_public:`For public defender services:

**Eligibility:**
â€¢ Criminal case
â€¢ Income below threshold
â€¢ Unable to afford attorney

**Process:**
1. Request at arraignment
2. Financial screening
3. Assignment of attorney

Contact DOJ for eligibility screening.`}[e]||`Thank you for your selection. Please visit the ${((a=f[i.department])==null?void 0:a.name)||"appropriate department"} portal or office for detailed assistance with your request.`}function A(n){const e={},i=n.match(/NPA-\d{6}/i);i&&(e.caseNumber=i[0].toUpperCase());const t=n.match(/PP\d{10,}/i);t&&(e.trackingNumber=t[0].toUpperCase());const a=n.match(/\d{3}-\d{2}-\d{4}/);a&&(e.taxId=a[0]);const s=n.match(/[A-Z]{2,3}[- ]?\d{3,4}/i);s&&(e.licensePlate=s[0].toUpperCase());const o=n.match(/(\d{1,2}\/\d{1,2}\/\d{4}|\d{4}-\d{2}-\d{2})/);o&&(e.date=o[0]);const r=n.match(/\+?(\d{1,3}[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}/);r&&(e.phone=r[0]);const l=n.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);l&&(e.email=l[0].toLowerCase());const c=n.match(/[Â¤$]\s*\d+(?:,\d{3})*(?:\.\d{2})?/);c&&(e.amount=c[0]);const d=n.match(/ref(?:erence)?[#:\s]*([A-Z0-9]{6,12})/i);d&&(e.referenceNumber=d[1].toUpperCase());const p=["north","south","east","west","central","downtown","uptown","harbor","hills","valley"];for(const u of p)if(n.toLowerCase().includes(u)){e.district=u.charAt(0).toUpperCase()+u.slice(1);break}return e}function q(n){const e=n.toLowerCase();return/\b(ugh|argh|frustrated|annoyed|angry|mad|ridiculous|stupid|terrible|awful|worst|hate|useless|waste|sick of|tired of|fed up)\b/i.test(e)?"frustrated":/\b(bad|wrong|issue|problem|error|fail|broken|not working|doesn't work|can't|won't|unable|stuck|confused|help)\b/i.test(e)?"negative":/\b(thanks|thank you|great|awesome|perfect|excellent|wonderful|love|appreciate|helpful|good|nice)\b/i.test(e)?"positive":"neutral"}function S(n){const e=n.toLowerCase();return/\b(urgent|emergency|asap|immediately|right now|critical|life|death|dying|hurry|quick|fast|today|deadline)\b/i.test(e)||e.includes("911")||e.includes("!")?"high":/\b(soon|need|important|time.?sensitive|waiting|pending|overdue)\b/i.test(e)?"medium":"low"}const k={health:{id:"health",name:"Health Department",greeting:"Hello! I'm the Health Department Assistant. I can help you with health insurance, vaccinations, finding healthcare providers, and more.",quickActions:[{label:"Health Insurance",query:"How do I enroll in health insurance?",icon:"shield"},{label:"Vaccinations",query:"Where can I get vaccinated?",icon:"syringe"},{label:"Find a Provider",query:"How do I find a doctor?",icon:"search"},{label:"Emergency Info",query:"What are the emergency numbers?",icon:"alert"}],suggestedTopics:["health insurance","vaccinations","doctors","clinics","hospitals","prescriptions"],contextKeywords:["health","medical","insurance","doctor","hospital","vaccine","healthcare"]},revenue:{id:"revenue",name:"Revenue Department",greeting:"Hello! I'm the Revenue Department Assistant. I can help you with filing taxes, checking refund status, making payments, and tax-related questions.",quickActions:[{label:"File Taxes",query:"How do I file my taxes?",icon:"document"},{label:"Check Refund",query:"What's my refund status?",icon:"money"},{label:"Make Payment",query:"How do I pay my taxes?",icon:"credit-card"},{label:"Tax Help",query:"What are the tax brackets?",icon:"help"}],suggestedTopics:["tax filing","refunds","payments","tax brackets","deductions","deadlines"],contextKeywords:["tax","taxes","revenue","refund","filing","income","deduction"]},npa:{id:"npa",name:"National Police Agency",greeting:"Hello! I'm the NPA Assistant. I can help you file police reports, check case status, apply for clearance certificates, and access safety resources.",quickActions:[{label:"File Report",query:"How do I file a police report?",icon:"document"},{label:"Case Status",query:"How do I check my case status?",icon:"search"},{label:"Police Clearance",query:"How do I get a police clearance certificate?",icon:"shield"},{label:"Emergency",query:"What are the emergency numbers?",icon:"alert"}],suggestedTopics:["police report","case lookup","clearance","emergency","crime prevention"],contextKeywords:["police","crime","report","emergency","safety","clearance","case"]},bop:{id:"bop",name:"Bank of Praya",greeting:"Hello! I'm the Bank of Praya Assistant. I can help you with personal banking, business loans, mortgages, and financial services.",quickActions:[{label:"Open Account",query:"How do I open a bank account?",icon:"user"},{label:"Loans",query:"What loan options are available?",icon:"money"},{label:"Mortgage",query:"How do I apply for a mortgage?",icon:"home"},{label:"Business Banking",query:"What business banking services are available?",icon:"briefcase"}],suggestedTopics:["savings","checking","loans","mortgage","business banking","interest rates"],contextKeywords:["bank","banking","account","loan","mortgage","savings","currency"]},ctb:{id:"ctb",name:"Cannabis Tax Bureau",greeting:"Hello! I'm the CTB Assistant. I can help you with cannabis licensing, tax filing, compliance requirements, and industry regulations.",quickActions:[{label:"Apply for License",query:"How do I apply for a cannabis license?",icon:"document"},{label:"File Taxes",query:"How do I file cannabis taxes?",icon:"money"},{label:"Compliance",query:"What are the compliance requirements?",icon:"shield"},{label:"Renewals",query:"How do I renew my license?",icon:"refresh"}],suggestedTopics:["licensing","tax filing","compliance","dispensary","cultivation"],contextKeywords:["cannabis","marijuana","dispensary","cultivation","license","ctb"]},doj:{id:"doj",name:"Department of Justice",greeting:"Hello! I'm the DOJ Assistant. I can help you with case lookups, legal aid information, court filings, and justice-related services.",quickActions:[{label:"Case Lookup",query:"How do I look up a case?",icon:"search"},{label:"Legal Aid",query:"How do I get legal aid?",icon:"help"},{label:"Court Filings",query:"How do I file court documents?",icon:"document"},{label:"Public Defender",query:"How do I get a public defender?",icon:"user"}],suggestedTopics:["court cases","legal aid","filings","public defender","trial schedule"],contextKeywords:["court","legal","case","lawyer","attorney","justice","trial"]},interior:{id:"interior",name:"Interior Department",greeting:"Hello! I'm the Interior Department Assistant. I can help you with National IDs, passports, birth certificates, and civil records.",quickActions:[{label:"National ID",query:"How do I get a National ID?",icon:"id-card"},{label:"Passport",query:"How do I apply for a passport?",icon:"document"},{label:"Birth Certificate",query:"How do I get a birth certificate?",icon:"document"},{label:"Civil Records",query:"How do I access civil records?",icon:"folder"}],suggestedTopics:["national ID","passport","birth certificate","civil records","marriage license"],contextKeywords:["id","passport","birth certificate","documents","civil records","interior"]},transport:{id:"transport",name:"Transport Department",greeting:"Hello! I'm the Transport Department Assistant. I can help you with driver's licenses, vehicle registration, driving tests, and road safety.",quickActions:[{label:"Driver's License",query:"How do I get a driver's license?",icon:"id-card"},{label:"Vehicle Registration",query:"How do I register a vehicle?",icon:"car"},{label:"Schedule Test",query:"How do I schedule a driving test?",icon:"calendar"},{label:"Renew License",query:"How do I renew my license?",icon:"refresh"}],suggestedTopics:["license","registration","driving test","renewal","title transfer"],contextKeywords:["driver","license","vehicle","registration","driving","transport","dmv"]},post:{id:"post",name:"Praya Post",greeting:"Hello! I'm the Praya Post Assistant. I can help you track packages, find shipping rates, locate post offices, and manage mail services.",quickActions:[{label:"Track Package",query:"How do I track my package?",icon:"search"},{label:"Ship Package",query:"What are the shipping rates?",icon:"package"},{label:"Find Location",query:"Where is the nearest post office?",icon:"location"},{label:"P.O. Box",query:"How do I rent a P.O. box?",icon:"mailbox"}],suggestedTopics:["tracking","shipping","post office","P.O. box","international mail"],contextKeywords:["mail","post","package","shipping","tracking","postal","delivery"]},housing:{id:"housing",name:"Housing Authority",greeting:"Hello! I'm the Housing Authority Assistant. I can help you with public housing applications, rental assistance, tenant rights, and housing programs.",quickActions:[{label:"Apply for Housing",query:"How do I apply for public housing?",icon:"home"},{label:"Rental Assistance",query:"How do I get rental assistance?",icon:"money"},{label:"Tenant Rights",query:"What are my rights as a tenant?",icon:"shield"},{label:"Check Waitlist",query:"What's my waitlist status?",icon:"list"}],suggestedTopics:["public housing","rental assistance","tenant rights","eviction","waitlist"],contextKeywords:["housing","rent","apartment","tenant","landlord","eviction","affordable"]},cbca:{id:"cbca",name:"Customs and Border Control",greeting:"Hello! I'm the CBCA Assistant. I can help you with import/export permits, travel requirements, customs declarations, and border services.",quickActions:[{label:"Import/Export",query:"How do I get an import permit?",icon:"document"},{label:"Travel Requirements",query:"What are the entry requirements?",icon:"plane"},{label:"Customs Duties",query:"What are the customs duty rates?",icon:"money"},{label:"Prohibited Items",query:"What items are prohibited?",icon:"alert"}],suggestedTopics:["import","export","customs","travel","visa","duty-free"],contextKeywords:["customs","border","import","export","travel","visa","duty"]},lc:{id:"lc",name:"Legislative Council",greeting:"Hello! I'm the Legislative Council Assistant. I can help you track legislation, find your representative, access voting records, and learn about public hearings.",quickActions:[{label:"Track Bills",query:"How do I track legislation?",icon:"document"},{label:"Find Rep",query:"Who is my representative?",icon:"user"},{label:"Voting Records",query:"How do I view voting records?",icon:"check"},{label:"Public Hearings",query:"When are public hearings?",icon:"calendar"}],suggestedTopics:["legislation","representatives","voting","hearings","bills"],contextKeywords:["legislative","law","bill","council","vote","representative","legislation"]},bd:{id:"bd",name:"Buildings Department",greeting:"Hello! I'm the Buildings Department Assistant. I can help you with building permits, inspections, contractor licenses, and construction codes.",quickActions:[{label:"Building Permit",query:"How do I apply for a building permit?",icon:"document"},{label:"Schedule Inspection",query:"How do I schedule an inspection?",icon:"calendar"},{label:"Contractor License",query:"How do I verify a contractor?",icon:"shield"},{label:"Building Codes",query:"What are the building codes?",icon:"document"}],suggestedTopics:["permits","inspections","contractors","codes","construction"],contextKeywords:["building","construction","permit","inspection","contractor","code"]},cr:{id:"cr",name:"Companies Registry",greeting:"Hello! I'm the Companies Registry Assistant. I can help you with business registration, company searches, annual filings, and corporate services.",quickActions:[{label:"Register Company",query:"How do I register a company?",icon:"briefcase"},{label:"Company Search",query:"How do I search for a company?",icon:"search"},{label:"Annual Filings",query:"When are annual filings due?",icon:"calendar"},{label:"Name Reservation",query:"How do I reserve a business name?",icon:"document"}],suggestedTopics:["registration","incorporation","company search","filings","business name"],contextKeywords:["company","business","incorporation","corporate","registry","llc"]},swd:{id:"swd",name:"Social Welfare Department",greeting:"Hello! I'm the Social Welfare Assistant. I can help you with social benefits, family services, elderly care, and disability support.",quickActions:[{label:"Apply for Benefits",query:"How do I apply for social benefits?",icon:"money"},{label:"Family Services",query:"What family services are available?",icon:"users"},{label:"Elderly Care",query:"What elderly care programs exist?",icon:"heart"},{label:"Disability Support",query:"What disability support is available?",icon:"help"}],suggestedTopics:["benefits","family services","elderly care","disability","assistance"],contextKeywords:["welfare","benefits","social","elderly","disability","family","assistance"]},"air-quality":{id:"air-quality",name:"Air Quality Index",greeting:"Hello! I'm the Air Quality Assistant. I can help you understand AQI readings, protect your health from air pollution, find monitoring data, and stay informed about air quality in your area.",quickActions:[{label:"Current AQI",query:"What is the current air quality index?",icon:"search"},{label:"Health Advice",query:"How should I protect myself from air pollution?",icon:"heart"},{label:"Pollutants",query:"What pollutants are being monitored?",icon:"help"},{label:"Get Alerts",query:"How do I get air quality alerts?",icon:"alert"}],suggestedTopics:["air quality","AQI","pollution","health","masks","outdoor activities","sensitive groups","alerts"],contextKeywords:["air","quality","aqi","pollution","pm2.5","pm10","ozone","health","respiratory","outdoor","mask"]},"national-security":{id:"national-security",name:"National Security & Civil Defense",greeting:"Hello! I'm the National Security Assistant. I can help you understand current threat levels, get emergency preparedness information, learn about civil defense resources, and find contact information for emergencies.",quickActions:[{label:"Current Level",query:"What is the current national security level?",icon:"shield"},{label:"Preparedness",query:"How do I prepare for emergencies?",icon:"package"},{label:"Emergency Contacts",query:"What are the emergency contact numbers?",icon:"alert"},{label:"Shelter Info",query:"Where are public shelters located?",icon:"home"}],suggestedTopics:["security level","civil defense","emergency","preparedness","shelter","alert","evacuate","safety"],contextKeywords:["security","threat","level","emergency","civil defense","shelter","alert","evacuation","disaster","safety"]}},b={id:"portal",name:"Praya Citizen Services",greeting:"Hello! I'm the Praya Citizen Services Assistant. How can I help you today?",quickActions:[{label:"IDs & Passports",query:"How do I get a National ID?",icon:"id-card"},{label:"File Taxes",query:"How do I file my taxes?",icon:"document"},{label:"Police Report",query:"How do I file a police report?",icon:"shield"},{label:"Driver's License",query:"How do I get a driver's license?",icon:"car"}],suggestedTopics:[],contextKeywords:[]};function U(n){var t;if(!n||n==="/")return b;const i=(t=n.split("/").filter(Boolean)[0])==null?void 0:t.toLowerCase();return k[i]||b}function D(n){return v.find(e=>e.id===n)||null}function T(n){const e=D(n);return(e==null?void 0:e.subPages)||[]}function O(n,e){const i=T(e);if(!i.length)return null;const t=n.toLowerCase();for(const a of i){const s=a.name.toLowerCase(),o=a.description.toLowerCase();if(t.includes(s)||o.split(/\s+/).filter(c=>c.length>3&&t.includes(c)).length>=2)return a}return null}function j(n){return`

**Would you like me to take you to [${n.name}](${n.url})?** This page has more detailed information and online services.`}function V(n,e){const i=k[e];if(!i)return 0;const t=n.toLowerCase();let a=0;for(const s of i.contextKeywords)t.includes(s)&&(a+=15);for(const s of i.suggestedTopics)t.includes(s)&&(a+=20);return Math.min(a,100)}const z={RULE_BASED:"rule_based"};function G(n,e=[],i={},t=null){const a=e.slice(-10),s=new Set,o={...i};a.forEach(u=>{u.text&&g(u.text).forEach(y=>s.add(y))});let r="";a.length>0&&a.filter(h=>h.sender==="user"||h.type==="user").length>0&&(r=`User has been asking about: ${Array.from(s).join(", ")}.`,Object.keys(o).length>0&&(r+=` Referenced entities: ${Object.entries(o).map(([h,y])=>`${h}: ${y}`).join(", ")}.`));let l="general";const c=/\b(api|json|webhook|ssl|dns|http|tcp|database|schema|endpoint)\b/i;a.some(u=>c.test(u.text||""))&&(l="technical");const d=g(n);let p="seeking information";return/\b(apply|submit|file|register)\b/i.test(n)?p="completing an application":/\b(track|status|check|follow up)\b/i.test(n)?p="tracking a status":/\b(cost|fee|price|how much)\b/i.test(n)?p="understanding costs":/\b(how|steps|process|procedure)\b/i.test(n)&&(p="understanding a process"),{conversationSummary:r,topics:Array.from(s),currentTopics:d,entities:o,expertiseLevel:l,apparentGoal:p,departmentContext:t,messageCount:a.length,isFirstMessage:a.length===0}}class R{constructor(){this.reset()}reset(){this.messages=[],this.entities={},this.topics=new Map,this.userGoals=[],this.pendingQuestions=[],this.clarificationCount=0,this.sentiment={history:[],current:"neutral"},this.sessionStart=Date.now(),this.lastInteraction=Date.now(),this.departmentHistory=[],this.followUpContext=null,this.unresolvedIntents=[]}addMessage(e){const i={...e,id:Date.now(),timestamp:e.timestamp||new Date,processed:{entities:{},topics:[],sentiment:"neutral",urgency:"low"}};if(e.sender==="user"||e.type==="user"){const t=e.text||"",a=A(t);i.processed.entities=a,this.mergeEntities(a);const s=g(t);i.processed.topics=s,this.updateTopics(s);const o=q(t);i.processed.sentiment=o,this.updateSentiment(o);const r=S(t);i.processed.urgency=r,this.detectGoals(t)}return this.messages.push(i),this.lastInteraction=Date.now(),this.messages.length>50&&(this.messages=this.messages.slice(-50)),i}mergeEntities(e){for(const[i,t]of Object.entries(e))this.entities[i]=t}updateTopics(e){const i=Date.now();for(const t of e)if(this.topics.has(t)){const a=this.topics.get(t);a.count++,a.lastMentioned=i}else this.topics.set(t,{count:1,firstMentioned:i,lastMentioned:i,resolved:!1})}updateSentiment(e){this.sentiment.history.push({sentiment:e,timestamp:Date.now()}),this.sentiment.history.length>10&&this.sentiment.history.shift();const i=this.sentiment.history.slice(-3),t=i.filter(s=>s.sentiment==="frustrated").length,a=i.filter(s=>s.sentiment==="negative"||s.sentiment==="frustrated").length;t>=2?this.sentiment.current="frustrated":a>=2?this.sentiment.current="negative":this.sentiment.current=e}detectGoals(e){const i=e.toLowerCase(),t=[{pattern:/\b(want|need|trying) to (get|obtain|apply|renew)\b/i,goal:"document_acquisition"},{pattern:/\b(file|submit|pay)\s+(tax|taxes|return)\b/i,goal:"tax_filing"},{pattern:/\b(report|file).*(crime|theft|incident)\b/i,goal:"crime_reporting"},{pattern:/\b(track|status|check|where is)\b/i,goal:"status_tracking"},{pattern:/\b(how much|cost|fee|price)\b/i,goal:"cost_inquiry"},{pattern:/\b(how to|process|procedure|steps)\b/i,goal:"process_understanding"},{pattern:/\b(contact|reach|call|email)\b/i,goal:"contact_info"},{pattern:/\b(hours|when|open|schedule)\b/i,goal:"schedule_inquiry"},{pattern:/\b(location|where|address|office)\b/i,goal:"location_inquiry"},{pattern:/\b(eligibility|qualify|requirements)\b/i,goal:"eligibility_check"}];for(const{pattern:a,goal:s}of t)a.test(i)&&(this.userGoals.includes(s)||this.userGoals.push(s));this.userGoals.length>5&&(this.userGoals=this.userGoals.slice(-5))}getSummary(){const e=this.messages.length,i=this.messages.filter(r=>r.sender==="user"||r.type==="user"),t=Date.now()-this.sessionStart,a=Date.now(),s=[];for(const[r,l]of this.topics.entries()){const c=a-l.lastMentioned<6e4,d=l.count>=2;(c||d)&&s.push(r)}let o="";if(s.length>0&&(o+=`The user has been asking about: ${s.join(", ")}. `),Object.keys(this.entities).length>0){const r=Object.entries(this.entities).map(([l,c])=>`${l}: ${c}`).join(", ");o+=`Mentioned references: ${r}. `}return this.userGoals.length>0&&(o+=`User appears to want: ${this.userGoals.slice(-2).join(", ")}. `),this.sentiment.current==="frustrated"&&(o+="Note: User seems frustrated, provide extra helpful response. "),this.clarificationCount>=2&&(o+=`The user has needed clarification ${this.clarificationCount} times. `),{text:o,messageCount:e,userMessageCount:i.length,duration:t,activeTopics:s,entities:this.entities,userGoals:this.userGoals,sentiment:this.sentiment.current,clarificationCount:this.clarificationCount}}getRelevantContext(e){const i=this.getSummary(),t=g(e),a=this.messages.filter(s=>!s.processed||!s.processed.topics?!1:s.processed.topics.some(o=>t.includes(o))).slice(-3).map(s=>{var o;return{sender:s.sender||s.type,text:s.text,topics:((o=s.processed)==null?void 0:o.topics)||[]}});return{summary:i,relatedMessages:a,entities:this.entities,followUpContext:this.followUpContext,unresolvedIntents:this.unresolvedIntents}}setFollowUp(e,i){this.followUpContext={intent:e,options:i,timestamp:Date.now()}}clearFollowUp(){this.followUpContext=null}hasActiveFollowUp(){if(!this.followUpContext)return!1;const e=300*1e3;return Date.now()-this.followUpContext.timestamp>e?(this.followUpContext=null,!1):!0}addUnresolvedIntent(e){this.unresolvedIntents.push({intent:e,timestamp:Date.now()}),this.unresolvedIntents.length>3&&this.unresolvedIntents.shift()}resolveTopic(e){this.topics.has(e)&&(this.topics.get(e).resolved=!0)}addDepartmentVisit(e){this.departmentHistory.includes(e)||this.departmentHistory.push(e)}getProactiveSuggestions(){const e=[],i=this.getSummary(),t={police:["Check crime statistics","Find nearby police stations"],taxes:["View tax deadline calendar","Calculate estimated taxes"],identity:["Renew other documents","Update contact information"],transport:["Check vehicle registration","View traffic updates"],health:["Find covered medications","View provider network"]};for(const s of i.activeTopics)t[s]&&e.push(...t[s]);const a={document_acquisition:["Check required documents","Find office locations"],tax_filing:["View deduction checklist","Check filing deadline"],status_tracking:["Set up notifications","View processing times"],cost_inquiry:["View fee schedule","Check payment methods"]};for(const s of i.userGoals)a[s]&&e.push(...a[s]);return[...new Set(e)].slice(0,3)}incrementClarification(){return this.clarificationCount++,this.clarificationCount}resetClarification(){this.clarificationCount=0}getRecentMessages(e=10){return this.messages.slice(-e).map(i=>({sender:i.sender||i.type,text:i.text,timestamp:i.timestamp}))}isUserStuck(){return this.clarificationCount>=2||this.sentiment.current==="frustrated"}export(){return{messages:this.messages,entities:this.entities,topics:Object.fromEntries(this.topics),userGoals:this.userGoals,sentiment:this.sentiment,clarificationCount:this.clarificationCount,sessionStart:this.sessionStart,departmentHistory:this.departmentHistory}}}const $=new R;export{z as R,F as a,g as b,U as c,D as d,M as e,$ as f,L as g,O as h,w as i,E as j,V as k,j as l,v as m,B as n,G as o,H as p,_ as q,A as r,x as s,W as t,N as u};
