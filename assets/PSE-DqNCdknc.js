import{j as e}from"./index-C-TiqlHE.js";import{b as v,L as N}from"./vendor-react-B_rQz6bR.js";import"./chatbot-utils-BA5qZPu5.js";import"./vendor-google-gkihbV2W.js";const M=(a=60)=>{const j=[];let h=8500;const i=Date.now(),l=1440*60*1e3;for(let n=a-1;n>=0;n--){const g=i-n*l,f=(Math.random()-.48)*100;h+=f;const c=h,o=h+(Math.random()-.5)*50,p=Math.max(c,o)+Math.random()*30,t=Math.min(c,o)-Math.random()*30,d=Math.floor(Math.random()*5e6+2e6);j.push({timestamp:g,open:c,high:p,low:t,close:o,volume:d})}return j},R=(a,j=14)=>{const h=[];for(let i=0;i<a.length;i++){if(i<j){h.push(null);continue}let l=0,n=0;for(let p=i-j+1;p<=i;p++){const t=a[p].close-a[p-1].close;t>0?l+=t:n-=t}const g=l/j,f=n/j,o=100-100/(1+g/(f||1));h.push(o)}return h},E=(a,j=12,h=26,i=9)=>{const l=a.map(t=>t.close),n=(t,d)=>{const y=2/(d+1),C=[t[0]];for(let b=1;b<t.length;b++)C.push(t[b]*y+C[b-1]*(1-y));return C},g=n(l,j),f=n(l,h),c=g.map((t,d)=>t-f[d]),o=n(c,i),p=c.map((t,d)=>t-o[d]);return{macdLine:c,signalLine:o,histogram:p}};function A(){var k,P;const[a]=v.useState(()=>M(60)),[j,h]=v.useState("PSE"),[i,l]=v.useState("1D"),[n,g]=v.useState(!1),f=v.useRef(null),c=v.useRef(null),o=v.useRef(null),p=((k=a[a.length-1])==null?void 0:k.close)||8742,t=((P=a[a.length-2])==null?void 0:P.close)||8637,d=p-t,y=d/t*100,C=[{symbol:"PNB",name:"Praya National Bank",price:142.5,change:2.4},{symbol:"TECH",name:"Praya Technologies",price:87.32,change:-1.2},{symbol:"INDU",name:"Industrial Group",price:215.8,change:3.1},{symbol:"ENER",name:"Praya Energy Corp",price:52.15,change:-.8},{symbol:"CONS",name:"Consumer Goods Ltd",price:98.44,change:1.5}],b=[{rank:1,symbol:"INDU",name:"Industrial Group",percent:3.1,value:215.8},{rank:2,symbol:"PNB",name:"Praya National Bank",percent:2.4,value:142.5},{rank:3,symbol:"CONS",name:"Consumer Goods",percent:1.5,value:98.44}],S=[{time:"2h ago",tag:"MARKETS",title:"PSE Composite hits new record high",excerpt:"Index surges past 8,750 on strong financial sector performance."},{time:"4h ago",tag:"EARNINGS",title:"Praya National Bank reports Q4 earnings beat",excerpt:"Net profit up 18% YoY as lending activity accelerates."},{time:"6h ago",tag:"IPO",title:"Tech startup TechCorp files for IPO",excerpt:"Company seeks to raise ¤500M in early 2025 listing."}];return v.useEffect(()=>{if(!(!n||typeof window>"u"||!window.Chart)){if(f.current){const s=f.current.getContext("2d");window.mainChart&&window.mainChart.destroy();const m=s.createLinearGradient(0,0,0,400);m.addColorStop(0,"rgba(59, 130, 246, 0.3)"),m.addColorStop(1,"rgba(59, 130, 246, 0)"),window.mainChart=new Chart(s,{type:"line",data:{labels:a.map((r,u)=>new Date(r.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"PSE Composite Index",data:a.map(r=>r.close),borderColor:"#3b82f6",backgroundColor:m,borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:6,pointHoverBackgroundColor:"#3b82f6",pointHoverBorderColor:"#fff",pointHoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(16, 24, 37, 0.95)",titleColor:"#e8ecf2",bodyColor:"#9ca3af",borderColor:"#2a3544",borderWidth:1,padding:12,displayColors:!1,callbacks:{label:function(r){return"Index: "+r.parsed.y.toFixed(2)}}}},scales:{x:{grid:{display:!1,drawBorder:!1},ticks:{color:"#6b7280",font:{size:11},maxRotation:0}},y:{position:"right",grid:{color:"rgba(156, 163, 175, 0.1)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:11},callback:function(r){return r.toLocaleString()}}}}}})}if(c.current){const s=c.current.getContext("2d");window.rsiChart&&window.rsiChart.destroy();const m=R(a);window.rsiChart=new Chart(s,{type:"line",data:{labels:a.map((u,x)=>x),datasets:[{label:"RSI",data:m,borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:2,fill:!0,tension:.4,pointRadius:0,pointHoverRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(16, 24, 37, 0.95)",titleColor:"#e8ecf2",bodyColor:"#9ca3af",borderColor:"#2a3544",borderWidth:1,padding:8,displayColors:!1,callbacks:{title:()=>"",label:function(u){return"RSI: "+(u.parsed.y||0).toFixed(2)}}}},scales:{x:{display:!1},y:{position:"right",min:0,max:100,grid:{color:"rgba(156, 163, 175, 0.1)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:10},stepSize:50}}}}});const r=window.rsiChart.chartArea;if(r){const u=window.rsiChart.scales.y;s.save(),s.strokeStyle="rgba(239, 68, 68, 0.3)",s.lineWidth=1,s.setLineDash([5,5]);const x=u.getPixelForValue(70);s.beginPath(),s.moveTo(r.left,x),s.lineTo(r.right,x),s.stroke();const w=u.getPixelForValue(30);s.beginPath(),s.moveTo(r.left,w),s.lineTo(r.right,w),s.stroke(),s.restore()}}if(o.current){const s=o.current.getContext("2d");window.macdChart&&window.macdChart.destroy();const{macdLine:m,signalLine:r,histogram:u}=E(a);window.macdChart=new Chart(s,{type:"bar",data:{labels:a.map((x,w)=>w),datasets:[{type:"bar",label:"Histogram",data:u,backgroundColor:u.map(x=>x>=0?"rgba(16, 185, 129, 0.5)":"rgba(239, 68, 68, 0.5)"),borderWidth:0},{type:"line",label:"MACD",data:m,borderColor:"#3b82f6",borderWidth:2,pointRadius:0,fill:!1,tension:.4},{type:"line",label:"Signal",data:r,borderColor:"#ef4444",borderWidth:2,pointRadius:0,fill:!1,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(16, 24, 37, 0.95)",titleColor:"#e8ecf2",bodyColor:"#9ca3af",borderColor:"#2a3544",borderWidth:1,padding:8,displayColors:!0,callbacks:{title:()=>"",label:function(x){return x.dataset.label+": "+x.parsed.y.toFixed(2)}}}},scales:{x:{display:!1},y:{position:"right",grid:{color:"rgba(156, 163, 175, 0.1)",drawBorder:!1},ticks:{color:"#6b7280",font:{size:10}}}}}})}return()=>{window.mainChart&&window.mainChart.destroy(),window.rsiChart&&window.rsiChart.destroy(),window.macdChart&&window.macdChart.destroy()}}},[a,n]),v.useEffect(()=>{if(typeof window<"u")if(window.Chart)g(!0);else{const s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js",s.async=!0,s.onload=()=>{g(!0)},s.onerror=()=>{console.error("Failed to load Chart.js")},document.head.appendChild(s)}},[]),e.jsxs("div",{className:"pse-container",children:[e.jsx("header",{className:"pse-header",children:e.jsxs("div",{className:"pse-header-content",children:[e.jsxs(N,{to:"/pse",className:"pse-logo",children:[e.jsx("div",{className:"pse-logo-icon",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:e.jsx("polyline",{points:"22,12 18,12 15,21 9,3 6,12 2,12"})})}),e.jsxs("div",{className:"pse-logo-text",children:[e.jsx("h1",{children:"Praya Stock Exchange"}),e.jsx("span",{children:"Professional Trading Platform"})]})]}),e.jsxs("nav",{className:"pse-nav",children:[e.jsx(N,{to:"/pse",className:"pse-nav-link active",children:"Markets"}),e.jsx(N,{to:"/pse",className:"pse-nav-link",children:"Analysis"}),e.jsx(N,{to:"/pse",className:"pse-nav-link",children:"News"}),e.jsxs(N,{to:"/bop",className:"pse-link-bop",children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Bank of Praya"]})]})]})}),e.jsx("div",{className:"pse-status-bar",children:e.jsxs("div",{className:"pse-status-content",children:[e.jsxs("div",{className:"pse-status-item",children:[e.jsx("span",{className:"pse-status-label",children:"Market Status"}),e.jsxs("span",{className:"pse-status-badge",children:[e.jsx("span",{className:"pse-status-pulse"}),"OPEN"]})]}),e.jsxs("div",{className:"pse-status-item",children:[e.jsx("span",{className:"pse-status-label",children:"PSE Index"}),e.jsx("span",{className:"pse-status-value",children:p.toFixed(2)}),e.jsxs("span",{className:`pse-status-change ${d>=0?"positive":"negative"}`,children:[d>=0?"+":"",d.toFixed(2)," (",y>=0?"+":"",y.toFixed(2),"%)"]})]}),e.jsxs("div",{className:"pse-status-item",children:[e.jsx("span",{className:"pse-status-label",children:"Market Cap"}),e.jsx("span",{className:"pse-status-value",children:"¤892B"}),e.jsx("span",{className:"pse-status-change",style:{color:"var(--pse-text-muted)"},children:"Total Value"})]}),e.jsxs("div",{className:"pse-status-item",children:[e.jsx("span",{className:"pse-status-label",children:"Volume"}),e.jsx("span",{className:"pse-status-value",children:"¤3.2B"}),e.jsx("span",{className:"pse-status-change",style:{color:"var(--pse-text-muted)"},children:"Today"})]}),e.jsxs("div",{className:"pse-status-item",children:[e.jsx("span",{className:"pse-status-label",children:"Trades"}),e.jsx("span",{className:"pse-status-value",children:"124K"}),e.jsx("span",{className:"pse-status-change",style:{color:"var(--pse-text-muted)"},children:"Today"})]})]})}),e.jsx("main",{className:"pse-main",children:e.jsxs("div",{className:"pse-grid",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"pse-card",style:{marginBottom:"20px"},children:[e.jsxs("div",{className:"pse-card-header",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"pse-card-title",children:"PSE Composite Index"}),e.jsx("p",{className:"pse-card-subtitle",children:"Real-time market performance"})]}),e.jsxs("div",{className:"pse-card-actions",children:[e.jsx("button",{className:`pse-card-action ${i==="1D"?"active":""}`,onClick:()=>l("1D"),children:"1D"}),e.jsx("button",{className:`pse-card-action ${i==="1W"?"active":""}`,onClick:()=>l("1W"),children:"1W"}),e.jsx("button",{className:`pse-card-action ${i==="1M"?"active":""}`,onClick:()=>l("1M"),children:"1M"}),e.jsx("button",{className:`pse-card-action ${i==="1Y"?"active":""}`,onClick:()=>l("1Y"),children:"1Y"})]})]}),e.jsx("div",{className:"pse-card-body",children:e.jsx("div",{className:"pse-chart-container",children:e.jsx("canvas",{ref:f})})})]}),e.jsxs("div",{className:"pse-card",style:{marginBottom:"20px"},children:[e.jsx("div",{className:"pse-card-header",children:e.jsx("h3",{className:"pse-card-title",children:"Technical Indicators"})}),e.jsxs("div",{className:"pse-card-body",children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"13px",fontWeight:"600",color:"var(--pse-text-primary)"},children:"Relative Strength Index (RSI)"}),e.jsx("span",{style:{fontSize:"12px",color:"var(--pse-text-muted)"},children:"Period: 14"})]}),e.jsx("div",{className:"pse-indicator-chart",children:e.jsx("canvas",{ref:c})})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"13px",fontWeight:"600",color:"var(--pse-text-primary)"},children:"MACD (Moving Average Convergence Divergence)"}),e.jsx("span",{style:{fontSize:"12px",color:"var(--pse-text-muted)"},children:"12, 26, 9"})]}),e.jsx("div",{className:"pse-indicator-chart",children:e.jsx("canvas",{ref:o})})]})]})]}),e.jsxs("div",{className:"pse-card",children:[e.jsx("div",{className:"pse-card-header",children:e.jsx("h3",{className:"pse-card-title",children:"Market News"})}),S.map((s,m)=>e.jsxs("div",{className:"pse-news-item",children:[e.jsxs("div",{className:"pse-news-meta",children:[e.jsx("span",{className:"pse-news-time",children:s.time}),e.jsx("span",{className:"pse-news-tag",children:s.tag})]}),e.jsx("h4",{className:"pse-news-title",children:s.title}),e.jsx("p",{className:"pse-news-excerpt",children:s.excerpt})]},m))]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"pse-card",style:{marginBottom:"20px"},children:[e.jsx("div",{className:"pse-card-header",children:e.jsx("h3",{className:"pse-card-title",children:"Watchlist"})}),e.jsx("div",{className:"pse-watchlist",children:C.map((s,m)=>e.jsxs("div",{className:"pse-watchlist-item",onClick:()=>h(s.symbol),children:[e.jsxs("div",{children:[e.jsx("div",{className:"pse-watchlist-symbol",children:s.symbol}),e.jsx("div",{className:"pse-watchlist-name",children:s.name})]}),e.jsxs("div",{className:"pse-watchlist-price",children:[e.jsxs("div",{className:"pse-watchlist-value",children:["¤",s.price.toFixed(2)]}),e.jsxs("div",{className:`pse-watchlist-change ${s.change>=0?"text-success":"text-danger"}`,children:[s.change>=0?"+":"",s.change.toFixed(1),"%"]})]})]},m))})]}),e.jsxs("div",{className:"pse-card",style:{marginBottom:"20px"},children:[e.jsx("div",{className:"pse-card-header",children:e.jsx("h3",{className:"pse-card-title",children:"Top Gainers"})}),e.jsx("div",{className:"pse-card-body",children:e.jsx("div",{className:"pse-movers",children:b.map(s=>e.jsxs("div",{className:"pse-mover-item",children:[e.jsxs("div",{className:"pse-mover-info",children:[e.jsx("div",{className:"pse-mover-rank",children:s.rank}),e.jsxs("div",{children:[e.jsx("div",{className:"pse-mover-symbol",children:s.symbol}),e.jsx("div",{className:"pse-mover-name",children:s.name})]})]}),e.jsxs("div",{className:"pse-mover-change",children:[e.jsxs("div",{className:"pse-mover-percent text-success",children:["+",s.percent,"%"]}),e.jsxs("div",{className:"pse-mover-value",children:["¤",s.value.toFixed(2)]})]})]},s.rank))})})]}),e.jsxs("div",{className:"pse-info-panel",children:[e.jsx("h4",{children:"Trading Information"}),e.jsxs("div",{className:"pse-info-row",children:[e.jsx("span",{className:"pse-info-label",children:"Market Opens"}),e.jsx("span",{className:"pse-info-value",children:"9:30 AM"})]}),e.jsxs("div",{className:"pse-info-row",children:[e.jsx("span",{className:"pse-info-label",children:"Market Closes"}),e.jsx("span",{className:"pse-info-value",children:"4:00 PM"})]}),e.jsxs("div",{className:"pse-info-row",children:[e.jsx("span",{className:"pse-info-label",children:"After Hours"}),e.jsx("span",{className:"pse-info-value",children:"4:00 - 6:30 PM"})]}),e.jsxs("div",{className:"pse-info-row",children:[e.jsx("span",{className:"pse-info-label",children:"Settlement"}),e.jsx("span",{className:"pse-info-value",children:"T+2"})]})]})]})]})}),e.jsx("footer",{className:"pse-footer",children:e.jsxs("div",{className:"pse-footer-content",children:[e.jsxs("div",{className:"pse-footer-grid",children:[e.jsxs("div",{className:"pse-footer-brand",children:[e.jsx("h4",{children:"Praya Stock Exchange"}),e.jsx("p",{children:"The primary securities exchange of the Republic of Praya, facilitating capital formation and providing a transparent marketplace for investors and traders worldwide."})]}),e.jsxs("div",{className:"pse-footer-section",children:[e.jsx("h5",{children:"Trading"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#",children:"Market Data"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Trading Platform"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Order Types"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Fees & Commissions"})})]})]}),e.jsxs("div",{className:"pse-footer-section",children:[e.jsx("h5",{children:"Resources"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("a",{href:"#",children:"Education Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"API Documentation"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Market Reports"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Research"})})]})]}),e.jsxs("div",{className:"pse-footer-section",children:[e.jsx("h5",{children:"Related"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(N,{to:"/bop",children:"Bank of Praya"})}),e.jsx("li",{children:e.jsx(N,{to:"/",children:"Government Portal"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Securities Commission"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"Economic Data"})})]})]})]}),e.jsxs("div",{className:"pse-footer-bottom",children:[e.jsx("span",{children:"© 2024 Republic of Praya. Praya Stock Exchange."}),e.jsxs("div",{className:"pse-footer-legal",children:[e.jsx("a",{href:"#",children:"Terms of Service"}),e.jsx("a",{href:"#",children:"Privacy Policy"}),e.jsx("a",{href:"#",children:"Disclosures"})]})]})]})})]})}export{A as default};
