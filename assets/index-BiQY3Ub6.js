const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NPA-CEH8iTid.js","assets/vendor-react-cPoFM-5f.js","assets/chatbot-utils-BA5qZPu5.js","assets/vendor-google-gkihbV2W.js","assets/Department-CPV8AOPC.css","assets/BOP-dDHhzKYf.js","assets/DOJ-BWLSEqC4.js","assets/CTB-SzQeD1Xl.js","assets/Interior-DPHh5D2W.js","assets/BD-BafQMf3t.js","assets/CR-Bp0R9uw6.js","assets/SWD-CA2rhidO.js","assets/Post-CjhOHRCj.js","assets/CBCA-Bj-josBQ.js","assets/Health-DuGOzqgk.js","assets/Housing-D3WjAXNJ.js","assets/Revenue-DGvxx0UG.js","assets/Transport-DevPC-CO.js","assets/Transport-BSFO4dF5.css","assets/LC-B2YAaclP.js","assets/PSE-BvtNc2qx.js","assets/PSE-8LA4HR7E.css","assets/AirQuality-DHVGnR06.js","assets/NationalSecurity-DWuu1f31.js","assets/Weather-CNi_l485.js","assets/Status-BneQ8fpx.js","assets/Status-Q6YhHtrs.css","assets/Payments-yzPNccNe.js","assets/Payments-BsQJKXW-.css","assets/NotFound-P8BbH6Dw.js","assets/AlertAdmin-D4gaVobO.js","assets/AlertAdmin-DG9tMuFG.css","assets/Login-zg68m-rL.js","assets/Auth-BjY9_478.css","assets/Register-CyIWG_a7.js","assets/ForgotPassword-D4ohVNJQ.js","assets/AuthCallback-kGHYbDOm.js","assets/Dashboard-VJET2_N2.js","assets/Account-B-XQc-Ph.css","assets/Security-BwPsqLOl.js","assets/Security-DMg8edOe.css","assets/Appointments-nl8p98dt.js","assets/Appointments-D0yu-K7Y.css"])))=>i.map(i=>d[i]);
var ui=Object.defineProperty;var pi=(n,e,i)=>e in n?ui(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var Be=(n,e,i)=>pi(n,typeof e!="symbol"?e+"":e,i);import{r as zt,a as hi,g as mi,b as f,L as q,u as Ut,c as Gt,O as fi,N as gi,R as yi,d as R,e as xi,B as vi}from"./vendor-react-cPoFM-5f.js";import{n as Ke,e as bi,i as Je,s as rt,a as wi,b as ki,g as ji,c as Si,d as Ci,f as $,h as Ni,j as Kt,k as Pi,l as nt,R as Ai,m as Ii,o as Li,p as Ri,q as Ei,r as Di,t as at,u as _e}from"./chatbot-utils-BA5qZPu5.js";import"./vendor-google-gkihbV2W.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();var $e={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot;function Ti(){if(ot)return be;ot=1;var n=zt(),e=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var p,u={},m=null,h=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(h=c.ref);for(p in c)s.call(c,p)&&!a.hasOwnProperty(p)&&(u[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)u[p]===void 0&&(u[p]=c[p]);return{$$typeof:e,type:l,key:m,ref:h,props:u,_owner:r.current}}return be.Fragment=i,be.jsx=o,be.jsxs=o,be}var lt;function Mi(){return lt||(lt=1,$e.exports=Ti()),$e.exports}var t=Mi(),Ee={},ct;function Oi(){if(ct)return Ee;ct=1;var n=hi();return Ee.createRoot=n.createRoot,Ee.hydrateRoot=n.hydrateRoot,Ee}var qi=Oi();const Fi=mi(qi),Bi="modulepreload",_i=function(n){return"/"+n},dt={},E=function(e,i,s){let r=Promise.resolve();if(i&&i.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(i.map(d=>{if(d=_i(d),d in dt)return;dt[d]=!0;const p=d.endsWith(".css"),u=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":Bi,p||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((h,g)=>{m.addEventListener("load",h),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Jt=f.createContext();function $i({children:n}){const[e,i]=f.useState(()=>{const r=localStorage.getItem("praya-theme");return r?r==="dark":!0});f.useEffect(()=>{localStorage.setItem("praya-theme",e?"dark":"light"),document.body.classList.toggle("light",!e)},[e]);const s=()=>i(r=>!r);return t.jsx(Jt.Provider,{value:{isDark:e,toggleTheme:s},children:n})}function Hi(){const n=f.useContext(Jt);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}const Vi=!1,le=null,Wi=async()=>null,Qt=f.createContext(null);function zi({children:n}){const[e,i]=f.useState(null),[s,r]=f.useState(!0),[a,o]=f.useState(null),l=f.useCallback(async()=>{try{const k=await Wi();return i(k),k}catch{return i(null),null}},[]);f.useEffect(()=>{{r(!1);return}},[l]);const T={user:e,loading:s,error:a,isAuthenticated:!!e,register:async({firstName:k,lastName:J,email:A,phone:C,password:L})=>{throw new Error("Authentication is not configured")},resendVerification:async k=>{throw new Error("Authentication is not configured")},login:async(k,J)=>{throw new Error("Authentication is not configured")},logout:async()=>{throw new Error("Authentication is not configured")},logoutAll:async()=>{throw new Error("Authentication is not configured")},forgotPassword:async k=>{throw new Error("Authentication is not configured")},resetPassword:async k=>{throw new Error("Authentication is not configured")},changePassword:async(k,J)=>{throw new Error("Authentication is not configured")},updateProfile:async k=>{throw new Error("Authentication is not configured")},get2FASettings:async()=>({enabled:!1,method:null,phoneVerified:!1,availableMethods:[]}),enable2FA:async()=>{throw new Error("Two-factor authentication coming soon")},confirm2FA:async()=>{throw new Error("Two-factor authentication coming soon")},disable2FA:async()=>{throw new Error("Two-factor authentication coming soon")},requestPhoneVerification:async()=>{throw new Error("Phone verification coming soon")},confirmPhoneVerification:async()=>{throw new Error("Phone verification coming soon")},getSessions:async()=>[],revokeSession:async()=>{throw new Error("Session management coming soon")},fetchUser:l,clearError:()=>o(null),supabase:le};return t.jsx(Qt.Provider,{value:T,children:n})}function Yt(){const n=f.useContext(Qt);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const w=n=>typeof n=="string",we=()=>{let n,e;const i=new Promise((s,r)=>{n=s,e=r});return i.resolve=n,i.reject=e,i},ut=n=>n==null?"":""+n,Ui=(n,e,i)=>{n.forEach(s=>{e[s]&&(i[s]=e[s])})},Gi=/###/g,pt=n=>n&&n.indexOf("###")>-1?n.replace(Gi,"."):n,ht=n=>!n||w(n),Ne=(n,e,i)=>{const s=w(e)?e.split("."):e;let r=0;for(;r<s.length-1;){if(ht(n))return{};const a=pt(s[r]);!n[a]&&i&&(n[a]=new i),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++r}return ht(n)?{}:{obj:n,k:pt(s[r])}},mt=(n,e,i)=>{const{obj:s,k:r}=Ne(n,e,Object);if(s!==void 0||e.length===1){s[r]=i;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=Ne(n,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=Ne(n,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=i},Ki=(n,e,i,s)=>{const{obj:r,k:a}=Ne(n,e,Object);r[a]=r[a]||[],r[a].push(i)},Me=(n,e)=>{const{obj:i,k:s}=Ne(n,e);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},Ji=(n,e,i)=>{const s=Me(n,i);return s!==void 0?s:Me(e,i)},Xt=(n,e,i)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?w(n[s])||n[s]instanceof String||w(e[s])||e[s]instanceof String?i&&(n[s]=e[s]):Xt(n[s],e[s],i):n[s]=e[s]);return n},he=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yi=n=>w(n)?n.replace(/[&<>"'\/]/g,e=>Qi[e]):n;class Xi{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const i=this.regExpMap.get(e);if(i!==void 0)return i;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Zi=[" ",",","?","!",";"],es=new Xi(20),ts=(n,e,i)=>{e=e||"",i=i||"";const s=Zi.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(s.length===0)return!0;const r=es.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(n);if(!a){const o=n.indexOf(i);o>0&&!r.test(n.substring(0,o))&&(a=!0)}return a},Qe=(n,e,i=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const s=e.split(i);let r=n;for(let a=0;a<s.length;){if(!r||typeof r!="object")return;let o,l="";for(let c=a;c<s.length;++c)if(c!==a&&(l+=i),l+=s[c],o=r[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;a+=c-a+1;break}r=o}return r},Ae=n=>n==null?void 0:n.replace("_","-"),is={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var i,s;(s=(i=console==null?void 0:console[n])==null?void 0:i.apply)==null||s.call(i,console,e)}};class Oe{constructor(e,i={}){this.init(e,i)}init(e,i={}){this.prefix=i.prefix||"i18next:",this.logger=e||is,this.options=i,this.debug=i.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,s,r){return r&&!this.debug?null:(w(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new Oe(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Oe(this.logger,e)}}var te=new Oe;class Fe{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(i)||0;this.observers[s].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e,...i){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,a])=>{for(let o=0;o<a;o++)r.apply(r,[e,...i])})}}class ft extends Fe{constructor(e,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,s,r={}){var d,p;const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,i],s&&(Array.isArray(s)?l.push(...s):w(s)&&a?l.push(...s.split(a)):l.push(s)));const c=Me(this.data,l);return!c&&!i&&!s&&e.indexOf(".")>-1&&(e=l[0],i=l[1],s=l.slice(2).join(".")),c||!o||!w(s)?c:Qe((p=(d=this.data)==null?void 0:d[e])==null?void 0:p[i],s,a)}addResource(e,i,s,r,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,i];s&&(l=l.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(l=e.split("."),r=i,i=l[1]),this.addNamespaces(i),mt(this.data,l,r),a.silent||this.emit("added",e,i,s,r)}addResources(e,i,s,r={silent:!1}){for(const a in s)(w(s[a])||Array.isArray(s[a]))&&this.addResource(e,i,a,s[a],{silent:!0});r.silent||this.emit("added",e,i,s)}addResourceBundle(e,i,s,r,a,o={silent:!1,skipCopy:!1}){let l=[e,i];e.indexOf(".")>-1&&(l=e.split("."),r=s,s=i,i=l[1]),this.addNamespaces(i);let c=Me(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Xt(c,s,a):c={...c,...s},mt(this.data,l,c),o.silent||this.emit("added",e,i,s)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}}var Zt={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,i,s,r){return n.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,i,s,r))??e}),e}};const ei=Symbol("i18next/PATH_KEY");function ss(){const n=[],e=Object.create(null);let i;return e.get=(s,r)=>{var a;return(a=i==null?void 0:i.revoke)==null||a.call(i),r===ei?n:(n.push(r),i=Proxy.revocable(s,e),i.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Ye(n,e){const{[ei]:i}=n(ss());return i.join((e==null?void 0:e.keySeparator)??".")}const gt={},He=n=>!w(n)&&typeof n!="boolean"&&typeof n!="number";class qe extends Fe{constructor(e,i={}){super(),Ui(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=te.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,i={interpolation:{}}){const s={...i};if(e==null)return!1;const r=this.resolve(e,s);if((r==null?void 0:r.res)===void 0)return!1;const a=He(r.res);return!(s.returnObjects===!1&&a)}extractFromKey(e,i){let s=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=i.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!ts(e,s,r);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:w(a)?[a]:a};const d=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(r)}return{key:e,namespaces:w(a)?[a]:a}}translate(e,i,s){let r=typeof i=="object"?{...i}:i;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=Ye(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],r),d=c[c.length-1];let p=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const u=r.lng||this.language,m=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode")return m?a?{res:`${d}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:`${d}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:l;const h=this.resolve(e,r);let g=h==null?void 0:h.res;const x=(h==null?void 0:h.usedKey)||l,y=(h==null?void 0:h.exactUsedKey)||l,j=["[object Number]","[object Function]","[object RegExp]"],I=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,b=r.count!==void 0&&!w(r.count),N=qe.hasDefaultValue(r),P=b?this.pluralResolver.getSuffix(u,r.count,r):"",D=r.ordinal&&b?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",W=b&&!r.ordinal&&r.count===0,T=W&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${P}`]||r[`defaultValue${D}`]||r.defaultValue;let k=g;S&&!g&&N&&(k=T);const J=He(k),A=Object.prototype.toString.apply(k);if(S&&k&&J&&j.indexOf(A)<0&&!(w(I)&&Array.isArray(k))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,k,{...r,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(h.res=C,h.usedParams=this.getUsedParamsDetails(r),h):C}if(o){const C=Array.isArray(k),L=C?[]:{},M=C?y:x;for(const H in k)if(Object.prototype.hasOwnProperty.call(k,H)){const z=`${M}${o}${H}`;N&&!g?L[H]=this.translate(z,{...r,defaultValue:He(T)?T[H]:void 0,joinArrays:!1,ns:c}):L[H]=this.translate(z,{...r,joinArrays:!1,ns:c}),L[H]===z&&(L[H]=k[H])}g=L}}else if(S&&w(I)&&Array.isArray(g))g=g.join(I),g&&(g=this.extendTranslation(g,e,r,s));else{let C=!1,L=!1;!this.isValidLookup(g)&&N&&(C=!0,g=T),this.isValidLookup(g)||(L=!0,g=l);const H=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:g,z=N&&T!==g&&this.options.updateMissing;if(L||C||z){if(this.logger.log(z?"updateKey":"missingKey",u,d,l,z?T:g),o){const U=this.resolve(l,{...r,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let U=0;U<ue.length;U++)Z.push(ue[U]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(r.lng||this.language):Z.push(r.lng||this.language);const Le=(U,v,B)=>{var Q;const F=N&&B!==g?B:H;this.options.missingKeyHandler?this.options.missingKeyHandler(U,d,v,F,z,r):(Q=this.backendConnector)!=null&&Q.saveMissing&&this.backendConnector.saveMissing(U,d,v,F,z,r),this.emit("missingKey",U,d,v,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?Z.forEach(U=>{const v=this.pluralResolver.getSuffixes(U,r);W&&r[`defaultValue${this.options.pluralSeparator}zero`]&&v.indexOf(`${this.options.pluralSeparator}zero`)<0&&v.push(`${this.options.pluralSeparator}zero`),v.forEach(B=>{Le([U],l+B,r[`defaultValue${B}`]||T)})}):Le(Z,l,T))}g=this.extendTranslation(g,e,r,h,s),L&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${p}${l}`),(L||C)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${p}${l}`:l,C?g:void 0,r))}return a?(h.res=g,h.usedParams=this.getUsedParamsDetails(r),h):g}extendTranslation(e,i,s,r,a){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=w(e)&&(((d=s==null?void 0:s.interpolation)==null?void 0:d.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(p){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let m=s.replace&&!w(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,s.lng||this.language||r.usedLng,s),p){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;u<g&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>(a==null?void 0:a[0])===h[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${i[0]}`),null):this.translate(...h,i),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=w(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&s.applyPostProcessor!==!1&&(e=Zt.handle(l,e,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,i={}){let s,r,a,o,l;return w(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,i),p=d.key;r=p;let u=d.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const m=i.count!==void 0&&!w(i.count),h=m&&!i.ordinal&&i.count===0,g=i.context!==void 0&&(w(i.context)||typeof i.context=="number")&&i.context!=="",x=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);u.forEach(y=>{var j,I;this.isValidLookup(s)||(l=y,!gt[`${x[0]}-${y}`]&&((j=this.utils)!=null&&j.hasLoadedNamespace)&&!((I=this.utils)!=null&&I.hasLoadedNamespace(l))&&(gt[`${x[0]}-${y}`]=!0,this.logger.warn(`key "${r}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{var P;if(this.isValidLookup(s))return;o=S;const b=[p];if((P=this.i18nFormat)!=null&&P.addLookupKeys)this.i18nFormat.addLookupKeys(b,p,S,y,i);else{let D;m&&(D=this.pluralResolver.getSuffix(S,i.count,i));const W=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(i.ordinal&&D.indexOf(T)===0&&b.push(p+D.replace(T,this.options.pluralSeparator)),b.push(p+D),h&&b.push(p+W)),g){const k=`${p}${this.options.contextSeparator||"_"}${i.context}`;b.push(k),m&&(i.ordinal&&D.indexOf(T)===0&&b.push(k+D.replace(T,this.options.pluralSeparator)),b.push(k+D),h&&b.push(k+W))}}let N;for(;N=b.pop();)this.isValidLookup(s)||(a=N,s=this.getResource(S,y,N,i))}))})}),{res:s,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,s,r={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,i,s,r):this.resourceStore.getResource(e,i,s,r)}getUsedParamsDetails(e={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!w(e.replace);let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const a of i)delete r[a]}return r}static hasDefaultValue(e){const i="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&i===s.substring(0,i.length)&&e[s]!==void 0)return!0;return!1}}class yt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=te.create("languageUtils")}getScriptPartFromCode(e){if(e=Ae(e),!e||e.indexOf("-")<0)return null;const i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=Ae(e),!e||e.indexOf("-")<0)return e;const i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(w(e)&&e.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(e)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(s=>{if(i)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(s=>{if(i)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return i=r;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return i=a;i=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),w(e)&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let s=e[i];return s||(s=e[this.getScriptPartFromCode(i)]),s||(s=e[this.formatLanguageCode(i)]),s||(s=e[this.getLanguagePartFromCode(i)]),s||(s=e.default),s||[]}toResolveHierarchy(e,i){const s=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],e),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return w(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):w(e)&&a(this.formatLanguageCode(e)),s.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}const xt={zero:0,one:1,two:2,few:3,many:4,other:5},vt={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rs{constructor(e,i={}){this.languageUtils=e,this.options=i,this.logger=te.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,i){this.rules[e]=i}clearCache(){this.pluralRulesCache={}}getRule(e,i={}){const s=Ae(e==="dev"?"en":e),r=i.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vt;if(!e.match(/-|_/))return vt;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,i)}return this.pluralRulesCache[a]=o,o}needsPlural(e,i={}){let s=this.getRule(e,i);return s||(s=this.getRule("dev",i)),(s==null?void 0:s.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,i,s={}){return this.getSuffixes(e,s).map(r=>`${i}${r}`)}getSuffixes(e,i={}){let s=this.getRule(e,i);return s||(s=this.getRule("dev",i)),s?s.resolvedOptions().pluralCategories.sort((r,a)=>xt[r]-xt[a]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,i,s={}){const r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",i,s))}}const bt=(n,e,i,s=".",r=!0)=>{let a=Ji(n,e,i);return!a&&r&&w(i)&&(a=Qe(n,i,s),a===void 0&&(a=Qe(e,i,s))),a},Ve=n=>n.replace(/\$/g,"$$$$");class wt{constructor(e={}){var i;this.logger=te.create("interpolator"),this.options=e,this.format=((i=e==null?void 0:e.interpolation)==null?void 0:i.format)||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:i,escapeValue:s,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:p,unescapePrefix:u,nestingPrefix:m,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:y,maxReplaces:j,alwaysFormat:I}=e.interpolation;this.escape=i!==void 0?i:Yi,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?he(a):o||"{{",this.suffix=l?he(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=p?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=m?he(m):h||he("$t("),this.nestingSuffix=g?he(g):x||he(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=j||1e3,this.alwaysFormat=I!==void 0?I:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(i,s)=>(i==null?void 0:i.source)===s?(i.lastIndex=0,i):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,i,s,r){var h;let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const I=bt(i,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,s,{...r,...i,interpolationkey:g}):I}const x=g.split(this.formatSeparator),y=x.shift().trim(),j=x.join(this.formatSeparator).trim();return this.format(bt(i,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),j,s,{...r,...i,interpolationkey:y})};this.resetRegExp();const p=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Ve(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Ve(this.escape(g)):Ve(g)}].forEach(g=>{for(l=0;a=g.regex.exec(e);){const x=a[1].trim();if(o=d(x),o===void 0)if(typeof p=="function"){const j=p(e,a,r);o=w(j)?j:""}else if(r&&Object.prototype.hasOwnProperty.call(r,x))o="";else if(u){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),o="";else!w(o)&&!this.useRawValueToEscape&&(o=ut(o));const y=g.safeValue(o);if(e=e.replace(a[0],y),u?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,i,s={}){let r,a,o;const l=(c,d)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const u=c.split(new RegExp(`${p}[ ]*{`));let m=`{${u[1]}`;c=u[0],m=this.interpolate(m,o);const h=m.match(/'/g),g=m.match(/"/g);(((h==null?void 0:h.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${p}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o={...s},o=o.replace&&!w(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(d!==-1&&(c=r[1].slice(d).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),r[1]=r[1].slice(0,d)),a=i(l.call(this,r[1].trim(),o),o),a&&r[0]===e&&!w(a))return a;w(a)||(a=ut(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((p,u)=>this.format(p,u,s.lng,{...s,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}const ns=n=>{let e=n.toLowerCase().trim();const i={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();i[p]||(i[p]=d),d==="false"&&(i[p]=!1),d==="true"&&(i[p]=!0),isNaN(d)||(i[p]=parseInt(d,10))}})}return{formatName:e,formatOptions:i}},kt=n=>{const e={};return(i,s,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a={...a,[r.interpolationkey]:void 0});const o=s+JSON.stringify(a);let l=e[o];return l||(l=n(Ae(s),r),e[o]=l),l(i)}},as=n=>(e,i,s)=>n(Ae(i),s)(e);class os{constructor(e={}){this.logger=te.create("formatter"),this.options=e,this.init(e)}init(e,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const s=i.cacheInBuiltFormats?kt:as;this.formats={number:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a});return l=>o.format(l)}),currency:s((r,a)=>{const o=new Intl.NumberFormat(r,{...a,style:"currency"});return l=>o.format(l)}),datetime:s((r,a)=>{const o=new Intl.DateTimeFormat(r,{...a});return l=>o.format(l)}),relativetime:s((r,a)=>{const o=new Intl.RelativeTimeFormat(r,{...a});return l=>o.format(l,a.range||"day")}),list:s((r,a)=>{const o=new Intl.ListFormat(r,{...a});return l=>o.format(l)})}}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=kt(i)}format(e,i,s,r={}){const a=i.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{var u;const{formatName:d,formatOptions:p}=ns(c);if(this.formats[d]){let m=l;try{const h=((u=r==null?void 0:r.formatParams)==null?void 0:u[r.interpolationkey])||{},g=h.locale||h.lng||r.locale||r.lng||s;m=this.formats[d](l,g,{...p,...r,...h})}catch(h){this.logger.warn(h)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const ls=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class cs extends Fe{constructor(e,i,s,r={}){var a,o;super(),this.backend=e,this.store=i,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=te.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,s,r.backend,r)}queueLoad(e,i,s,r){const a={},o={},l={},c={};return e.forEach(d=>{let p=!0;i.forEach(u=>{const m=`${d}|${u}`;!s.reload&&this.store.hasResourceBundle(d,u)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,p=!1,o[m]===void 0&&(o[m]=!0),a[m]===void 0&&(a[m]=!0),c[u]===void 0&&(c[u]=!0)))}),p||(l[d]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,i,s){const r=e.split("|"),a=r[0],o=r[1];i&&this.emit("failedLoading",a,o,i),!i&&s&&this.store.addResourceBundle(a,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2,i&&s&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Ki(c.loaded,[a],o),ls(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const p=c.loaded[d];p.length&&p.forEach(u=>{l[d][u]===void 0&&(l[d][u]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,i,s,r=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:s,tried:r,wait:a,callback:o});return}this.readingCalls++;const l=(d,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(d&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,s,r+1,a*2,o)},a);return}o(d,p)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(e,i);d&&typeof d.then=="function"?d.then(p=>l(null,p)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,i,l)}prepareLoading(e,i,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();w(e)&&(e=this.languageUtils.toResolveHierarchy(e)),w(i)&&(i=[i]);const a=this.queueLoad(e,i,s,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,s){this.prepareLoading(e,i,{},s)}reload(e,i,s){this.prepareLoading(e,i,{reload:!0},s)}loadOne(e,i=""){const s=e.split("|"),r=s[0],a=s[1];this.read(r,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${i}loading namespace ${a} for language ${r} failed`,o),!o&&l&&this.logger.log(`${i}loaded namespace ${a} for language ${r}`,l),this.loaded(e,o,l)})}saveMissing(e,i,s,r,a,o={},l=()=>{}){var c,d,p,u,m;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((u=(p=this.services)==null?void 0:p.utils)!=null&&u.hasLoadedNamespace(i))){this.logger.warn(`did not save key "${s}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if((m=this.backend)!=null&&m.create){const h={...o,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,i,s,r,h):x=g(e,i,s,r),x&&typeof x.then=="function"?x.then(y=>l(null,y)).catch(l):l(null,x)}catch(x){l(x)}else g(e,i,s,r,l,h)}!e||!e[0]||this.store.addResource(e[0],i,s,r)}}}const jt=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),w(n[1])&&(e.defaultValue=n[1]),w(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const i=n[3]||n[2];Object.keys(i).forEach(s=>{e[s]=i[s]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),St=n=>{var e,i;return w(n.ns)&&(n.ns=[n.ns]),w(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),w(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((i=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:i.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},De=()=>{},ds=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(i=>{typeof n[i]=="function"&&(n[i]=n[i].bind(n))})};class Pe extends Fe{constructor(e={},i){if(super(),this.options=St(e),this.services={},this.logger=te,this.modules={external:[]},ds(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(e={},i){this.isInitializing=!0,typeof e=="function"&&(i=e,e={}),e.defaultNS==null&&e.ns&&(w(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=jt();this.options={...s,...this.options,...St(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler);const r=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?te.init(r(this.modules.logger),this.options):te.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=os;const p=new yt(this.options);this.store=new ft(this.options.resources,this.options);const u=this.services;u.logger=te,u.resourceStore=this.store,u.languageUtils=p,u.pluralResolver=new rs(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(u.formatter=r(d),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new wt(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new cs(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(h,...g)=>{this.emit(h,...g)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new qe(this.services,this.options),this.translator.on("*",(h,...g)=>{this.emit(h,...g)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,i||(i=De),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...p)=>this.store[d](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...p)=>(this.store[d](...p),this)});const l=we(),c=()=>{const d=(p,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),i(p,u)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,i=De){var a,o;let s=i;const r=w(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(u=>{u!=="cimode"&&l.indexOf(u)<0&&l.push(u)})};r?c(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,i,s){const r=we();return typeof e=="function"&&(s=e,e=void 0),typeof i=="function"&&(s=i,i=void 0),e||(e=this.languages),i||(i=this.options.ns),s||(s=De),this.services.backendConnector.reload(e,i,a=>{r.resolve(),s(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Zt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let i=0;i<this.languages.length;i++){const s=this.languages[i];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,i){this.isLanguageChangingTo=e;const s=we();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...d)=>this.t(...d)),i&&i(l,(...d)=>this.t(...d))},o=l=>{var p,u;!e&&!l&&this.services.languageDetector&&(l=[]);const c=w(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(w(l)?[l]:l);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),(u=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||u.call(p,d)),this.loadResources(d,m=>{a(m,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,i,s){const r=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||r.keyPrefix);const d=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(a)?p=a.map(u=>(typeof u=="function"&&(u=Ye(u,{...this.options,...o})),`${c.keyPrefix}${d}${u}`)):(typeof a=="function"&&(a=Ye(a,{...this.options,...o})),p=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a),this.t(p,c)};return w(e)?r.lng=e:r.lngs=e,r.ns=i,r.keyPrefix=s,r}t(...e){var i;return(i=this.translator)==null?void 0:i.translate(...e)}exists(...e){var i;return(i=this.translator)==null?void 0:i.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(i.precheck){const l=i.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!r||o(a,e)))}loadNamespaces(e,i){const s=we();return this.options.ns?(w(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),i&&i(r)}),s):(i&&i(),Promise.resolve())}loadLanguages(e,i){const s=we();w(e)&&(e=[e]);const r=this.options.preload||[],a=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{s.resolve(),i&&i(o)}),s):(i&&i(),Promise.resolve())}dir(e){var r,a;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=((a=this.services)==null?void 0:a.languageUtils)||new yt(jt());return e.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},i){const s=new Pe(e,i);return s.createInstance=Pe.createInstance,s}cloneInstance(e={},i=De){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new Pe(r);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((p,u)=>(p[u]={...c[d][u]},p),c[d]),c),{});a.store=new ft(l,r),a.services.resourceStore=a.store}return e.interpolation&&(a.services.interpolator=new wt(r)),a.translator=new qe(a.services,r),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(r,i),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const K=Pe.createInstance();K.createInstance;K.dir;K.init;K.loadResources;K.reloadResources;K.use;K.changeLanguage;K.getFixedT;K.t;K.exists;K.setDefaultNamespace;K.hasLoadedNamespace;K.loadNamespaces;K.loadLanguages;const us=(n,e,i,s)=>{var a,o,l,c;const r=[i,{code:e,...s||{}}];if((o=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&o.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);ce(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(c=(l=n==null?void 0:n.services)==null?void 0:l.logger)!=null&&c.warn?n.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},Ct={},ti=(n,e,i,s)=>{ce(i)&&Ct[i]||(ce(i)&&(Ct[i]=new Date),us(n,e,i,s))},ii=(n,e)=>()=>{if(n.isInitialized)e();else{const i=()=>{setTimeout(()=>{n.off("initialized",i)},0),e()};n.on("initialized",i)}},Xe=(n,e,i)=>{n.loadNamespaces(e,ii(n,i))},Nt=(n,e,i,s)=>{if(ce(i)&&(i=[i]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Xe(n,i,s);i.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,ii(n,s))},ps=(n,e,i={})=>!e.languages||!e.languages.length?(ti(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:i.lng,precheck:(s,r)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,n))return!1}}),ce=n=>typeof n=="string",hs=n=>typeof n=="object"&&n!==null,ms=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fs={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},gs=n=>fs[n],ys=n=>n.replace(ms,gs);let Ze={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ys,transDefaultProps:void 0};const xs=(n={})=>{Ze={...Ze,...n}},vs=()=>Ze;let si;const bs=n=>{si=n},ws=()=>si,ks={type:"3rdParty",init(n){xs(n.options.react),bs(n)}},js=f.createContext();class Ss{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var We={exports:{}},ze={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt;function Cs(){if(Pt)return ze;Pt=1;var n=zt();function e(u,m){return u===m&&(u!==0||1/u===1/m)||u!==u&&m!==m}var i=typeof Object.is=="function"?Object.is:e,s=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function l(u,m){var h=m(),g=s({inst:{value:h,getSnapshot:m}}),x=g[0].inst,y=g[1];return a(function(){x.value=h,x.getSnapshot=m,c(x)&&y({inst:x})},[u,h,m]),r(function(){return c(x)&&y({inst:x}),u(function(){c(x)&&y({inst:x})})},[u]),o(h),h}function c(u){var m=u.getSnapshot;u=u.value;try{var h=m();return!i(u,h)}catch{return!0}}function d(u,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return ze.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,ze}var At;function Ns(){return At||(At=1,We.exports=Cs()),We.exports}var Ps=Ns();const As=(n,e)=>ce(e)?e:hs(e)&&ce(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,Is={t:As,ready:!1},Ls=()=>()=>{},Rs=(n,e={})=>{var T,k,J;const{i18n:i}=e,{i18n:s,defaultNS:r}=f.useContext(js)||{},a=i||s||ws();a&&!a.reportNamespaces&&(a.reportNamespaces=new Ss),a||ti(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=f.useMemo(()=>{var A;return{...vs(),...(A=a==null?void 0:a.options)==null?void 0:A.react,...e}},[a,e]),{useSuspense:l,keyPrefix:c}=o,d=r||((T=a==null?void 0:a.options)==null?void 0:T.defaultNS),p=ce(d)?[d]:d||["translation"],u=f.useMemo(()=>p,p);(J=(k=a==null?void 0:a.reportNamespaces)==null?void 0:k.addUsedNamespaces)==null||J.call(k,u);const m=f.useRef(0),h=f.useCallback(A=>{if(!a)return Ls;const{bindI18n:C,bindI18nStore:L}=o,M=()=>{m.current+=1,A()};return C&&a.on(C,M),L&&a.store.on(L,M),()=>{C&&C.split(" ").forEach(H=>a.off(H,M)),L&&L.split(" ").forEach(H=>a.store.off(H,M))}},[a,o]),g=f.useRef(),x=f.useCallback(()=>{if(!a)return Is;const A=!!(a.isInitialized||a.initializedStoreOnce)&&u.every(Z=>ps(Z,a,o)),C=e.lng||a.language,L=m.current,M=g.current;if(M&&M.ready===A&&M.lng===C&&M.keyPrefix===c&&M.revision===L)return M;const z={t:a.getFixedT(C,o.nsMode==="fallback"?u:u[0],c),ready:A,lng:C,keyPrefix:c,revision:L};return g.current=z,z},[a,u,c,o,e.lng]),[y,j]=f.useState(0),{t:I,ready:S}=Ps.useSyncExternalStore(h,x,x);f.useEffect(()=>{if(a&&!S&&!l){const A=()=>j(C=>C+1);e.lng?Nt(a,e.lng,u,A):Xe(a,u,A)}},[a,e.lng,u,S,l,y]);const b=a||{},N=f.useRef(null),P=f.useRef(),D=A=>{const C=Object.getOwnPropertyDescriptors(A);C.__original&&delete C.__original;const L=Object.create(Object.getPrototypeOf(A),C);if(!Object.prototype.hasOwnProperty.call(L,"__original"))try{Object.defineProperty(L,"__original",{value:A,writable:!1,enumerable:!1,configurable:!1})}catch{}return L},W=f.useMemo(()=>{const A=b,C=A==null?void 0:A.language;let L=A;A&&(N.current&&N.current.__original===A?P.current!==C?(L=D(A),N.current=L,P.current=C):L=N.current:(L=D(A),N.current=L,P.current=C));const M=[I,L,S];return M.t=I,M.i18n=L,M.ready=S,M},[I,b,S,b.resolvedLanguage,b.language,b.languages]);if(a&&l&&!S)throw new Promise(A=>{const C=()=>A();e.lng?Nt(a,e.lng,u,C):Xe(a,u,C)});return W},Ue=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"zh",name:"",flag:""}];function Es(){const{i18n:n}=Rs(),[e,i]=f.useState(!1),s=Ue.find(a=>a.code===n.language)||Ue[0],r=a=>{n.changeLanguage(a),i(!1)};return t.jsxs("div",{className:"language-switcher",children:[t.jsxs("button",{className:"language-button",onClick:()=>i(!e),"aria-label":"Change language","aria-expanded":e,children:[t.jsx("span",{className:"language-flag",children:s.flag}),t.jsx("span",{className:"language-code",children:s.code.toUpperCase()}),t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M6 9l6 6 6-6"})})]}),e&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"language-backdrop",onClick:()=>i(!1)}),t.jsx("div",{className:"language-dropdown",role:"menu",children:Ue.map(a=>t.jsxs("button",{className:`language-option ${a.code===n.language?"active":""}`,onClick:()=>r(a.code),role:"menuitem",children:[t.jsx("span",{className:"language-flag",children:a.flag}),t.jsx("span",{className:"language-name",children:a.name}),a.code===n.language&&t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})]},a.code))})]})]})}function Ds(){const[n,e]=f.useState(!1),{isDark:i,toggleTheme:s}=Hi();return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"gov-banner",role:"banner","aria-label":"Government website banner",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"gov-banner-left",children:[t.jsx(q,{to:"/",className:"gov-praya-link","aria-label":"Go to GOV.PRAYA homepage",children:"GOV.PRAYA"}),t.jsx("div",{className:"gov-icon","aria-hidden":"true",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("path",{d:"M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 14v3M12 14v3M16 14v3"})})}),t.jsx("span",{children:"An Official Government of Praya Website"}),t.jsxs("button",{className:`gov-how ${n?"open":""}`,onClick:()=>e(!n),"aria-expanded":n,"aria-label":"Show information about how to verify this is an official government website",children:["Here's how you know",t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("path",{d:"M6 9l6 6 6-6"})})]})]}),t.jsxs("div",{className:"gov-banner-right",children:[t.jsx(Es,{}),t.jsx("button",{className:"theme-btn",onClick:s,"aria-label":i?"Switch to light mode":"Switch to dark mode","aria-pressed":i,children:i?"Light Mode":"Dark Mode"})]})]})}),t.jsx("div",{className:`gov-dropdown ${n?"open":""}`,role:"region","aria-label":"Official website verification information","aria-hidden":!n,children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"gov-dropdown-inner",children:[t.jsxs("div",{className:"gov-dropdown-item",children:[t.jsx("div",{className:"gov-dropdown-icon","aria-hidden":"true",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:t.jsx("path",{d:"M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11"})})}),t.jsxs("div",{className:"gov-dropdown-text",children:[t.jsx("h4",{children:"Official Government Website"}),t.jsx("p",{children:"This is an official Republic of Praya government website, managed by the Digital Services Agency."})]})]}),t.jsxs("div",{className:"gov-dropdown-item",children:[t.jsx("div",{className:"gov-dropdown-icon","aria-hidden":"true",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2","aria-hidden":"true",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})}),t.jsxs("div",{className:"gov-dropdown-text",children:[t.jsx("h4",{children:"Secure Connection"}),t.jsx("p",{children:"Your connection to this website is encrypted and secure. Look for https:// in your browser."})]})]})]})})})]})}const me={good:{range:"0-50",label:"Good",color:"#10b981",description:"Air quality is satisfactory, and air pollution poses little or no risk.",precautions:"No precautions necessary. Ideal conditions for outdoor activities."},moderate:{range:"51-100",label:"Moderate",color:"#f59e0b",description:"Air quality is acceptable. Some pollutants may pose a risk for sensitive individuals.",precautions:"People with respiratory or heart conditions should limit prolonged outdoor exertion."},unhealthySensitive:{range:"101-150",label:"Unhealthy for Sensitive Groups",color:"#f97316",description:"Members of sensitive groups may experience health effects.",precautions:"Children, elderly, and those with respiratory conditions should limit outdoor activity. Consider wearing N95 masks outdoors."},unhealthy:{range:"151-200",label:"Unhealthy",color:"#ef4444",description:"Everyone may begin to experience health effects.",precautions:"Everyone should reduce prolonged outdoor exertion. Sensitive groups should avoid outdoor activity. Use air filtration indoors."},veryUnhealthy:{range:"201-300",label:"Very Unhealthy",color:"#a855f7",description:"Health alert - risk of health effects increased for everyone.",precautions:"Everyone should avoid prolonged outdoor exertion. Stay indoors with air purifiers. Wear N95 masks if going outside."},hazardous:{range:"301-500",label:"Hazardous",color:"#991b1b",description:"Health warning of emergency conditions.",precautions:"Everyone should avoid all outdoor activity. Stay indoors with windows closed. Run air purifiers continuously."}},It={1:{name:"CRITICAL",color:"#991b1b",description:"Imminent threat of attack or active emergency situation.",precautions:"Follow all official emergency broadcasts. Shelter in place unless directed otherwise. Avoid all non-essential travel. Keep emergency supplies ready."},2:{name:"ELEVATED",color:"#ea580c",description:"Credible intelligence indicates heightened threat. Enhanced security measures in effect.",precautions:"Maintain heightened awareness. Report suspicious activity to authorities. Avoid large public gatherings if possible. Stay informed through official channels."},3:{name:"ENHANCED",color:"#f59e0b",description:"General threat environment requires additional vigilance.",precautions:"Stay informed through official channels. Be aware of surroundings in public spaces. Keep emergency supplies accessible."},4:{name:"GUARDED",color:"#0ea5e9",description:"Standard security posture with minor concerns.",precautions:"Maintain normal routines. Stay informed of local news and weather alerts."},5:{name:"LOW",color:"#10b981",description:"No known credible threats. Standard peacetime security.",precautions:"No special precautions necessary. Enjoy normal daily activities."}},tt={airQuality:{currentAQI:42,lastUpdated:"1 hour ago",monitoringStations:87,goodDaysThisYear:312,totalDaysThisYear:337},security:{currentLevel:2,status:"Elevated",lastUpdated:"Nov 19",daysAtCurrentLevel:14,publicShelters:342}};function Ts(n){return n<=50?{...me.good,levelKey:"good"}:n<=100?{...me.moderate,levelKey:"moderate"}:n<=150?{...me.unhealthySensitive,levelKey:"unhealthySensitive"}:n<=200?{...me.unhealthy,levelKey:"unhealthy"}:n<=300?{...me.veryUnhealthy,levelKey:"veryUnhealthy"}:{...me.hazardous,levelKey:"hazardous"}}function Ms(n){return It[n]||It[5]}function Bn(){return tt}function ri(){const n=tt.airQuality,e=Ts(n.currentAQI);return{value:n.currentAQI,lastUpdated:n.lastUpdated,...e}}function ni(){const n=tt.security,e=Ms(n.currentLevel);return{level:n.currentLevel,lastUpdated:n.lastUpdated,daysAtLevel:n.daysAtCurrentLevel,...e}}function Os(){const n=ri(),e=ni();return`
## Current National Status (Real-time Data)

### Air Quality Index (AQI)
- **Current AQI**: ${n.value} (${n.label})
- **Status**: ${n.description}
- **Health Precautions**: ${n.precautions}
- **Last Updated**: ${n.lastUpdated}
- **More Info**: Direct users to [Air Quality Index page](/air-quality) for detailed information about AQI levels, pollutants, and health advice.

### National Security Alert Level
- **Current Level**: ${e.level} (${e.name})
- **Status**: ${e.description}
- **Recommended Precautions**: ${e.precautions}
- **Days at Current Level**: ${e.daysAtLevel} days
- **More Info**: Direct users to [National Security page](/national-security) for detailed security information, civil defense resources, and emergency preparedness.

**Important**: When users ask about air quality, pollution, outdoor activities, or health-related outdoor concerns, reference the current AQI and provide appropriate health advice. When users ask about safety, security, emergencies, or current threat levels, reference the National Security Level and provide appropriate precautions.
`}const qs={"national-id":{prerequisites:[],commonNextSteps:["passport","driver-license","bank-account","health-insurance"],relatedServices:["birth-certificate","address-change"],weight:.9},passport:{prerequisites:["national-id"],commonNextSteps:["visa","travel-insurance","customs-info"],relatedServices:["expedited-passport","passport-renewal"],weight:.8},"driver-license":{prerequisites:["national-id","vision-test"],commonNextSteps:["vehicle-registration","car-insurance","parking-permit"],relatedServices:["driving-test","license-renewal","international-license"],weight:.85},"vehicle-registration":{prerequisites:["driver-license"],commonNextSteps:["car-insurance","emissions-test","parking-permit"],relatedServices:["title-transfer","registration-renewal"],weight:.75},"tax-filing":{prerequisites:[],commonNextSteps:["refund-status","payment-plan","deduction-info"],relatedServices:["business-taxes","tax-extension"],weight:.9},"police-report":{prerequisites:[],commonNextSteps:["case-status","victim-services","insurance-claim"],relatedServices:["police-clearance","legal-aid"],weight:.7},"health-insurance":{prerequisites:["national-id"],commonNextSteps:["find-doctor","prescription-coverage","dental-vision"],relatedServices:["vaccination","specialist-referral"],weight:.85},"housing-application":{prerequisites:["national-id","income-verification"],commonNextSteps:["waitlist-status","rental-assistance","tenant-rights"],relatedServices:["emergency-housing","section-8"],weight:.8},"business-registration":{prerequisites:["national-id"],commonNextSteps:["tax-id","business-license","employer-registration"],relatedServices:["trademark","business-banking"],weight:.75},"cannabis-license":{prerequisites:["business-registration","background-check"],commonNextSteps:["tax-filing","compliance-info","renewal"],relatedServices:["cultivation-permit","dispensary-license"],weight:.7}},Fs={"new-resident":{name:"New Resident Setup",steps:[{service:"national-id",description:"Get your National ID"},{service:"driver-license",description:"Transfer or get driver license"},{service:"health-insurance",description:"Enroll in health coverage"},{service:"voter-registration",description:"Register to vote"}],triggers:["new to praya","just moved","new resident","relocated"]},"first-time-driver":{name:"First-Time Driver",steps:[{service:"learner-permit",description:"Get learner permit"},{service:"driving-practice",description:"Complete practice hours"},{service:"driving-test",description:"Pass road test"},{service:"driver-license",description:"Receive license"},{service:"vehicle-registration",description:"Register your vehicle"}],triggers:["learn to drive","first license","new driver","driving lessons"]},"start-business":{name:"Starting a Business",steps:[{service:"business-name",description:"Reserve business name"},{service:"business-registration",description:"Register your company"},{service:"tax-id",description:"Get Tax ID number"},{service:"business-license",description:"Obtain licenses/permits"},{service:"business-banking",description:"Open business account"}],triggers:["start business","open company","entrepreneur","self-employed"]},"international-travel":{name:"International Travel Prep",steps:[{service:"passport",description:"Get/renew passport"},{service:"visa",description:"Check visa requirements"},{service:"travel-vaccines",description:"Get required vaccinations"},{service:"customs-info",description:"Review customs regulations"}],triggers:["travel abroad","international trip","going overseas","vacation abroad"]},"tax-season":{name:"Tax Filing Journey",steps:[{service:"gather-documents",description:"Collect W-2s and 1099s"},{service:"tax-filing",description:"File your return"},{service:"refund-status",description:"Track your refund"}],triggers:["file taxes","tax season","tax return","owe taxes"]},"crime-victim":{name:"Crime Victim Support",steps:[{service:"police-report",description:"File police report"},{service:"case-status",description:"Track your case"},{service:"victim-services",description:"Access victim support"},{service:"insurance-claim",description:"File insurance claim"}],triggers:["robbed","stolen","crime victim","burglarized"]}},Lt={january:[{text:"Tax documents arriving soon (W-2s due Jan 31)",query:"tax filing preparation"},{text:"Health insurance coverage started",query:"health insurance info"}],february:[{text:"Start gathering tax documents",query:"what documents for taxes"},{text:"Check refund status from early filing",query:"tax refund status"}],march:[{text:"Tax deadline approaching (April 15)",query:"file taxes now"},{text:"Vehicle registration renewal coming?",query:"renew vehicle registration"}],april:[{text:"Tax deadline April 15!",query:"file taxes urgent",priority:"high"},{text:"Need a tax extension?",query:"tax extension"}],november:[{text:"Health insurance open enrollment started!",query:"health insurance enrollment",priority:"high"},{text:"Compare health plans before Dec 31",query:"compare health plans"}],december:[{text:"Last chance: Health insurance enrollment ends Dec 31",query:"enroll health insurance",priority:"high"},{text:"Year-end tax planning tips",query:"tax planning tips"}]},Rt={documents:[{text:"Check application status",query:"check application status"},{text:"What documents do I need?",query:"required documents checklist"},{text:"How long will processing take?",query:"processing time"}],fees:[{text:"Payment methods accepted",query:"payment methods"},{text:"Fee waiver options",query:"fee waiver eligibility"},{text:"Set up payment plan",query:"payment plan options"}],applications:[{text:"Track my application",query:"track application status"},{text:"What to expect next",query:"application next steps"},{text:"How to expedite",query:"expedited processing"}],problems:[{text:"Speak with a representative",query:"contact customer service"},{text:"File a complaint",query:"how to file complaint"},{text:"Try a different approach",query:"alternative options"}]},Et={applyId:[{text:"Check ID application status",query:"check id application status"},{text:"While waiting, get a passport",query:"apply for passport"},{text:"Update my address",query:"change address on id"}],applyPassport:[{text:"Track passport application",query:"track passport status"},{text:"Visa requirements for travel",query:"visa requirements"},{text:"Expedited passport options",query:"expedited passport"}],fileTaxes:[{text:"Track my refund",query:"where is my tax refund"},{text:"Common deductions to claim",query:"tax deductions"},{text:"Set up estimated payments",query:"quarterly tax payments"}],driverLicense:[{text:"Schedule driving test",query:"schedule driving test"},{text:"Study the driver handbook",query:"driver handbook"},{text:"Register my vehicle",query:"vehicle registration"}],reportCrime:[{text:"Track my case status",query:"check case status"},{text:"Victim support services",query:"victim assistance"},{text:"File insurance claim",query:"file insurance claim for theft"}],healthInsurance:[{text:"Find a doctor",query:"find healthcare provider"},{text:"Check my coverage",query:"what does my plan cover"},{text:"Add a dependent",query:"add family member to insurance"}],housingApplication:[{text:"Check waitlist position",query:"housing waitlist status"},{text:"Emergency housing help",query:"emergency housing assistance"},{text:"Know my tenant rights",query:"tenant rights"}],trackPackage:[{text:"Report missing package",query:"package not delivered"},{text:"Redirect delivery",query:"change delivery address"},{text:"File shipping claim",query:"damaged package claim"}]};function Bs(n={}){var l;const e=[],i=new Set,s=(c,d,p="normal")=>{const u=c.query||c.text;i.has(u)||(i.add(u),e.push({...c,source:d,priority:c.priority||p}))},r=new Date().toLocaleString("default",{month:"long"}).toLowerCase();Lt[r]&&Lt[r].forEach(c=>s(c,"time-based",c.priority||"normal")),n.lastIntent&&Et[n.lastIntent]&&Et[n.lastIntent].forEach(c=>s(c,"intent-based","high"));const a=((l=n.lastMessage)==null?void 0:l.toLowerCase())||"";for(const[c,d]of Object.entries(Fs))if(d.triggers.some(p=>a.includes(p))){const p=d.steps.findIndex(m=>a.includes(m.service.replace("-"," ")));d.steps.slice(p+1,p+3).forEach(m=>{s({text:m.description,query:m.service.replace("-"," ")},`journey:${c}`,"medium")})}if(n.currentService){const c=qs[n.currentService];c&&(c.prerequisites.forEach(d=>{var p;(p=n.completedServices)!=null&&p.includes(d)||s({text:`First, you may need: ${d.replace("-"," ")}`,query:d.replace("-"," ")},"prerequisite","high")}),c.commonNextSteps.slice(0,2).forEach(d=>{s({text:`Often needed next: ${d.replace("-"," ")}`,query:d.replace("-"," ")},"next-step")}))}if(n.discussedTopics)for(const c of n.discussedTopics)Rt[c]&&Rt[c].slice(0,1).forEach(d=>s(d,`context:${c}`));n.sentiment==="frustrated"&&(s({text:"Talk to a representative",query:"contact customer service"},"sentiment","high"),s({text:"File a complaint",query:"how to file complaint"},"sentiment")),n.entities&&(n.entities.caseNumber&&s({text:"Check case status",query:`status of case ${n.entities.caseNumber}`},"entity"),n.entities.trackingNumber&&s({text:"Track your package",query:`track ${n.entities.trackingNumber}`},"entity"));const o={high:0,medium:1,normal:2,low:3};return e.sort((c,d)=>o[c.priority]-o[d.priority]).slice(0,4)}function _s(){const n=new Date,e=n.toLocaleString("default",{month:"long"}).toLowerCase(),i=n.getDate(),s=[];if(e==="april"&&i<=15&&s.push({type:"deadline",urgency:i>=10?"critical":"high",message:`Tax deadline April 15! ${15-i} days remaining.`,action:"file taxes now"}),e==="november"||e==="december"){const r=e==="december"?31-i:30-i+31;s.push({type:"enrollment",urgency:r<=7?"critical":"high",message:`Health insurance open enrollment: ${r} days left!`,action:"enroll in health insurance"})}return s}const se={IDENTITY:"identity",TAXES:"taxes",TRANSPORT:"transport",POLICE:"police",HEALTH:"health",HOUSING:"housing",BUSINESS:"business"},it={"national-id-application":{id:"national-id-application",name:"National ID Application Form (ID-100)",department:"interior",category:se.IDENTITY,url:"/interior/id",fee:{new:"25",renewal:"15",replacement:"20"},processingTime:"5-7 business days",validFor:"10 years",description:"Official application form for obtaining or renewing a Praya National ID card.",eligibility:["Praya citizen (by birth or naturalization)","Permanent resident with valid status","At least 16 years old (minors need guardian signature)"],requiredDocuments:[{name:"Birth Certificate",note:"Original or certified copy",required:!0},{name:"Proof of Address",note:"Utility bill, bank statement, or lease (within 90 days)",required:!0},{name:"Passport-style Photo",note:"2x2 inches, white background, taken within 6 months",required:!0},{name:"Current ID (for renewal)",note:"Expired ID acceptable for renewal only",required:!1},{name:"Legal Name Change Documents",note:"Court order or marriage certificate if applicable",required:!1}],formFields:[{name:"Full Legal Name",type:"text",required:!0,tip:"Must match birth certificate exactly"},{name:"Date of Birth",type:"date",required:!0,tip:"Format: DD/MM/YYYY"},{name:"Place of Birth",type:"text",required:!0,tip:"City and country"},{name:"Current Address",type:"address",required:!0,tip:"Must match proof of address document"},{name:"Gender",type:"select",required:!0,options:["Male","Female","Non-binary","Prefer not to say"]},{name:"Height",type:"number",required:!0,tip:"In centimeters"},{name:"Eye Color",type:"select",required:!0,options:["Brown","Blue","Green","Hazel","Gray","Other"]},{name:"Emergency Contact",type:"contact",required:!0,tip:"Name and phone number"},{name:"Signature",type:"signature",required:!0,tip:"Sign within the box using black ink"}],commonMistakes:[{mistake:"Name spelling differs from birth certificate",fix:"Ensure exact spelling match or provide legal name change documentation"},{mistake:"Photo doesn't meet requirements",fix:"Use white background, no glasses, neutral expression, taken within 6 months"},{mistake:"Proof of address is outdated",fix:"Document must be dated within the last 90 days"},{mistake:"Missing signature",fix:"Sign in black ink within the designated box"},{mistake:"Incomplete emergency contact",fix:"Provide full name and working phone number"}],stepByStep:["Gather all required documents (birth certificate, proof of address, photo)","Fill out the ID-100 form online or at an Interior Department office","Schedule an appointment or visit during walk-in hours","Present documents and complete biometric capture (fingerprints, photo)","Pay the applicable fee (25 new, 15 renewal)","Receive temporary ID receipt (valid for 30 days)","Collect your ID card in 5-7 business days or opt for mail delivery (+5)"],tips:["Apply 2-3 months before your current ID expires to avoid gaps","Online applications process faster than walk-in","PrayaPass account required for online applications","You can track application status online with your reference number"],relatedForms:["passport-application","address-change-form"]},"passport-application":{id:"passport-application",name:"Passport Application Form (PP-1)",department:"interior",category:se.IDENTITY,url:"/interior/passport",fee:{standard:"80",expedited:"150",childUnder16:"60"},processingTime:{standard:"10-14 business days",expedited:"3-5 business days"},validFor:{adult:"10 years",minor:"5 years"},description:"Application for a new Praya passport or passport renewal.",eligibility:["Praya citizen (by birth or naturalization)","Must have valid National ID","No outstanding court orders preventing travel"],requiredDocuments:[{name:"National ID",note:"Valid and current",required:!0},{name:"Passport Photos",note:"2 copies, 2x2 inches, white background",required:!0},{name:"Current Passport (for renewal)",note:"Even if expired",required:!1},{name:"Birth Certificate",note:"For first-time applicants",required:!0},{name:"Proof of Urgent Travel",note:"For expedited service only",required:!1},{name:"Parental Consent",note:"For minors under 18, signed by both parents",required:!1}],formFields:[{name:"Full Legal Name",type:"text",required:!0,tip:"As it should appear on passport"},{name:"Previous Names",type:"text",required:!1,tip:"Maiden name or former names"},{name:"Date of Birth",type:"date",required:!0},{name:"Place of Birth",type:"text",required:!0},{name:"National ID Number",type:"text",required:!0},{name:"Occupation",type:"text",required:!0},{name:"Employer/School",type:"text",required:!1},{name:"Travel Plans",type:"textarea",required:!1,tip:"Optional but helps if expedited"},{name:"Emergency Contact Abroad",type:"contact",required:!0}],commonMistakes:[{mistake:"Photos don't meet ICAO standards",fix:"No glasses, neutral expression, ears visible, proper lighting"},{mistake:"Applying with expired National ID",fix:"Renew your National ID first or bring proof of pending renewal"},{mistake:"Not enough blank pages in current passport",fix:"Request additional pages or apply for new passport"},{mistake:"Name change not reflected in ID",fix:"Update National ID first, then apply for passport"},{mistake:"Incomplete parental consent for minors",fix:"Both parents must sign, or provide sole custody documentation"}],stepByStep:["Verify your National ID is valid and information is current","Get passport photos that meet requirements (ICAO compliant)","Complete PP-1 form online through PrayaPass or download PDF","Schedule an in-person appointment (required for all passport applications)","Bring all required documents to your appointment","Pay fee and complete biometric capture","Receive tracking number for status updates","Collect passport in person or opt for secure mail delivery (+15)"],tips:["Expedited service requires proof of travel within 14 days","Book appointments early during peak travel seasons (summer, holidays)","Check visa requirements for your destination before traveling","Report lost passports immediately to prevent identity fraud"],relatedForms:["national-id-application","name-change-request"]},"individual-tax-return":{id:"individual-tax-return",name:"Individual Tax Return (Form 1040-PY)",department:"revenue",category:se.TAXES,url:"/revenue/file",fee:"Free (e-file for income under 75,000)",deadline:"April 15 annually",description:"Annual income tax return for individual Praya taxpayers.",eligibility:["Income above 12,950 (single) or 25,900 (married filing jointly)","Self-employed income over 400","Praya citizen or resident with taxable income"],requiredDocuments:[{name:"W-2 Forms",note:"From all employers",required:!0},{name:"1099 Forms",note:"Freelance/contract income, interest, dividends",required:!1},{name:"Previous Year Tax Return",note:"For reference and carryover deductions",required:!1},{name:"Receipts for Deductions",note:"Charitable donations, medical expenses, etc.",required:!1},{name:"Social Security Statement",note:"If receiving benefits",required:!1},{name:"Bank Account Info",note:"For direct deposit of refunds",required:!1}],formFields:[{name:"Filing Status",type:"select",required:!0,options:["Single","Married Filing Jointly","Married Filing Separately","Head of Household","Qualifying Widow(er)"]},{name:"Total Income",type:"currency",required:!0},{name:"Adjusted Gross Income",type:"currency",required:!0},{name:"Standard/Itemized Deduction",type:"select",required:!0},{name:"Tax Credits",type:"currency",required:!1},{name:"Tax Withheld",type:"currency",required:!0},{name:"Estimated Payments",type:"currency",required:!1},{name:"Refund or Amount Owed",type:"currency",required:!0}],commonMistakes:[{mistake:"Wrong filing status",fix:"Review eligibility for each status; Head of Household requires dependents"},{mistake:"Missing W-2 income",fix:"Wait for all W-2s; employers must mail by January 31"},{mistake:"Math errors",fix:"Use e-file software which calculates automatically"},{mistake:"Forgetting to sign",fix:"Electronic signature required for e-file; manual signature for paper"},{mistake:"Not reporting all 1099 income",fix:"RD receives copies; unreported income triggers audits"},{mistake:"Missing quarterly estimated payments",fix:"Self-employed must make quarterly payments to avoid penalties"}],stepByStep:["Gather all income documents (W-2s, 1099s) by early February","Log into PrayaPass and access the Revenue Department portal",'Select "File Individual Return" and choose tax year',"Import W-2s electronically or enter manually","Enter additional income (1099s, investments, rental)","Choose standard deduction or itemize if beneficial","Apply eligible tax credits (child tax credit, education, etc.)","Review return for accuracy and completeness","Submit and receive confirmation number","Track refund status online (21 days average for e-file)"],tips:["E-file is faster and has fewer errors than paper filing","Standard deduction in 2024: 13,850 (single), 27,700 (married joint)","Keep records for 7 years in case of audit","Request extension by April 15 if needed (Form 4868-PY)","Free filing assistance available for incomes under 75,000"],deductions:{standard:{single:"13,850",marriedJoint:"27,700",headOfHousehold:"20,800"},itemizable:["Mortgage interest (up to 750,000 loan)","State/local taxes (up to 10,000)","Charitable donations","Medical expenses (over 7.5% of AGI)","Student loan interest (up to 2,500)"]},relatedForms:["tax-payment-voucher","estimated-tax-payment","tax-extension-request"]},"driver-license-application":{id:"driver-license-application",name:"Driver License Application (DL-1)",department:"transport",category:se.TRANSPORT,url:"/transport/license",fee:{new:"45",renewal:"30",replacement:"25"},processingTime:"5-7 business days after testing",validFor:"5 years",description:"Application for new driver license, renewal, or replacement.",eligibility:["At least 16 years old (with parental consent) or 18+ for unrestricted","Valid National ID or Passport","Pass vision, written, and road tests (new applicants)","No suspended or revoked licenses"],requiredDocuments:[{name:"National ID or Passport",note:"Valid and current",required:!0},{name:"Proof of Address",note:"Within 90 days",required:!0},{name:"Learner Permit",note:"For new license applicants",required:!1},{name:"Current License",note:"For renewal or replacement",required:!1},{name:"Parental Consent",note:"For applicants 16-17 years old",required:!1},{name:"Vision Test Results",note:"Can be done at TD office",required:!0},{name:"Proof of Insurance",note:"For road test",required:!0}],formFields:[{name:"Full Legal Name",type:"text",required:!0},{name:"Date of Birth",type:"date",required:!0},{name:"National ID Number",type:"text",required:!0},{name:"Current Address",type:"address",required:!0},{name:"License Class",type:"select",required:!0,options:["Class A (Standard)","Class B (Commercial)","Class C (Motorcycle)","Class D (Heavy Vehicle)"]},{name:"Organ Donor",type:"checkbox",required:!1,tip:"Optional but encouraged"},{name:"Restrictions/Accommodations",type:"text",required:!1,tip:"Corrective lenses, hand controls, etc."},{name:"Medical Conditions",type:"textarea",required:!1,tip:"Conditions affecting driving ability"}],commonMistakes:[{mistake:"Failing to bring required documents",fix:"Check checklist before appointment; all docs must be originals"},{mistake:"Expired proof of address",fix:"Document must be dated within 90 days"},{mistake:"Not practicing parallel parking",fix:"Practice in the actual test vehicle; most common fail point"},{mistake:"Forgetting to check mirrors",fix:"Exaggerate mirror checks during test; examiners must see it"},{mistake:"No vehicle for road test",fix:"Bring a registered, insured vehicle or schedule TD vehicle (+20)"}],stepByStep:["Study the Driver Handbook (free PDF on Transport Department site)","Apply for Learner Permit if new driver","Complete required practice hours (50 hours, 10 at night)","Schedule written test online or walk-in","Pass written test (70% required)","Schedule road test (2-week minimum wait after written)","Pass road test and vision screening","Pay fee and receive temporary license","Permanent license mailed within 5-7 days"],testInfo:{written:{questions:40,passingScore:"70% (28 correct)",timeLimit:"45 minutes"},road:{duration:"20-30 minutes",includes:["Pre-drive checklist","City driving","Parallel parking","Three-point turn","Highway merge (varies)"]}},tips:["Schedule road test early in the morning for less traffic","Bring your own vehicle for road test - you'll be more comfortable","Practice the exact route if possible (ask locals)","Online renewal available if no changes to address/info"],relatedForms:["vehicle-registration","learner-permit-application"]},"police-report-form":{id:"police-report-form",name:"Police Incident Report (NPA-101)",department:"npa",category:se.POLICE,url:"/npa/report",fee:"Free",processingTime:"24-48 hours for confirmation",description:"Official form for reporting non-emergency crimes and incidents.",eligibility:["Online filing: Thefts under 2,500, vandalism, lost property, identity fraud, vehicle accidents (no injuries)","In-person only: Violent crimes, thefts over 2,500, crimes in progress"],requiredDocuments:[{name:"Valid ID",note:"National ID or Passport",required:!0},{name:"Photos of Damage",note:"If applicable",required:!1},{name:"Receipts/Proof of Value",note:"For stolen items",required:!1},{name:"Witness Information",note:"Names and contact details",required:!1},{name:"Insurance Information",note:"For claims purposes",required:!1}],formFields:[{name:"Incident Type",type:"select",required:!0,options:["Theft","Vandalism","Lost Property","Identity Fraud","Vehicle Accident","Other"]},{name:"Date of Incident",type:"date",required:!0},{name:"Time of Incident",type:"time",required:!0,tip:"Approximate if unknown"},{name:"Location",type:"address",required:!0},{name:"Description",type:"textarea",required:!0,tip:"Be detailed: who, what, where, when, how"},{name:"Stolen/Damaged Items",type:"itemList",required:!1},{name:"Suspect Description",type:"textarea",required:!1},{name:"Witness Information",type:"contactList",required:!1},{name:"Evidence Uploaded",type:"file",required:!1}],commonMistakes:[{mistake:"Vague descriptions",fix:"Include specific details: colors, sizes, serial numbers, distinguishing features"},{mistake:"Inaccurate timeline",fix:"Use your phone/email history to verify exact times"},{mistake:"Forgetting to include serial numbers",fix:"Check receipts, boxes, or registration for electronics"},{mistake:"Not preserving evidence",fix:"Don't clean up crime scene; photograph everything before touching"},{mistake:"Delayed reporting",fix:"Report as soon as possible; delays reduce investigation success"}],stepByStep:["If emergency, call 911 first - do not use online form","Log into PrayaPass and navigate to NPA portal",'Select "File Online Report" and choose incident type',"Provide detailed description with all known facts","List all stolen/damaged items with estimated values","Upload photos or evidence if available","Submit and save your case number (NPA-XXXXXX)","Check email for confirmation within 24-48 hours","Use case number to track status online"],tips:["You can add information to your report later using your case number","Police may contact you for follow-up questions","Request a copy of your report for insurance claims","For vehicle accidents, exchange insurance info before filing"],relatedForms:["police-clearance-application","victim-compensation-claim"]},"police-clearance-application":{id:"police-clearance-application",name:"Police Clearance Certificate Application (NPA-200)",department:"npa",category:se.POLICE,url:"/npa/services",fee:"20",processingTime:"3 business days",validFor:"6 months",description:"Criminal background check certificate for employment, immigration, or licensing.",eligibility:["Praya citizen or resident","Valid National ID","No outstanding warrants (will delay processing)"],requiredDocuments:[{name:"National ID",note:"Valid and current",required:!0},{name:"Passport Photo",note:"1 copy, 2x2 inches",required:!0},{name:"Completed Application Form",note:"NPA-200",required:!0},{name:"Purpose Letter",note:"From employer, embassy, or licensing body",required:!1}],formFields:[{name:"Full Legal Name",type:"text",required:!0},{name:"Previous Names/Aliases",type:"text",required:!1},{name:"Date of Birth",type:"date",required:!0},{name:"Place of Birth",type:"text",required:!0},{name:"National ID Number",type:"text",required:!0},{name:"Purpose of Certificate",type:"select",required:!0,options:["Employment","Immigration/Visa","Professional License","Adoption","Other"]},{name:"Destination Country",type:"text",required:!1,tip:"If for immigration"},{name:"Number of Copies",type:"number",required:!0,tip:"Additional copies 5 each"}],commonMistakes:[{mistake:"Not listing all previous names",fix:"Include maiden name, aliases, or any legal name changes"},{mistake:"Wrong purpose selection",fix:"Check with requesting organization for correct category"},{mistake:"Insufficient copies",fix:"Order extra copies upfront; ordering later takes full 3 days again"}],stepByStep:["Apply online through PrayaPass or visit NPA office","Complete form NPA-200 with accurate information","Upload or provide passport photo","Pay 20 fee (+5 per additional copy)","Submit fingerprints (online uses previous biometrics; in-person requires new scan)","Receive confirmation and tracking number","Collect certificate in 3 business days (pickup or mail +5)"],tips:["Some countries require apostille certification - add 2-3 days","Express service available for 40 (24-hour processing)","Digital certificates available for domestic employment verification","Certificate is valid for 6 months from issue date"],relatedForms:["national-id-application","passport-application"]},"health-insurance-enrollment":{id:"health-insurance-enrollment",name:"National Health Insurance Enrollment (HD-100)",department:"health",category:se.HEALTH,url:"/health/insurance",fee:"Premiums vary by plan and income",enrollmentPeriod:"November 1 - December 31 (annual)",description:"Enrollment form for National Health Insurance coverage.",eligibility:["Praya citizen or legal resident","Not covered by employer-sponsored insurance","Income verification required for subsidies"],requiredDocuments:[{name:"National ID",note:"Valid",required:!0},{name:"Proof of Income",note:"Pay stubs, tax return, or benefits statement",required:!0},{name:"Proof of Residence",note:"Within 90 days",required:!0},{name:"Current Insurance Info",note:"If switching plans",required:!1},{name:"Family Member IDs",note:"For family enrollment",required:!1}],formFields:[{name:"Enrollment Type",type:"select",required:!0,options:["Individual","Individual + Spouse","Family","Family + Dependents"]},{name:"Plan Selection",type:"select",required:!0,options:["Standard Plan","Premium Plan"]},{name:"Annual Household Income",type:"currency",required:!0},{name:"Primary Care Physician",type:"text",required:!1},{name:"Current Medications",type:"textarea",required:!1},{name:"Pre-existing Conditions",type:"textarea",required:!1,tip:"Cannot be denied coverage"},{name:"Payment Method",type:"select",required:!0,options:["Monthly Auto-Pay","Quarterly","Annual"]}],planInfo:{standard:{name:"Standard Plan",premium:"50-350/month (income-based)",deductible:"2,500/year",coverage:"70% after deductible",includes:["Preventive care","Emergency services","Hospitalization","Prescription drugs (formulary)"]},premium:{name:"Premium Plan",premium:"180-520/month (income-based)",deductible:"500/year",coverage:"90% after deductible",includes:["All Standard benefits","Specialist visits","Mental health","Dental & vision","Alternative medicine"]}},commonMistakes:[{mistake:"Missing open enrollment period",fix:"Special enrollment available for life events (job loss, marriage, birth)"},{mistake:"Underestimating income",fix:"Accurate reporting prevents subsidy repayment at tax time"},{mistake:"Not listing all household members",fix:"Include all dependents for accurate premium calculation"},{mistake:"Choosing wrong plan for needs",fix:"Compare total costs including premiums, deductibles, and typical usage"}],stepByStep:["Review plan options on Health Department portal","Calculate estimated costs using the premium calculator","Gather income documentation","Complete HD-100 form online during open enrollment","Select your plan and primary care physician","Set up payment method","Submit and receive confirmation","Coverage begins January 1 (or first of month after special enrollment)"],tips:["Use the online calculator to compare Standard vs Premium total costs","Low-income applicants may qualify for 0 premium plans","Life events (marriage, birth, job loss) qualify for special enrollment","Preventive care is free on all plans - use it!"],relatedForms:["vaccination-schedule","provider-change-request"]},"housing-application":{id:"housing-application",name:"Public Housing Application (HA-100)",department:"housing",category:se.HOUSING,url:"/housing/apply",fee:"Free",processingTime:"Waitlist varies by region",description:"Application for public housing or rental assistance programs.",eligibility:["Praya citizen or legal resident","Household income below area median income thresholds","No previous evictions from public housing","Pass background check"],requiredDocuments:[{name:"National ID",note:"For all adult household members",required:!0},{name:"Proof of Income",note:"Last 3 months pay stubs, tax returns, or benefits",required:!0},{name:"Birth Certificates",note:"For all children in household",required:!0},{name:"Current Lease",note:"If applicable",required:!1},{name:"Eviction History",note:"Must disclose any evictions",required:!0},{name:"Bank Statements",note:"Last 3 months",required:!0}],formFields:[{name:"Household Size",type:"number",required:!0},{name:"All Household Members",type:"personList",required:!0},{name:"Total Household Income",type:"currency",required:!0},{name:"Current Housing Situation",type:"select",required:!0,options:["Renting","Homeless","Living with Family","Other"]},{name:"Preferred Locations",type:"multiSelect",required:!0},{name:"Accessibility Needs",type:"checkbox",required:!1},{name:"Emergency Priority",type:"checkbox",required:!1,tip:"Homeless, domestic violence, or uninhabitable conditions"}],incomeThresholds:{veryLow:"50% of Area Median Income (AMI)",low:"80% of Area Median Income (AMI)",example:"Family of 4: Very Low = 42,000, Low = 67,200"},commonMistakes:[{mistake:"Incomplete household information",fix:"List ALL people who will live in the unit, including children"},{mistake:"Unreported income",fix:"Include all income sources: wages, benefits, child support, etc."},{mistake:"Not updating contact info",fix:"Maintain current phone/email; missed contact = removed from waitlist"},{mistake:"Missing annual recertification",fix:"Respond to annual income verification within 30 days"}],stepByStep:["Check income eligibility using online calculator","Gather all required documents for household members","Complete HA-100 form online through PrayaPass","Select preferred housing locations (multiple increases chances)","Submit application and receive confirmation number","Complete in-person interview if contacted","Await placement on waitlist (check status online)","Respond promptly when housing becomes available"],tips:["Apply to multiple regions to increase chances","Emergency situations may qualify for priority placement","Keep all contact information updated","Respond within 10 days to any Housing Authority correspondence"],relatedForms:["rental-assistance-application","tenant-rights-complaint"]},"company-registration":{id:"company-registration",name:"Company Registration Form (CR-100)",department:"cr",category:se.BUSINESS,url:"/cr/register",fee:{llc:"200",corporation:"300",dba:"50"},processingTime:"3-5 business days",description:"Register a new business entity in Praya.",eligibility:["Praya citizen or legal resident","At least 18 years old","Unique business name (check availability first)","Registered agent with Praya address"],requiredDocuments:[{name:"National ID",note:"Of all owners/directors",required:!0},{name:"Articles of Incorporation",note:"For corporations",required:!1},{name:"Operating Agreement",note:"For LLCs",required:!1},{name:"Name Reservation Certificate",note:"If name was reserved",required:!1},{name:"Registered Agent Consent",note:"If using third-party agent",required:!1}],formFields:[{name:"Business Name",type:"text",required:!0},{name:"Entity Type",type:"select",required:!0,options:["Sole Proprietorship","LLC","Corporation","Partnership","Non-Profit"]},{name:"Business Purpose",type:"textarea",required:!0},{name:"Business Address",type:"address",required:!0},{name:"Registered Agent",type:"contact",required:!0},{name:"Owners/Directors",type:"personList",required:!0},{name:"Ownership Percentages",type:"percentList",required:!0},{name:"Fiscal Year End",type:"select",required:!0,options:["December 31","March 31","June 30","September 30"]}],commonMistakes:[{mistake:"Business name already taken",fix:"Search name availability before applying"},{mistake:"Wrong entity type for needs",fix:"Consult with business advisor; LLC common for liability protection"},{mistake:"Missing registered agent",fix:"Must have physical Praya address; cannot be P.O. Box"},{mistake:"Incomplete owner information",fix:"All owners/directors need full legal names and addresses"}],stepByStep:["Search business name availability on CR portal","Reserve name if desired (25, valid 120 days)","Choose appropriate entity type","Prepare required documents (articles, operating agreement)","Complete CR-100 form online","Pay filing fee","Receive Certificate of Formation (3-5 business days)","Apply for Tax ID with Revenue Department","Register for any required licenses/permits"],tips:["LLCs offer liability protection without corporate complexity","Annual report required by anniversary date (50 fee)","Consider professional registered agent service (100-200/year)","Business bank account requires Certificate of Formation"],relatedForms:["tax-id-application","business-license-application"]}};function $s(n){var s;const e=n.toLowerCase(),i=[];for(const r of Object.values(it))[r.name,r.description,...r.eligibility||[],...((s=r.requiredDocuments)==null?void 0:s.map(o=>o.name))||[]].join(" ").toLowerCase().includes(e)&&i.push(r);return i}function Hs(n){const e=it[n];if(!e)return null;let i=`**${e.name}**

`;return i+=`${e.description}

`,e.fee&&(typeof e.fee=="string"?i+=`**Fee:** ${e.fee}
`:i+=`**Fees:** ${Object.entries(e.fee).map(([s,r])=>`${s}: ${r}`).join(", ")}
`),e.processingTime&&(typeof e.processingTime=="string"?i+=`**Processing Time:** ${e.processingTime}
`:i+=`**Processing Time:** ${Object.entries(e.processingTime).map(([s,r])=>`${s}: ${r}`).join(", ")}
`),e.url&&(i+=`
**Apply Online:** [${e.name}](${e.url})
`),i}function Te(n,e="all"){var r,a,o,l;const i=it[n];if(!i)return null;let s=`**${i.name}**

`;return(e==="all"||e==="overview")&&(s+=`${i.description}

`),(e==="all"||e==="requirements")&&((r=i.requiredDocuments)==null?void 0:r.length)>0&&(s+=`**Required Documents:**
`,i.requiredDocuments.forEach(c=>{const d=c.required?"(Required)":"(If applicable)";s+=`- ${c.name} ${d}${c.note?` - ${c.note}`:""}
`}),s+=`
`),(e==="all"||e==="steps")&&((a=i.stepByStep)==null?void 0:a.length)>0&&(s+=`**Step-by-Step Process:**
`,i.stepByStep.forEach((c,d)=>{s+=`${d+1}. ${c}
`}),s+=`
`),(e==="all"||e==="mistakes")&&((o=i.commonMistakes)==null?void 0:o.length)>0&&(s+=`**Common Mistakes to Avoid:**
`,i.commonMistakes.forEach(c=>{s+=`- **${c.mistake}**: ${c.fix}
`}),s+=`
`),(e==="all"||e==="tips")&&((l=i.tips)==null?void 0:l.length)>0&&(s+=`**Pro Tips:**
`,i.tips.forEach(c=>{s+=`- ${c}
`})),s}class Vs{constructor(){{this.initialized=!1;return}}buildDynamicContext(e={}){let i="";return e.conversationSummary&&(i+=`

## Current Conversation Context
${e.conversationSummary}`),e.expertiseLevel==="technical"?i+=`

## Response Style Note
The user appears technically proficient. You may use more specific terminology and provide detailed technical information where relevant.`:e.expertiseLevel==="general"&&(i+=`

## Response Style Note
Keep explanations clear and avoid jargon. Use step-by-step instructions where helpful.`),e.apparentGoal&&(i+=`

## User's Apparent Goal
The user appears to be: ${e.apparentGoal}. Focus your response on helping them achieve this goal.`),e.entities&&Object.keys(e.entities).length>0&&(i+=`

## Referenced Information
The user has mentioned these specific references: `,i+=Object.entries(e.entities).map(([s,r])=>`${s}: ${r}`).join(", "),i+=". Reference these naturally in your response if relevant."),e.sentiment==="frustrated"&&(i+=`

## Important: User Assistance Note
The user seems frustrated. Please:
- Acknowledge their situation empathetically
- Provide an especially clear and helpful response
- Offer multiple ways to get help (online, phone, in-person)
- Be extra patient and thorough`),e.isFirstMessage&&(i+=`

## First Interaction
This is the user's first message. Be welcoming and offer to help them navigate available services.`),e.topics&&e.topics.length>0&&(i+=`

## Related Topics in Conversation
Topics discussed: ${e.topics.join(", ")}. Consider mentioning related services if relevant.`),i}generateProactiveSuggestions(e,i={}){const s={lastIntent:i.lastIntent,lastMessage:i.lastMessage||"",sentiment:i.sentiment,entities:i.entities||{},discussedTopics:i.topics||i.currentTopics||[],currentService:i.currentService},r=Bs(s),a=_s();return a.length>0&&a.forEach(o=>{(o.urgency==="critical"||o.urgency==="high")&&r.unshift({text:o.message,query:o.action,priority:"high",type:"alert"})}),r.slice(0,3)}detectFormQuery(e){if([/what (documents?|forms?|papers?) (do i |should i |to )?need/i,/how (do i|to) (fill|complete|submit)/i,/what('s| is) required for/i,/step[- ]?by[- ]?step/i,/common mistakes?/i,/requirements? for/i,/checklist for/i].some(r=>r.test(e))){const r=$s(e);if(r.length>0)return{form:r[0],type:"form-query"}}return null}generateFormResponse(e,i){const s=i.toLowerCase();return s.includes("step")||s.includes("how to")||s.includes("process")?Te(e.id,"steps"):s.includes("mistake")||s.includes("error")||s.includes("wrong")?Te(e.id,"mistakes"):s.includes("document")||s.includes("need")||s.includes("required")?Te(e.id,"requirements"):s.includes("tip")||s.includes("advice")?Te(e.id,"tips"):Hs(e.id)}isAvailable(){return this.initialized}buildContext(e){if(!e||e.length===0)return"";let i=`

Relevant Department Information:
`;return e.forEach(s=>{i+=`
**[${s.name}](${s.url||"/"+s.id})**:
`,i+=`Description: ${s.description}
`,s.url&&(i+=`Portal URL: ${s.url}
`),s.subPages&&s.subPages.length>0&&(i+=`Quick Links: ${s.subPages.map(r=>`[${r.name}](${r.url})`).join(" | ")}
`),s.services&&s.services.length>0&&(i+=`Services: ${s.services.slice(0,5).join(", ")}
`),s.contact&&(i+=`Contact: ${s.contact}
`)}),i}formatHistory(e){return!e||e.length===0?[]:e.map(i=>({role:i.sender==="user"?"user":"model",parts:[{text:i.text}]}))}async generateResponse(e,i=[],s=[],r={}){var a,o,l,c,d,p;if(!this.initialized)throw new Error("Gemini API not initialized");try{const u=this.detectFormQuery(e);if(u&&u.form){const N=this.generateFormResponse(u.form,e),P=this.generateProactiveSuggestions(N,{...r,lastMessage:e,currentService:u.form.id});return{success:!0,response:N,suggestions:P,source:"form-knowledge",formInfo:{formId:u.form.id,formName:u.form.name,url:u.form.url}}}const m=this.buildContext(i),h=this.buildDynamicContext(r),g=`You are a helpful assistant for GOV.PRAYA - the official Government of Praya web portal.

## About GOV.PRAYA
The Republic of Praya is a nation of 2.4 million citizens with a modern, digital-first government. The portal offers 127 online services available 24/7 across 15 major departments, committed to transparency, efficiency, and accessibility through technology.

## Key Features
- **PrayaPass**: Secure digital identity and authentication system (single sign-on across all services)
- **Online Services**: 127 services available 24/7
- **15 Major Departments**: NPA, Bank of Praya, CTB, DOJ, Interior, Transport, Revenue, Praya Post, Health, Housing Authority, CBCA, Legislative Council, Buildings Department, Companies Registry, Social Welfare
- **Digital-First**: Modern, responsive interface with unified citizen dashboard

## The 15 Departments (Detailed Information with URLs)

**IMPORTANT: When mentioning departments, always include a hyperlink to the relevant page using markdown format: [Department Name](/url)**

1. **[National Police Agency (NPA)](/npa)**
    Emergency response - Dial 911 (life-threatening, crimes in progress, missing children), Non-emergency: 311
    Online crime reporting (thefts under 2,500, vandalism, lost property, identity fraud)
    Police Services: Clearance certificates (20, standard/enhanced/international), case status lookup, community programs, crime statistics
    Public Safety: Crime prevention tips, emergency preparedness, safety workshops, scam awareness
    Quick Links: [File Report](/npa/report) | [Police Services](/npa/services) | [Public Safety](/npa/safety)
    Stats: 4.2min avg response, -12% crime rate, 87% cases solved, 3,421 officers
    Hours: Walk-in stations 08:00-18:00 daily, Emergency dispatch 24/7
    Contact: 911 (emergency) | 311 (non-emergency) | HQ: +854 200 0000

2. **[Bank of Praya (BOP)](/bop)**
    Central bank, monetary policy, financial stability
    Loans: Mortgage (3.25%-4.75% APR), Personal (5.99%-12.99% APR), Business (4.5%-9.5% APR), Auto (3.99%-8.99% APR)
    Banking Services: Investment management, retirement planning (Traditional/Roth Praya IRA), insurance, wire transfers
    Currency: Official Praya Dollar (), exchange rates updated daily
    Quick Links: [Personal Banking](/bop/personal) | [Loans](/bop/loans) | [Services](/bop/services)
    Hours: Branch hours Mon-Fri 9AM-5PM, Sat 9AM-1PM, Online banking 24/7

3. **[Cannabis Tax Bureau (CTB)](/ctb)**
    Dispensary licensing (new applications and renewals)
    Taxation: 15% excise tax, quarterly filing, tax calculator, payment options (EFT, card, check)
    Compliance: Licensing requirements, routine inspections, violation penalties (Class A/B/C), best practices
    Research: Market stats (420M market, 1,247 licenses), industry reports, policy analysis, trends
    Quick Links: [Apply for License](/ctb/apply) | [Taxation](/ctb/taxation) | [Compliance](/ctb/compliance) | [Research](/ctb/research)
    Stats: 420M market size, 1,247 active licenses, 15% excise tax rate
    Hours: Mon-Fri 8AM-5PM, Online services 24/7

4. **[Department of Justice (DOJ)](/doj)**
    Court system: Supreme Court, Appeals Court (3 divisions), 24 District Courts
    Prosecution Services: Case status inquiry, victim services (24/7 hotline: 1-800-VICTIM-HELP), witness assistance, prosecution guidelines
    Criminal Code: Searchable database (8 titles), legal definitions, sentencing guidelines (felonies/misdemeanors), 2024 amendments
    Online Services: Case lookup, e-filing system (civil/criminal/appeals), court calendar, legal forms (234 forms across 8 categories)
    Quick Links: [Court System](/doj/courts) | [Prosecution](/doj/prosecution) | [Criminal Code](/doj/code) | [Online Services](/doj/services)
    Stats: 12,847 cases filed FY2024, 94.3% resolution rate, 24 courts, 45 days avg resolution
    Hours: Court Mon-Fri 8AM-5PM, Online services 24/7
    Contact: 1-800-PRAYA-COURT (general) | 1-800-PRAYA-DOJ (prosecution) | 1-800-WITNESS (witness assistance)

5. **[Interior Department (ID)](/interior)**
    National IDs (25 new, 15 renewal, 5-7 day processing)
    Passports (80 standard/150 expedited, 10-14 days)
    Birth Certificates (10, 3-5 days)
    Quick Links: [National ID](/interior/id) | [Passport](/interior/passport) | [Birth Certificates](/interior/birth) | [Civil Records](/interior/records)
    Hours: Mon-Fri 8AM-5PM, PrayaPass required for online services

6. **[Transport Department (TD)](/transport)**
    Driver licensing (45 new, 30 renewal, tests available)
    Vehicle Registration: New registration (80-150), renewals (60 annual), ownership transfer (40), plate replacement (25)
    Special Permits: Oversized vehicle permits, temporary permits, disabled parking placards, commercial transport licenses
    Quick Links: [Driver License](/transport/license) | [Vehicle Registration](/transport/registration) | [Special Permits](/transport/permits)
    Hours: Mon-Fri 8AM-5PM, Sat 9AM-1PM select locations

7. **[Revenue Department (RD)](/revenue)**
    Individual tax filing (free e-file for income under 75,000)
    Business tax accounts and filing
    Tax deadline: April 15 annually
    Quick Links: [File Taxes](/revenue/file) | [Make Payment](/revenue/payment) | [Refund Status](/revenue/refunds)
    Stats: 2.8M returns filed, 87% e-file rate, 2,840 avg refund, 21 days processing
    Hours: Mon-Fri 8AM-5PM, Online filing 24/7
    Contact: 1-800-TAX-HELP

8. **[Praya Post (PP)](/post)**
    Package delivery (domestic and international)
    Express shipping, P.O. Box rentals
    Package tracking (format: PP followed by numbers)
    Quick Links: [Track Package](/post/track) | [Ship Package](/post/ship) | [Find Location](/post/locations)
    Hours: Mon-Fri 8AM-6PM, Sat 9AM-1PM, Closed Sundays

9. **[Health Department (HD)](/health)**
    National Health Insurance enrollment
    Standard Plan: 50-350/month, Premium: 180-520/month (income-based)
    Open Enrollment: November 1 - December 31
    Quick Links: [Health Insurance](/health/insurance) | [Vaccinations](/health/vaccinations) | [Find Provider](/health/providers) | [Health Alerts](/health/alerts)
    Stats: 94.2% insured, 1,247 facilities, 81.3 yr life expectancy, 89% vaccination rate
    Contact: 1-800-HEALTH-PY | Crisis: 988 | Poison Control: 1-800-POISON | Emergency: 911

10. **[Housing Authority (HA)](/housing)**
     Public housing applications (income-based eligibility)
     Tenant Rights: Lease agreements, repairs & maintenance, eviction protections, security deposits, fair housing laws
     Landlord Compliance: Property registration (75/year), rental standards, inspections, violation appeals, tenant screening
     Rental assistance programs, affordable housing waitlist
     Quick Links: [Apply for Housing](/housing/apply) | [Check Eligibility](/housing/eligibility) | [Tenant Rights](/housing/tenant) | [Landlord Info](/housing/landlord)
     Hours: Mon-Fri 8AM-5PM, Online applications 24/7

11. **[Customs & Border Control Agency (CBCA)](/cbca)**
     Travel Requirements: Visa types (tourist/business/student/work), passport requirements, entry/exit procedures, travel advisories
     Import/Export: Import permits, export licenses, trade compliance, tariffs & duties, prohibited items
     Customs declarations, duty-free allowances (800 per person)
     Quick Links: [Border Crossings](/cbca/crossings) | [Travel Requirements](/cbca/travel) | [Import/Export](/cbca/import-export)
     Hours: Border crossings 24/7, Office Mon-Fri 8AM-5PM

12. **[Legislative Council (LC)](/lc)**
     Bills & Legislation: Track active bills, browse by topic (healthcare/economy/education), view committee assignments, bill history
     Council Sessions: Session calendar, archived recordings, upcoming hearings, public comment periods
     Voting records, contact your representative (24 districts), committee information
     Quick Links: [Bills & Legislation](/lc/bills) | [Sessions](/lc/sessions) | [Find Representative](/lc/representatives)
     Hours: Public viewing Mon-Fri 8AM-5PM, Session schedules vary

13. **[Buildings Department (BD)](/bd)**
     Building permits (new construction, renovations)
     Inspections, contractor licensing
     Quick Links: [Apply for Permit](/bd/permits) | [Schedule Inspection](/bd/inspections) | [Contractor License](/bd/contractors) | [Building Codes](/bd/codes)
     Hours: Mon-Fri 8AM-5PM, Online permit applications 24/7

14. **[Companies Registry (CR)](/cr)**
     Company registration, annual filings
     Company search, name reservation
     Quick Links: [Register Company](/cr/register) | [Company Search](/cr/search) | [Annual Filings](/cr/filings) | [Name Reservation](/cr/name)
     Hours: Mon-Fri 8AM-5PM, Online registration 24/7

15. **[Social Welfare Department (SWD)](/swd)**
     Social benefits, family services
     Elderly care, disability support
     Quick Links: [Apply for Benefits](/swd/benefits) | [Family Services](/swd/family) | [Elderly Care](/swd/elderly) | [Disability Support](/swd/disability)
     Hours: Mon-Fri 8AM-5PM, Emergency services 24/7

${Os()}

${m}
${h}

## Your Role
- Help citizens navigate government services quickly and efficiently
- Direct users to the right department and provide relevant contact information
- Explain processes, requirements, fees, and office hours
- Be professional, concise, and friendly
- **If you don't have specific information or details about a service, direct users to visit the department's page** (e.g., "For more details, please visit the NPA page at /npa")
- If uncertain about complex procedures, suggest contacting the department directly or visiting their portal
- **Proactively offer related helpful information** when relevant (e.g., if user asks about passport renewal, mention required documents)
- **Anticipate follow-up questions** and address them proactively when appropriate

## Guidelines
- Keep responses under 200 words (increased from 150 for more detailed answers)
- **ALWAYS include hyperlinks** to relevant department pages using markdown format: [Department Name](/url) or [Service Name](/department/service)
- When directing users to a department, provide the direct link (e.g., "Visit the [National Police Agency](/npa) to file a report")
- Use the Quick Links provided above to direct users to specific services (e.g., [File Report](/npa/report), [File Taxes](/revenue/file))
- Reference PrayaPass for online services requiring authentication
- Emergency situations: Always direct to 911 for life-threatening emergencies
- Currency: Use Praya Dollar symbol () when mentioning fees
- Include processing times and fees when relevant to the query
- **End complex answers with a brief follow-up question** to ensure the user's needs are fully met (e.g., "Would you like more details about the required documents?")`,x=this.formatHistory(s.slice(-6)),j=await this.model.startChat({history:[{role:"user",parts:[{text:g}]},{role:"model",parts:[{text:"I understand. I am the GOV.PRAYA assistant for the Republic of Praya government portal. I will help citizens navigate the 15 major departments and 127 online services efficiently, providing information about processes, requirements, fees, and contact details. I will keep responses concise but thorough, be professional and friendly, proactively offer helpful related information, and direct citizens to appropriate resources with direct links."}]},...x]}).sendMessage(e),S=j.response.text(),b=this.generateProactiveSuggestions(S,r);return{success:!0,response:S,suggestions:b,tokensUsed:{prompt:((a=j.response.usageMetadata)==null?void 0:a.promptTokenCount)||0,completion:((o=j.response.usageMetadata)==null?void 0:o.candidatesTokenCount)||0,total:((l=j.response.usageMetadata)==null?void 0:l.totalTokenCount)||0}}}catch(u){throw(c=u.message)!=null&&c.includes("quota")||(d=u.message)!=null&&d.includes("429")?new Error("API quota exceeded. Please try again later."):(p=u.message)!=null&&p.includes("safety")?new Error("Response blocked due to safety filters. Please rephrase your question."):new Error("Failed to generate response. Please try again.")}}getStatus(){return{available:this.initialized,model:"gemini-2.0-flash-lite"}}}const Ws=new Vs,zs="gemini-2.0-flash-exp",Us=`You are a helpful voice assistant for GOV.PRAYA, the official government portal of the Republic of Praya.

Your role:
- Help citizens navigate government services across 15 departments
- Provide concise, spoken responses (keep answers brief for voice)
- Be friendly, professional, and helpful
- For emergencies, always direct to call 911

Key departments: National Police Agency, Bank of Praya, Cannabis Tax Bureau, Department of Justice, Interior Department, Transport Department, Revenue Department, Praya Post, Health Department, Housing Authority, Customs & Border Control, Legislative Council, Buildings Department, Companies Registry, Social Welfare Department.

Currency: Praya Dollar ()

Keep responses conversational and under 3 sentences when possible for voice clarity.`;class Gs{constructor(){this.ws=null,this.isConnected=!1,this.isSetupComplete=!1,this.listeners=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=3,this.audioQueue=[],this.isModelSpeaking=!1}on(e,i){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(i)}off(e,i){if(this.listeners.has(e)){const s=this.listeners.get(e),r=s.indexOf(i);r>-1&&s.splice(r,1)}}emit(e,i){this.listeners.has(e)&&this.listeners.get(e).forEach(s=>{try{s(i)}catch{}})}async connect(){return new Promise((e,i)=>{{const s=new Error("Gemini API key not configured. Please set VITE_GEMINI_API_KEY in your environment or GitHub secrets.");this.emit("error",s),i(s);return}})}sendSetupMessage(){const e={setup:{model:`models/${zs}`,generationConfig:{responseModalities:"audio",speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Aoede"}}}},systemInstruction:{parts:[{text:Us}]}}};this.sendJSON(e)}async handleMessage(e){var i;try{let s;e.data instanceof Blob?s=await e.data.text():s=e.data;const r=JSON.parse(s);if(r.setupComplete){this.isSetupComplete=!0,this.emit("setupComplete");return}if(r.serverContent){const a=r.serverContent;if(a.interrupted){this.isModelSpeaking=!1,this.emit("interrupted");return}if(a.modelTurn&&a.modelTurn.parts){this.isModelSpeaking=!0;for(const o of a.modelTurn.parts)o.inlineData&&((i=o.inlineData.mimeType)!=null&&i.startsWith("audio/"))&&this.emit("audio",{data:o.inlineData.data,mimeType:o.inlineData.mimeType}),o.text&&this.emit("transcript",{type:"model",text:o.text})}a.turnComplete&&(this.isModelSpeaking=!1,this.emit("turnComplete"))}r.toolCall&&this.emit("toolCall",r.toolCall)}catch{}}sendAudio(e){if(!this.isConnected||!this.isSetupComplete)return;const i={realtimeInput:{mediaChunks:[{mimeType:"audio/pcm;rate=16000",data:e}]}};this.sendJSON(i)}sendText(e){if(!this.isConnected||!this.isSetupComplete)return;const i={clientContent:{turns:[{role:"user",parts:[{text:e}]}],turnComplete:!0}};this.sendJSON(i)}sendJSON(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}disconnect(){this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.isConnected=!1,this.isSetupComplete=!1,this.isModelSpeaking=!1}isReady(){return this.isConnected&&this.isSetupComplete}isSpeaking(){return this.isModelSpeaking}}const _=new Gs,ke=16e3,Dt=24e3,Ks=100;class Js{constructor(){this.audioContext=null,this.mediaStream=null,this.workletNode=null,this.sourceNode=null,this.isCapturing=!1,this.onAudioData=null}async start(e){if(!this.isCapturing){this.onAudioData=e;try{this.mediaStream=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:ke,channelCount:1,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:ke});const i=this.audioContext.sampleRate;this.sourceNode=this.audioContext.createMediaStreamSource(this.mediaStream);const s=4096;this.processorNode=this.audioContext.createScriptProcessor(s,1,1);let r=[];const a=Math.floor(ke*Ks/1e3);this.processorNode.onaudioprocess=o=>{if(!this.isCapturing)return;const l=o.inputBuffer.getChannelData(0);let c;i!==ke?c=this.resample(l,i,ke):c=l;for(let d=0;d<c.length;d++)r.push(c[d]);for(;r.length>=a;){const d=r.splice(0,a),p=this.floatTo16BitPCM(d),u=this.arrayBufferToBase64(p);this.onAudioData&&this.onAudioData(u)}},this.sourceNode.connect(this.processorNode),this.processorNode.connect(this.audioContext.destination),this.isCapturing=!0}catch(i){throw i}}}stop(){this.isCapturing=!1,this.processorNode&&(this.processorNode.disconnect(),this.processorNode=null),this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null),this.mediaStream&&(this.mediaStream.getTracks().forEach(e=>e.stop()),this.mediaStream=null),this.audioContext&&this.audioContext.state!=="closed"&&(this.audioContext.close(),this.audioContext=null)}resample(e,i,s){if(i===s)return e;const r=i/s,a=Math.floor(e.length/r),o=new Float32Array(a);for(let l=0;l<a;l++){const c=l*r,d=Math.floor(c),p=Math.min(d+1,e.length-1),u=c-d;o[l]=e[d]*(1-u)+e[p]*u}return o}floatTo16BitPCM(e){const i=new ArrayBuffer(e.length*2),s=new DataView(i);for(let r=0;r<e.length;r++){const a=Math.max(-1,Math.min(1,e[r])),o=a<0?a*32768:a*32767;s.setInt16(r*2,o,!0)}return i}arrayBufferToBase64(e){const i=new Uint8Array(e);let s="";for(let r=0;r<i.byteLength;r++)s+=String.fromCharCode(i[r]);return btoa(s)}}class Qs{constructor(){this.audioContext=null,this.gainNode=null,this.audioQueue=[],this.isPlaying=!1,this.currentSource=null,this.onPlaybackStart=null,this.onPlaybackEnd=null}async init(){this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:Dt}),this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.gainNode.gain.value=1)}async addToQueue(e){this.audioContext||await this.init(),this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.base64ToArrayBuffer(e),s=this.pcmToAudioBuffer(i);this.audioQueue.push(s),this.isPlaying||this.playNext()}playNext(){if(this.audioQueue.length===0){this.isPlaying=!1,this.onPlaybackEnd&&this.onPlaybackEnd();return}this.isPlaying=!0,this.onPlaybackStart&&this.audioQueue.length===1&&this.onPlaybackStart();const e=this.audioQueue.shift();this.currentSource=this.audioContext.createBufferSource(),this.currentSource.buffer=e,this.currentSource.connect(this.gainNode),this.currentSource.onended=()=>{this.playNext()},this.currentSource.start()}stop(){if(this.currentSource){try{this.currentSource.stop()}catch{}this.currentSource=null}this.audioQueue=[],this.isPlaying=!1}setVolume(e){this.gainNode&&(this.gainNode.gain.value=Math.max(0,Math.min(1,e)))}base64ToArrayBuffer(e){const i=atob(e),s=new Uint8Array(i.length);for(let r=0;r<i.length;r++)s[r]=i.charCodeAt(r);return s.buffer}pcmToAudioBuffer(e){const i=new DataView(e),s=e.byteLength/2,r=this.audioContext.createBuffer(1,s,Dt),a=r.getChannelData(0);for(let o=0;o<s;o++){const l=i.getInt16(o*2,!0);a[o]=l/32768}return r}dispose(){this.stop(),this.audioContext&&this.audioContext.state!=="closed"&&(this.audioContext.close(),this.audioContext=null)}}const re={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",ERROR:"error"},V={IDLE:"idle",LISTENING:"listening",PROCESSING:"processing",SPEAKING:"speaking"};function Ys(){const[n,e]=f.useState(re.DISCONNECTED),[i,s]=f.useState(null),[r,a]=f.useState(V.IDLE),[o,l]=f.useState(!1),[c,d]=f.useState(0),[p,u]=f.useState([]),m=f.useRef(null),h=f.useRef(null),g=f.useRef(!1),x=f.useCallback(async()=>{if(!(g.current||n===re.CONNECTED)){g.current=!0,e(re.CONNECTING),s(null);try{await _.connect(),e(re.CONNECTED)}catch(P){e(re.ERROR),s(P.message||"Failed to connect to voice service")}finally{g.current=!1}}},[n]),y=f.useCallback(()=>{_.disconnect(),e(re.DISCONNECTED),a(V.IDLE),l(!1),m.current&&m.current.stop(),h.current&&h.current.stop()},[]),j=f.useCallback(async()=>{if(_.isReady()||await x(),!_.isReady()){s("Voice service not ready");return}try{h.current||(h.current=new Qs,await h.current.init()),m.current||(m.current=new Js),await m.current.start(P=>{_.sendAudio(P)}),l(!0),a(V.LISTENING)}catch(P){s(P.message||"Failed to access microphone"),a(V.IDLE)}},[x]),I=f.useCallback(()=>{m.current&&m.current.stop(),h.current&&h.current.stop(),l(!1),a(V.IDLE)},[]),S=f.useCallback(async()=>{o?I():await j()},[o,j,I]),b=f.useCallback(P=>_.isReady()?(_.sendText(P),!0):!1,[]);f.useEffect(()=>{const P=async A=>{h.current&&await h.current.addToQueue(A.data),a(V.SPEAKING)},D=A=>{u(C=>[...C,A])},W=()=>{a(o?V.LISTENING:V.IDLE)},T=()=>{h.current&&h.current.stop(),a(V.LISTENING)},k=()=>{e(re.DISCONNECTED),a(V.IDLE)},J=A=>{s("Connection error occurred")};return _.on("audio",P),_.on("transcript",D),_.on("turnComplete",W),_.on("interrupted",T),_.on("disconnected",k),_.on("error",J),()=>{_.off("audio",P),_.off("transcript",D),_.off("turnComplete",W),_.off("interrupted",T),_.off("disconnected",k),_.off("error",J)}},[o]),f.useEffect(()=>()=>{m.current&&m.current.stop(),h.current&&h.current.dispose(),_.disconnect()},[]);const N=f.useCallback(()=>{u([])},[]);return{connectionState:n,isConnected:n===re.CONNECTED,connect:x,disconnect:y,voiceState:r,isVoiceModeActive:o,startVoiceMode:j,stopVoiceMode:I,toggleVoiceMode:S,volume:c,isListening:r===V.LISTENING,isSpeaking:r===V.SPEAKING,isProcessing:r===V.PROCESSING,transcripts:p,clearTranscripts:N,sendTextMessage:b,error:i,clearError:()=>s(null)}}const Xs={reportCrime:["I need to report a crime","someone stole my car","I was robbed","there was a break in at my house","I want to file a police report","my wallet was stolen","I witnessed a crime","someone vandalized my property","I need to report theft","I was mugged"],checkCrimeStatus:["check my case status","where is my police report","what happened to my case","update on my report","track my case number","follow up on my report"],emergencyServices:["this is an emergency","someone is hurt","I need help now","call 911","there is a crime happening","someone is dying","I need an ambulance"],policeClearance:["I need a background check","police clearance certificate","criminal record check","I need clearance for a job","background check for employment"],openAccount:["I want to open a bank account","how do I get a savings account","I need a checking account","sign up for banking","create a bank account"],loanInquiry:["I need a loan","how do I get a mortgage","I want to borrow money","apply for home loan","business financing options"],fileTaxes:["I need to file my taxes","how do I do my tax return","submit my income tax","tax filing deadline","I want to file my annual taxes","e-file my taxes online"],taxPayment:["I need to pay my taxes","how much do I owe in taxes","tax payment plan","pay my tax bill"],taxRefund:["where is my tax refund","check refund status","when will I get my refund","track my tax refund"],applyId:["I need a new ID","how do I get a national ID card","renew my identification","replace my lost ID","my ID expired","get a government ID"],applyPassport:["I need a passport","how do I apply for a passport","renew my passport","my passport is expired","replace my lost passport","I need a travel document"],birthCertificate:["I need a birth certificate","get a copy of my birth certificate","register a new birth","order birth certificate"],driverLicense:["I need a driver license","how do I get a driving license","renew my license","schedule a driving test","my license expired","replace my license"],vehicleRegistration:["register my car","vehicle registration renewal","get license plates","title transfer","register a new vehicle"],healthInsurance:["I need health insurance","enroll in health coverage","national health insurance","get my insurance card","medical coverage options"],vaccination:["I need a vaccine","schedule vaccination","where can I get vaccinated","flu shot appointment","immunization records"],housingApplication:["I need affordable housing","apply for public housing","rental assistance","section 8 housing","housing help"],tenantRights:["my landlord is evicting me","tenant rights help","rent dispute","lease problems","housing conditions complaint"],trackPackage:["track my package","where is my delivery","package status","shipping tracking","my package is late"],shipPackage:["I need to ship a package","how much to mail this","send a package","shipping rates","mail a letter"],cannabisLicense:["dispensary license","cannabis business permit","grow permit for marijuana","cultivation license"],importExport:["import goods to praya","export permit","customs duties","bring items into the country"],travelRequirements:["travel to praya requirements","visa needed","border crossing rules","entry requirements"],courtCase:["I have a court case","lawsuit help","legal matter assistance","court date information","I am being sued"],legalAid:["I need a lawyer but cannot afford one","free legal help","public defender","legal assistance"],findRepresentative:["who is my representative","contact my legislator","find my council member"],billStatus:["check bill status","track legislation","voting records","new laws being proposed"]},je={report:3,file:3,apply:3,renew:3,track:3,check:2.5,status:2.5,get:2,need:2,passport:4,license:4,tax:4,police:4,crime:4,id:3.5,refund:3.5,insurance:3.5,housing:3.5,emergency:5,911:5,stolen:3.5,lost:3,certificate:3,permit:3,registration:3,help:1.5,information:1.5,about:1,how:1.5,where:1.5,when:1.5,what:1,can:1};function Zs(n,e){const i=Ke(n),s=Ke(e),r=i.split(/\s+/).filter(h=>h.length>2),a=s.split(/\s+/).filter(h=>h.length>2);if(r.length===0||a.length===0)return 0;let o=0,l=0;for(const h of r)for(const g of a)if(h===g){const x=je[h]||1;o+=x*2,l++}else if(rt(h)===rt(g)){const x=je[h]||je[g]||1;o+=x*1.5,l++}else if(wi(h,g,1)){const x=je[h]||je[g]||1;o+=x,l++}const c=[],d=[];for(let h=0;h<r.length-1;h++)c.push(r[h]+" "+r[h+1]);for(let h=0;h<a.length-1;h++)d.push(a[h]+" "+a[h+1]);for(const h of c)d.includes(h)&&(o+=4,l++);const p=(r.length+a.length)/2,u=o/Math.max(p,1),m=l/Math.max(r.length,a.length);return{score:u,matchRatio:m,matchCount:l,totalWords:r.length+a.length}}function er(n,e={}){var d,p,u;const{minConfidence:i=.3,maxResults:s=3}=e,r=Ke(n),a=bi(n),o=[];for(const[m,h]of Object.entries(Xs)){let g=0,x="",y=0;for(const S of h){const b=Zs(r,S);let N=0;for(const D of a)S.toLowerCase().includes(D.toLowerCase())&&(N+=.5);const P=b.score+N;y+=P,P>g&&(g=P,x=S)}const j=y/h.length,I=(g*.7+j*.3)/10;I>=i&&o.push({intent:m,confidence:Math.min(I,1),bestMatch:x,details:Je[m]||null,department:((d=Je[m])==null?void 0:d.department)||null})}const l=tr(n);if(l){const m=o.findIndex(h=>h.intent===l.intent);m>=0?(o[m].confidence=Math.min(o[m].confidence*1.3,1),o[m].regexConfirmed=!0):o.push({intent:l.intent,confidence:.85,bestMatch:"regex pattern match",details:l,department:l.department,regexConfirmed:!0})}o.sort((m,h)=>h.confidence-m.confidence);const c=o.slice(0,s);return{primary:c[0]||null,alternatives:c.slice(1),ambiguous:c.length>1&&((p=c[0])==null?void 0:p.confidence)-(((u=c[1])==null?void 0:u.confidence)||0)<.15,allResults:c}}function tr(n){const e=n.toLowerCase().trim();for(const[i,s]of Object.entries(Je))for(const r of s.patterns)if(r.test(e))return{intent:i,...s,matchedPattern:r.toString()};return null}function ir(n){return{reportCrime:"Report a crime",checkCrimeStatus:"Check case status",emergencyServices:"Emergency services",policeClearance:"Police clearance certificate",openAccount:"Open bank account",loanInquiry:"Loan/mortgage inquiry",fileTaxes:"File taxes",taxPayment:"Tax payment",taxRefund:"Check tax refund",applyId:"National ID services",applyPassport:"Passport services",birthCertificate:"Birth certificate",driverLicense:"Driver's license",vehicleRegistration:"Vehicle registration",healthInsurance:"Health insurance",vaccination:"Vaccination services",housingApplication:"Housing assistance",tenantRights:"Tenant rights",trackPackage:"Track package",shipPackage:"Ship package",cannabisLicense:"Cannabis licensing",importExport:"Import/Export",travelRequirements:"Travel requirements",courtCase:"Court case help",legalAid:"Legal aid",findRepresentative:"Find representative",billStatus:"Bill/legislation status"}[n]||n.replace(/([A-Z])/g," $1").trim()}function ai(n,e={}){const i=er(n,{minConfidence:.25});return i.primary&&i.primary.confidence>=.7?{...i.primary,method:"semantic",needsClarification:!1}:i.primary&&i.primary.regexConfirmed?{...i.primary,method:"hybrid",needsClarification:!1}:i.ambiguous?{...i.primary,method:"semantic",needsClarification:!0,alternatives:i.alternatives.map(s=>({intent:s.intent,label:ir(s.intent),confidence:s.confidence}))}:i.primary&&i.primary.confidence>=.3?{...i.primary,method:"semantic-low",needsClarification:i.primary.confidence<.5}:{intent:null,confidence:0,method:"none",needsClarification:!0,message:"Could not determine intent"}}const sr={caseNumber:{pattern:/NPA-\d{6}/i,department:"npa",action:"status_check",url:"/npa/lookup",description:"Police case number",instructions:"You can check your case status at the [NPA Case Lookup](/npa/lookup) page."},trackingNumber:{pattern:/PP\d{10,}/i,department:"post",action:"track_package",url:"/post/track",description:"Praya Post tracking number",instructions:"Track your package at [Praya Post Tracking](/post/track)."},taxId:{pattern:/\d{3}-\d{2}-\d{4}/,department:"revenue",action:"account_lookup",url:"/revenue/account",description:"Tax identification number",instructions:"You can view your tax account at the [Revenue Portal](/revenue)."},referenceNumber:{pattern:/REF[#:\s]*([A-Z0-9]{6,12})/i,department:null,action:"status_check",description:"Application reference number"},licensePlate:{pattern:/[A-Z]{2,3}[- ]?\d{3,4}/i,department:"transport",action:"vehicle_lookup",url:"/transport/registration",description:"Vehicle license plate",instructions:"Check vehicle registration at [Transport Department](/transport/registration)."}};function rr(n){const e=[];for(const[i,s]of Object.entries(sr)){const r=n.match(s.pattern);r&&e.push({type:i,value:r[0],department:s.department,action:s.action,url:s.url,description:s.description,instructions:s.instructions})}return e}function Tt(n){if(!n||n.length===0)return"";const e=[];for(const i of n)i.type==="caseNumber"?(e.push(`**Case Number Found:** ${i.value}`),e.push(i.instructions)):i.type==="trackingNumber"?(e.push(`**Tracking Number Found:** ${i.value}`),e.push(i.instructions)):i.type==="licensePlate"&&(e.push(`**License Plate Found:** ${i.value}`),e.push(i.instructions));return e.join(`
`)}const Mt={police:[{text:"File a police report",query:"file police report",icon:"shield"},{text:"Find police station",query:"find police station near me",icon:"location"},{text:"Get police clearance",query:"police clearance certificate",icon:"document"}],taxes:[{text:"File my taxes",query:"how to file taxes",icon:"money"},{text:"Check refund status",query:"tax refund status",icon:"search"},{text:"Payment options",query:"tax payment options",icon:"credit-card"}],identity:[{text:"Get National ID",query:"apply national id",icon:"id-card"},{text:"Apply for passport",query:"apply for passport",icon:"document"},{text:"Update my information",query:"update personal information",icon:"refresh"}],transport:[{text:"Driver license services",query:"driver license",icon:"car"},{text:"Vehicle registration",query:"register vehicle",icon:"car"},{text:"Schedule driving test",query:"schedule driving test",icon:"calendar"}],health:[{text:"Enroll in insurance",query:"health insurance enrollment",icon:"heart"},{text:"Find a doctor",query:"find healthcare provider",icon:"search"},{text:"Vaccination schedule",query:"vaccination appointment",icon:"syringe"}],housing:[{text:"Apply for housing",query:"public housing application",icon:"home"},{text:"Rental assistance",query:"rental assistance program",icon:"money"},{text:"Know your rights",query:"tenant rights",icon:"document"}],postal:[{text:"Track package",query:"track my package",icon:"package"},{text:"Shipping rates",query:"shipping rates",icon:"money"},{text:"Find post office",query:"post office locations",icon:"location"}],legal:[{text:"Case lookup",query:"court case lookup",icon:"search"},{text:"Legal aid services",query:"legal aid",icon:"help"},{text:"Court information",query:"court information",icon:"briefcase"}]};function nr(n){return{passport:"Did you know? You can apply for an expedited passport for urgent travel needs.",taxes:"Did you know? E-filing is free for incomes under 75,000.",police:"Did you know? You can file minor theft reports online without visiting a station.",license:"Did you know? License renewals can be done online if your address hasn't changed.",insurance:"Did you know? Open enrollment for health insurance is November 1 - December 31.",housing:"Did you know? Emergency housing assistance is available for urgent situations."}[n]||null}function ar(n,e={}){var s;const i=n.toLowerCase();if(/\b(confused|lost|don't understand|not sure|stuck|help)\b/.test(i))return{type:"assistance",message:"It sounds like you might need some guidance. Let me help you find what you're looking for.",suggestions:[{text:"Browse all services",query:"list all services"},{text:"Talk to someone",query:"contact customer service"}]};if(/\b(urgent|emergency|immediately|asap|right now)\b/.test(i)&&((s=e.topics)!=null&&s.includes("police")))return{type:"emergency",message:"**If this is an emergency, please call 911 immediately.**",priority:"high"};if(e.messageCount>=3&&!e.offeredRelated){const r=ki(n);if(r.length>0&&Mt[r[0]])return{type:"related",message:"While you're here, you might also be interested in:",suggestions:Mt[r[0]].slice(0,2)}}return null}const Ot=ji(),Se={profanity:"I understand you might be frustrated, and I'm sorry if something isn't working as expected. I'm here to help you navigate government services - let's work together to solve your issue. What do you need help with?",unintelligible:`I'm not quite sure what you mean. Could you try rephrasing that? Here's what I can help with:
 **Documents**: IDs, passports, birth certificates
 **Financial**: Taxes, banking, loans
 **Services**: Police, courts, healthcare, housing
 **Other**: Postal, customs, cannabis licensing, transport

Just tell me what you're trying to do!`,repeated:"It looks like you're asking about the same thing. If my previous answer wasn't helpful, could you tell me more specifically what you need? I want to make sure I give you the right information.",stillConfused:`I'm still having trouble understanding. Let me try to help differently - are you looking to:

1. Get a document (ID, passport, certificate)
2. File or pay taxes
3. Report something to police
4. Track a package or case
5. Something else

Just type the number or describe what you need!`};function or(n,e,i){const s=n.toLowerCase().trim();if(Ri(n))return qt(e),$.resetClarification(),Se.profanity;if(Ei(n))return e.clarificationCount++,$.incrementClarification(),e.clarificationCount>=3?(e.clarificationCount=0,$.resetClarification(),Se.stillConfused):Se.unintelligible;if(i.push(s),i.length>10&&i.shift(),i.filter(u=>u===s).length>=3)return i=[],Se.repeated;const a=Di(n);if(Object.keys(a).length>0){if(e.entities={...e.entities,...a},a.trackingNumber)return $.resetClarification(),`I found tracking number **${a.trackingNumber}**. To check the status of your package:

1. Visit the [Praya Post tracking page](/post/track)
2. Enter your tracking number
3. View delivery status and estimated arrival

Would you like help with anything else regarding your shipment?`;if(a.caseNumber)return $.resetClarification(),`I found case number **${a.caseNumber}**. To check your case status:

1. Visit the [NPA Case Lookup](/npa/lookup)
2. Enter your case number
3. View status and updates

Typically, cases are updated within 24-48 hours. Need anything else?`}if(e.awaitingFollowUp&&e.lastIntent){const u=lr(s,e);if(u)return $.resetClarification(),u}const o=s.match(/^[1-5]$/);if(o&&e.clarificationCount>0)return e.clarificationCount=0,$.resetClarification(),{1:`Let me help you with documents. What type do you need?

 **National ID** - New, renewal, or replacement
 **Passport** - New application or renewal
 **Birth Certificate** - Certified copies
 **Driver's License** - New, renewal, or replacement

Which one interests you?`,2:`I can help with taxes! What do you need?

 **File Taxes** - Individual or business returns
 **Pay Taxes** - Make a payment or set up a plan
 **Check Refund** - Track your tax refund status

What would you like to do?`,3:`For police-related matters, I can help with:

 **Report a Crime** - File a police report
 **Check Case Status** - Track your report
 **Police Clearance** - Background check certificate
 **Emergency** - Call 911 for emergencies

What do you need?`,4:`I can help you track something:

 **Track Package** - Praya Post shipments
 **Case Status** - Police reports
 **Tax Refund** - Refund status
 **Application Status** - IDs, passports, etc.

What would you like to track?`,5:"No problem! Tell me in your own words what you're looking for, and I'll do my best to help."}[o[0]];const l=ai(n,{lastIntent:e.lastIntent,topics:$.getSummary().activeTopics});if(l.intent&&l.confidence>=.5&&l.details)return e.lastIntent=l.details,e.awaitingFollowUp=!!l.details.followUp,e.clarificationCount=0,$.resetClarification(),l.intent&&$.resolveTopic(l.intent),at(l.details,!0);const c=Kt(n);if(c)return e.lastIntent=c,e.awaitingFollowUp=!!c.followUp,e.clarificationCount=0,$.resetClarification(),at(c,!0);let d=null,p=0;for(let u=0;u<Ot.length;u++){const m=Ot[u];let h=0;for(const g of m.keywords){const x=g.toLowerCase();new RegExp(`\\b${x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"i").test(s)?h+=g.length*3:s.includes(x)&&(h+=g.length*1.5)}m.keywords.some(g=>g.toLowerCase()===s)&&(h*=4),h>p&&(p=h,d=m)}return d&&p>5?(qt(e),d.response):(e.clarificationCount++,e.clarificationCount>=2?Se.stillConfused:`I want to make sure I help you correctly. Could you tell me a bit more about what you're looking for?

For example:
 "I need to renew my passport"
 "How do I file my taxes?"
 "I want to report a theft"
 "Where can I track my package?"

What brings you here today?`)}function qt(n){Object.assign(n,{lastIntent:null,awaitingFollowUp:!1,entities:n.entities,conversationHistory:n.conversationHistory,currentTopics:[],userPreferences:n.userPreferences,clarificationCount:0,lastResponseTime:Date.now()})}function lr(n,e){const i=e.lastIntent,s=n.match(/^[1-5]$/);if(s&&i.followUp&&i.followUp.options){const r=parseInt(s[0])-1;if(r>=0&&r<i.followUp.options.length){const a=i.followUp.options[r];e.awaitingFollowUp=!1;const o=_e(i.intent,a.value);if(o)return o}}if(i.followUp&&i.followUp.options)for(const r of i.followUp.options){const a=r.label.toLowerCase();if(n===a)return e.awaitingFollowUp=!1,_e(i.intent,r.value);if(n.includes(a)||a.includes(n))return e.awaitingFollowUp=!1,_e(i.intent,r.value)}return null}function cr(n){const e=[],i=/(\*\*([^*]+)\*\*)|(\[([^\]]+)\]\(([^)]+)\))|(https?:\/\/[^\s<>"\)]+)/g;let s=0,r,a=0;for(;(r=i.exec(n))!==null;)r.index>s&&e.push(n.slice(s,r.index)),r[1]?e.push(t.jsx("strong",{children:r[2]},`bold-${a++}`)):r[3]?e.push(t.jsx("a",{href:r[5],target:"_blank",rel:"noopener noreferrer",className:"chat-link",children:r[4]},`link-${a++}`)):r[6]&&e.push(t.jsx("a",{href:r[6],target:"_blank",rel:"noopener noreferrer",className:"chat-link",children:r[6]},`url-${a++}`)),s=i.lastIndex;return s<n.length&&e.push(n.slice(s)),e.length>0?e:[n]}function dr({icon:n}){const e={shield:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),syringe:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("path",{d:"M18 2l4 4M7.5 8.5l7 7M10.5 5.5l7 7M5.5 15.5l-2 2a2 2 0 0 0 0 3l1 1a2 2 0 0 0 3 0l2-2M14 4l6 6"})}),search:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"M21 21l-4.35-4.35"})]}),alert:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),t.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),document:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"})]}),money:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),t.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),"credit-card":t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),t.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),help:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),user:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),home:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),briefcase:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),t.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),refresh:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("polyline",{points:"23 4 23 10 17 10"}),t.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),"id-card":t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),t.jsx("circle",{cx:"8",cy:"12",r:"2"}),t.jsx("path",{d:"M14 11h4M14 15h2"})]}),car:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M5 17a2 2 0 1 0 4 0 2 2 0 1 0-4 0M15 17a2 2 0 1 0 4 0 2 2 0 1 0-4 0"}),t.jsx("path",{d:"M5 17H3v-6l2-4h12l2 4v6h-2M5 17h10"}),t.jsx("path",{d:"M3 7l2-4h12l2 4"})]}),calendar:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),t.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),t.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),t.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),package:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M16.5 9.4l-9-5.19M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),t.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),location:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),mailbox:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M22 12h-6l-2 3h-4l-2-3H2"}),t.jsx("path",{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]}),list:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),t.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),t.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),t.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),t.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),t.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),plane:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("path",{d:"M17.8 19.2L16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),folder:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),users:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:[t.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),heart:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),check:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"16",height:"16",children:t.jsx("polyline",{points:"20 6 9 17 4 12"})})};return e[n]||e.document}function ur(n,e,i,s){return{useGemini:!1,strategy:Ai.RULE_BASED}}async function pr(n,e,i=null,s=!1,r={}){try{const a=e.slice(-10).map(p=>({sender:p.type,text:p.text,timestamp:p.time}));let o=[];i&&o.push(i);const l=Ii.filter(p=>{var m;if(i&&p.id===i.id)return!1;const u=n.toLowerCase();return((m=p.keywords)==null?void 0:m.some(h=>u.includes(h.toLowerCase())))||p.name.toLowerCase().includes(u)||p.description.toLowerCase().includes(u)});o=[...o,...l];let c={};if(s){const p=$.getSummary();c=Li(n,a,r.entities,i),c.sentiment=p.sentiment,c.userGoals=p.userGoals,c.activeTopics=p.activeTopics}const d=await Ws.generateResponse(n,o,a,c);return d.success&&d.response?(d.suggestions&&d.suggestions.length>0&&(r.geminiSuggestions=d.suggestions),d.response):null}catch{return null}}function hr({currentPath:n="/"}){Ut();const e=f.useMemo(()=>Si(n),[n]),i=f.useMemo(()=>Ci(e.id),[e.id]),[s,r]=f.useState(null),[a,o]=f.useState(!0),[l,c]=f.useState(!1),[d,p]=f.useState([{id:1,type:"bot",text:e.greeting,time:new Date}]),[u,m]=f.useState(""),[h,g]=f.useState(!1),[x,y]=f.useState(null),[j,I]=f.useState(""),S=f.useRef(null),b=f.useRef(null),N=f.useRef(null),P=f.useRef({lastIntent:null,awaitingFollowUp:!1,entities:{},conversationHistory:[],currentTopics:[],userPreferences:{},clarificationCount:0,lastResponseTime:null,lastStrategy:null,offeredRelated:!1}),D=f.useRef([]),{connectionState:W,voiceState:T,isVoiceModeActive:k,toggleVoiceMode:J,stopVoiceMode:A,error:C}=Ys(),L=()=>W===re.CONNECTING?"Connecting...":T===V.LISTENING?"Listening...":T===V.SPEAKING?"Speaking...":T===V.PROCESSING?"Processing...":"Voice Mode";f.useEffect(()=>{if(e.id!==s&&(r(e.id),o(!0),s!==null)){const v={id:Date.now(),type:"bot",text:`${e.greeting}

I noticed you're now on the ${e.name} page. How can I assist you?`,time:new Date};p(B=>[...B,v])}},[e,s]),f.useEffect(()=>{var v;(v=S.current)==null||v.scrollIntoView({behavior:"smooth"})},[d,j]),f.useEffect(()=>{if(l){const v=/iPad|iPhone|iPod/.test(navigator.userAgent);setTimeout(()=>{b.current&&(b.current.focus(),v&&b.current.scrollIntoView({behavior:"smooth",block:"nearest"}))},v?300:100)}},[l]),f.useEffect(()=>()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]);const M=v=>{o(!1),m(v),setTimeout(()=>{m(""),H(v)},100)},H=async v=>{const B={id:Date.now(),type:"user",text:v,time:new Date};p(O=>[...O,B]),g(!0),o(!1),$.addMessage({sender:"user",text:v});const F=rr(v);F.length>0&&F.forEach(O=>{P.current.entities[O.type]=O.value});const Q=Ni(v,e.id),ee=ai(v,{lastIntent:P.current.lastIntent,topics:$.getSummary().activeTopics}),ne=ee.intent?{intent:ee.intent,...ee.details,confidence:ee.confidence}:Kt(v);Pi(v,e.id);const Re=ur(v,ne,d,P.current),pe=ar(v,{topics:$.getSummary().activeTopics,messageCount:$.getSummary().messageCount,offeredRelated:P.current.offeredRelated});if(Re.useGemini){const O=await pr(v,d,i,Re.enhancedContext,P.current);if(O){let G=O;if(F.length>0){const ie=Tt(F);ie&&!G.includes(ie)&&(G=ie+`

`+G)}Q&&(G+=nt(Q));const Y=$.getSummary();if(Y.activeTopics.length>0){const ie=nr(Y.activeTopics[0]);ie&&!G.includes(ie)&&(G+=`

 ${ie}`)}$.addMessage({sender:"bot",text:G});const X=Date.now()+1,ve={id:X,type:"bot",text:"",time:new Date,isStreaming:!0};p(ie=>[...ie,ve]),g(!1),y(X),I(""),z(G,X);return}}setTimeout(()=>{let O=or(v,P.current,D.current);if(F.length>0){const X=Tt(F);X&&!O.includes(X)&&(O=X+`

`+O)}Q&&(O+=nt(Q)),pe&&pe.type==="assistance"&&(O=pe.message+`

`+O),$.addMessage({sender:"bot",text:O});const G=Date.now()+1,Y={id:G,type:"bot",text:"",time:new Date,isStreaming:!0};p(X=>[...X,Y]),g(!1),y(G),I(""),z(O,G)},400+Math.random()*200)},z=(v,B)=>{let F=0;N.current&&clearTimeout(N.current);const Q=()=>{if(F<v.length){const ee=v[F],ne=/[.,!?;:]/.test(ee),Re=/[.!?]/.test(ee),pe=ee===`
`;let O;ne||pe?O=1:O=Math.min(Math.floor(Math.random()*4)+2,v.length-F);const G=v.slice(0,F+O);F+=O,I(G),p(X=>X.map(ve=>ve.id===B?{...ve,text:G}:ve));let Y;Re?Y=150+Math.random()*100:ne?Y=80+Math.random()*60:pe?Y=100+Math.random()*80:Math.random()<.15?Y=60+Math.random()*90:Y=12+Math.random()*15,N.current=setTimeout(Q,Y)}else N.current=null,y(null),I(""),p(ee=>ee.map(ne=>ne.id===B?{...ne,text:v,isStreaming:!1}:ne)),P.current.clarificationCount=0};Q()},Z=async()=>{if(!u.trim())return;const v=u.trim();m(""),await H(v)},ue=v=>{var B;v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),Z(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&((B=b.current)==null||B.blur(),setTimeout(()=>{var F;return(F=b.current)==null?void 0:F.focus()},100)))},Le=()=>{Z(),setTimeout(()=>{var v;return(v=b.current)==null?void 0:v.focus()},100)},U=v=>v.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return t.jsxs(t.Fragment,{children:[t.jsx("button",{className:`chat-widget-button ${l?"open":""}`,onClick:()=>c(!l),"aria-label":l?"Close chat":"Open chat",children:l?t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}):t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),t.jsxs("div",{className:`chat-widget-panel ${l?"open":""}`,children:[t.jsxs("div",{className:`chat-widget-header ${e.id!=="portal"?"department-specific":""}`,children:[t.jsxs("div",{className:"chat-widget-header-info",children:[t.jsx("div",{className:"chat-widget-avatar",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),t.jsx("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),t.jsx("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]})}),t.jsxs("div",{children:[t.jsx("h3",{children:e.id!=="portal"?e.name:"Citizen Services"}),t.jsxs("span",{className:"chat-widget-status",children:[t.jsx("span",{className:"status-dot"}),e.id!=="portal"?"Department Assistant":"Online"]})]})]}),t.jsx("button",{className:"chat-widget-close",onClick:()=>c(!1),children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsxs("div",{className:"chat-widget-messages",children:[d.map(v=>t.jsxs("div",{className:`chat-message ${v.type}${v.isStreaming?" streaming":""}`,children:[t.jsxs("div",{className:"chat-message-content",children:[v.text.split(`
`).map((B,F,Q)=>t.jsxs("span",{children:[cr(B),F<Q.length-1&&t.jsx("br",{})]},F)),v.isStreaming&&t.jsx("span",{className:"streaming-cursor",children:""})]}),!v.isStreaming&&t.jsx("span",{className:"chat-message-time",children:U(v.time)})]},v.id)),h&&t.jsx("div",{className:"chat-message bot",children:t.jsxs("div",{className:"chat-typing-indicator",children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]})}),a&&!h&&e.quickActions&&t.jsxs("div",{className:"chat-quick-actions",children:[t.jsx("p",{className:"quick-actions-label",children:"Quick questions:"}),t.jsx("div",{className:"quick-actions-chips",children:e.quickActions.map((v,B)=>t.jsxs("button",{className:"quick-action-chip",onClick:()=>M(v.query),type:"button",children:[t.jsx(dr,{icon:v.icon}),t.jsx("span",{children:v.label})]},B))})]}),t.jsx("div",{ref:S})]}),k&&t.jsx("div",{className:"voice-mode-overlay",children:t.jsxs("div",{className:"voice-mode-content",children:[t.jsxs("div",{className:`voice-indicator ${T}`,children:[t.jsxs("div",{className:"voice-rings",children:[t.jsx("div",{className:"voice-ring"}),t.jsx("div",{className:"voice-ring"}),t.jsx("div",{className:"voice-ring"})]}),t.jsx("div",{className:"voice-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[t.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),t.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})})]}),t.jsx("p",{className:"voice-status",children:L()}),C&&t.jsx("p",{className:"voice-error",children:C}),t.jsx("button",{className:"voice-stop-button",onClick:A,type:"button",children:"Stop Voice Mode"})]})}),t.jsxs("div",{className:`chat-widget-input ${k?"voice-active":""}`,children:[t.jsx("input",{ref:b,type:"text",placeholder:k?"Voice mode active...":"Type your question...",value:u,onChange:v=>m(v.target.value),onKeyPress:ue,disabled:k}),t.jsx("button",{className:`chat-voice-button ${k?"active":""} ${T}`,onClick:J,type:"button",title:k?"Stop voice mode":"Start voice mode",children:k?t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):t.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[t.jsx("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),t.jsx("path",{d:"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"})]})}),t.jsx("button",{className:"chat-send-button",onClick:Le,disabled:!u.trim()||k,type:"button",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"})})})]}),t.jsx("div",{className:"chat-widget-footer",children:"Powered by GP.AI"})]})]})}function mr(){const n=Gt();return t.jsxs("div",{className:"app-layout",children:[t.jsx("a",{href:"#main-content",className:"skip-to-content",children:"Skip to main content"}),t.jsx(Ds,{}),t.jsx("main",{id:"main-content",children:t.jsx(fi,{})}),t.jsx(hr,{currentPath:n.pathname})]})}class fr extends f.Component{constructor(i){super(i);Be(this,"handleReload",()=>{window.location.reload()});Be(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,s){}render(){return this.state.hasError?t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"24px",backgroundColor:"var(--bg-dark, #0f0f0f)",color:"var(--text-primary, #fafafa)",fontFamily:"'Plus Jakarta Sans', system-ui, sans-serif",textAlign:"center"},children:[t.jsxs("div",{style:{maxWidth:"500px",padding:"32px",backgroundColor:"var(--bg-card, #1a1a1a)",borderRadius:"16px",border:"1px solid var(--border, #2a2a2a)"},children:[t.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 24px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),t.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"12px",color:"var(--text-primary, #fafafa)"},children:"Something went wrong"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary, #a8a8a8)",marginBottom:"24px",lineHeight:"1.6"},children:"We apologize for the inconvenience. An unexpected error has occurred. Please try reloading the page or return to the home page."}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[t.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",fontWeight:"600",backgroundColor:"var(--primary, #f97316)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s"},children:"Reload Page"}),t.jsx("button",{onClick:this.handleGoHome,style:{padding:"12px 24px",fontSize:"14px",fontWeight:"600",backgroundColor:"var(--bg-elevated, #252525)",color:"var(--text-secondary, #a8a8a8)",border:"1px solid var(--border, #2a2a2a)",borderRadius:"10px",cursor:"pointer",fontFamily:"inherit",transition:"background-color 0.2s"},children:"Go to Home"})]}),!1]}),t.jsx("p",{style:{marginTop:"24px",fontSize:"12px",color:"var(--text-muted, #737373)"},children:"If this problem persists, please contact support."})]}):this.props.children}}let ye=null;async function gr(){if("serviceWorker"in navigator)try{const n=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});return console.log("Service Worker registered successfully:",n.scope),setInterval(()=>{n.update()},3600*1e3),n}catch(n){return console.error("Service Worker registration failed:",n),null}return null}function yr(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function xr(n){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),ye=e,n&&n(!0)}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),ye=null,n&&n(!1)})}async function vr(){if(!ye)return{success:!1,error:"Install prompt not available"};ye.prompt();const{outcome:n}=await ye.userChoice;return ye=null,{success:!0,outcome:n}}function br(){const[n,e]=f.useState(!1),[i,s]=f.useState(!1);f.useEffect(()=>{if(yr())return;xr(l=>{e(l)});const o=setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||e(!0)},3e4);return()=>clearTimeout(o)},[]);const r=async()=>{s(!0);const o=await vr();o.success&&o.outcome==="accepted"&&e(!1),s(!1)},a=()=>{e(!1),localStorage.setItem("pwa-install-dismissed",Date.now())};return n?t.jsx("div",{className:"pwa-install-prompt",role:"dialog","aria-labelledby":"pwa-prompt-title",children:t.jsxs("div",{className:"pwa-prompt-content",children:[t.jsx("div",{className:"pwa-prompt-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),t.jsx("path",{d:"M9 11l3 3 3-3"})]})}),t.jsxs("div",{className:"pwa-prompt-text",children:[t.jsx("h4",{id:"pwa-prompt-title",children:"Install GOV.PRAYA"}),t.jsx("p",{children:"Add this app to your home screen for quick and easy access when you're on the go."})]}),t.jsxs("div",{className:"pwa-prompt-actions",children:[t.jsx("button",{onClick:r,disabled:i,className:"pwa-install-btn","aria-label":"Install GOV.PRAYA app",children:i?"Installing...":"Install"}),t.jsx("button",{onClick:a,className:"pwa-dismiss-btn","aria-label":"Dismiss install prompt",children:"Not Now"})]})]})}):null}const de="govpraya_alerts",xe="emergency_alerts",Ft={CRITICAL:{level:"critical",label:"Emergency",color:"#dc2626",bgColor:"rgba(220, 38, 38, 0.15)",borderColor:"rgba(220, 38, 38, 0.4)",icon:"emergency"},WARNING:{level:"warning",label:"Warning",color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.12)",borderColor:"rgba(245, 158, 11, 0.35)",icon:"warning"},INFO:{level:"info",label:"Notice",color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 0.3)",icon:"info"},SUCCESS:{level:"success",label:"Update",color:"#10b981",bgColor:"rgba(16, 185, 129, 0.1)",borderColor:"rgba(16, 185, 129, 0.3)",icon:"success"}},wr={WEATHER:"weather",PUBLIC_SAFETY:"public_safety",HEALTH:"health",TRANSPORT:"transport",SERVICE:"service",GOVERNMENT:"government"},_n={weather:"Weather",public_safety:"Public Safety",health:"Health",transport:"Transport",service:"Service",government:"Government"},$n=[{id:"weather-storm",name:"Severe Weather",severityKey:"WARNING",category:"weather",title:"Severe Weather Warning",message:"Severe weather conditions expected. Citizens are advised to stay indoors and monitor official channels for updates.",department:"National Weather Service",link:"/transport",linkText:"View Transit Updates"},{id:"weather-heat",name:"Heat Advisory",severityKey:"WARNING",category:"weather",title:"Extreme Heat Advisory",message:"Dangerously high temperatures expected. Stay hydrated, avoid outdoor activities during peak hours, and check on elderly neighbors.",department:"National Weather Service",link:"/health",linkText:"Health Guidelines"},{id:"public-safety-emergency",name:"Public Safety Emergency",severityKey:"CRITICAL",category:"public_safety",title:"Public Safety Alert",message:"An emergency situation is in progress. Follow instructions from local authorities and emergency services.",department:"National Police Agency",link:"/npa",linkText:"Emergency Information"},{id:"public-safety-evacuation",name:"Evacuation Order",severityKey:"CRITICAL",category:"public_safety",title:"Mandatory Evacuation Order",message:"Immediate evacuation required for specified areas. Proceed to designated evacuation centers.",department:"National Emergency Management",link:"/npa",linkText:"Evacuation Routes"},{id:"health-outbreak",name:"Health Advisory",severityKey:"WARNING",category:"health",title:"Public Health Advisory",message:"A health advisory has been issued. Please follow recommended precautions and consult healthcare providers if symptomatic.",department:"Department of Health",link:"/health",linkText:"Health Information"},{id:"transport-closure",name:"Transport Disruption",severityKey:"INFO",category:"transport",title:"Transport Service Disruption",message:"Transit services are experiencing disruptions. Check for alternative routes and allow extra travel time.",department:"Transport Department",link:"/transport",linkText:"Service Status"},{id:"service-maintenance",name:"System Maintenance",severityKey:"INFO",category:"service",title:"Scheduled System Maintenance",message:"GOV.PRAYA online services will undergo scheduled maintenance. Some services may be temporarily unavailable.",department:"Digital Services",link:null,linkText:null},{id:"government-announcement",name:"Government Announcement",severityKey:"INFO",category:"government",title:"Government Announcement",message:"An important government announcement has been issued. Please review the details.",department:"Office of the Chief Executive",link:"/lc",linkText:"Read Announcement"},{id:"tax-deadline",name:"Tax Deadline Reminder",severityKey:"INFO",category:"government",title:"Tax Filing Deadline Approaching",message:"The deadline for tax filing is approaching. File your returns before the deadline to avoid penalties.",department:"Revenue Department",link:"/revenue",linkText:"File Your Taxes"},{id:"success-resolved",name:"Issue Resolved",severityKey:"SUCCESS",category:"service",title:"Service Restored",message:"The previously reported issue has been resolved. All services are now operating normally.",department:"Digital Services",link:null,linkText:null}],oe=[{id:"alert-winter-storm-2025",severityKey:"WARNING",category:wr.WEATHER,title:"Winter Weather Advisory",message:"Heavy snowfall expected across Metropolitan District and Downtown from Dec 10-12. Government offices may operate on reduced hours. Check transport.praya.gov for transit updates.",department:"National Weather Service",timestamp:"2025-12-09T08:00:00",expiresAt:"2025-12-12T23:59:59",dismissible:!0,link:"/weather",linkText:"View Weather Details",isActive:!0}];let Ge=null;async function Ie(){return Ge!==null?Ge:(Ge=!1,!1)}function kr(n){return Ft[n]||Ft.INFO}function ae(n){return{...n,severity:kr(n.severityKey||n.severity_key),timestamp:new Date(n.timestamp||n.starts_at),expiresAt:new Date(n.expiresAt||n.expires_at)}}function jr(n){return{id:n.id,severity_key:n.severityKey,category:n.category,title:n.title,message:n.message,department:n.department,starts_at:n.timestamp instanceof Date?n.timestamp.toISOString():n.timestamp,expires_at:n.expiresAt instanceof Date?n.expiresAt.toISOString():n.expiresAt,dismissible:n.dismissible,link:n.link||null,link_text:n.linkText||null,is_active:n.isActive}}function et(n){return{id:n.id,severityKey:n.severity_key,category:n.category,title:n.title,message:n.message,department:n.department,timestamp:n.starts_at,expiresAt:n.expires_at,dismissible:n.dismissible,link:n.link,linkText:n.link_text,isActive:n.is_active,createdAt:n.created_at,updatedAt:n.updated_at}}async function Hn(){if(await Ie())try{const{data:e,error:i}=await le.from(xe).select("*").order("created_at",{ascending:!1});if(i)throw i;return e.map(s=>ae(et(s)))}catch{}return oi()}function oi(){try{const n=localStorage.getItem(de);return n?JSON.parse(n).map(ae):oe.map(ae)}catch{return oe.map(ae)}}function Sr(){const n=new Date;return oi().filter(i=>{if(!i.isActive)return!1;const s=i.timestamp<=n,r=i.expiresAt>n;return s&&r})}async function Vn(n){if(await Ie())try{const i=jr(n);if(!!n.id&&!n.id.startsWith("alert-")){const{data:r,error:a}=await le.from(xe).update(i).eq("id",n.id).select().single();if(a)throw a;return{success:!0,alert:ae(et(r)),source:"supabase"}}else{delete i.id;const{data:r,error:a}=await le.from(xe).insert(i).select().single();if(a)throw a;return{success:!0,alert:ae(et(r)),source:"supabase"}}}catch(i){console.warn("Supabase save failed, falling back to localStorage:",i)}return{...Cr(n),source:"localStorage"}}function Cr(n){try{const e=st(),i=e.findIndex(r=>r.id===n.id),s={...n,id:n.id||`alert-${Date.now()}`,timestamp:n.timestamp instanceof Date?n.timestamp.toISOString():n.timestamp,expiresAt:n.expiresAt instanceof Date?n.expiresAt.toISOString():n.expiresAt,updatedAt:new Date().toISOString()};return delete s.severity,i>=0?e[i]=s:(s.createdAt=new Date().toISOString(),e.unshift(s)),localStorage.setItem(de,JSON.stringify(e)),{success:!0,alert:ae(s)}}catch(e){return{success:!1,error:e.message}}}async function Wn(n){if(await Ie())try{const{error:i}=await le.from(xe).delete().eq("id",n);if(i)throw i;return{success:!0,source:"supabase"}}catch(i){console.warn("Supabase delete failed, falling back to localStorage:",i)}return{...Nr(n),source:"localStorage"}}function Nr(n){try{const i=st().filter(s=>s.id!==n);return localStorage.setItem(de,JSON.stringify(i)),{success:!0}}catch(e){return{success:!1,error:e.message}}}async function zn(n){if(await Ie())try{const{data:i,error:s}=await le.from(xe).select("is_active").eq("id",n).single();if(s)throw s;const{data:r,error:a}=await le.from(xe).update({is_active:!i.is_active}).eq("id",n).select().single();if(a)throw a;return{success:!0,isActive:r.is_active,source:"supabase"}}catch(i){console.warn("Supabase toggle failed, falling back to localStorage:",i)}return{...Pr(n),source:"localStorage"}}function Pr(n){try{const e=st(),i=e.find(s=>s.id===n);return i?(i.isActive=!i.isActive,i.updatedAt=new Date().toISOString(),localStorage.setItem(de,JSON.stringify(e)),{success:!0,isActive:i.isActive}):{success:!1,error:"Alert not found"}}catch(e){return{success:!1,error:e.message}}}function st(){try{const n=localStorage.getItem(de);return n?JSON.parse(n):(localStorage.setItem(de,JSON.stringify(oe)),[...oe])}catch{return[...oe]}}function Ar(n){try{return!!JSON.parse(localStorage.getItem("dismissedAlerts")||"{}")[n]}catch{return!1}}function Ir(n){try{const e=JSON.parse(localStorage.getItem("dismissedAlerts")||"{}");return e[n]=Date.now(),localStorage.setItem("dismissedAlerts",JSON.stringify(e)),!0}catch{return!1}}function Lr(){try{const n=JSON.parse(localStorage.getItem("dismissedAlerts")||"{}"),e=Date.now()-720*60*60*1e3,i=Object.entries(n).filter(([,s])=>s>e).reduce((s,[r,a])=>(s[r]=a,s),{});localStorage.setItem("dismissedAlerts",JSON.stringify(i))}catch{}}function Rr(n){n instanceof Date||(n=new Date(n));const e=new Date,i=e-n,s=Math.floor(i/(1e3*60*60)),r=Math.floor(s/24);return s<1?"Just now":s<24?`${s}h ago`:r===1?"Yesterday":r<7?`${r} days ago`:n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:n.getFullYear()!==e.getFullYear()?"numeric":void 0})}function Er(n){switch(n){case"emergency":return"M12 9v4m0 4h.01M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z";case"info":return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z";case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}function Un(){return localStorage.setItem(de,JSON.stringify(oe)),oe.map(ae)}async function Gn(){const n=await Ie();return{supabaseConfigured:Vi,supabaseAvailable:n,usingSupabase:n,source:n?"Supabase (cloud)":"localStorage (browser)"}}function Dr(){const[n,e]=f.useState([]),[i,s]=f.useState(new Set),[r,a]=f.useState(null);f.useEffect(()=>{Lr();const d=Sr().filter(u=>!Ar(u.id));e(d);const p=d.find(u=>u.severity.level==="critical");p&&a(p.id)},[]);const o=(c,d)=>{d.stopPropagation(),Ir(c),s(p=>new Set([...p,c])),setTimeout(()=>{e(p=>p.filter(u=>u.id!==c))},300)},l=c=>{a(d=>d===c?null:c)};return n.length===0?null:t.jsxs("div",{className:"emergency-alerts",role:"alert","aria-live":"polite",children:[n.map(c=>{const d=r===c.id,p=i.has(c.id);return t.jsxs("div",{className:`alert-banner alert-${c.severity.level} ${d?"alert-expanded":""} ${p?"alert-dismissing":""}`,style:{"--alert-color":c.severity.color,"--alert-bg":c.severity.bgColor,"--alert-border":c.severity.borderColor},onClick:()=>l(c.id),role:"button",tabIndex:0,onKeyDown:u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),l(c.id))},children:[t.jsxs("div",{className:"alert-container",children:[t.jsxs("div",{className:"alert-icon-wrapper",children:[t.jsx("svg",{className:"alert-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:t.jsx("path",{d:Er(c.severity.icon)})}),c.severity.level==="critical"&&t.jsx("span",{className:"alert-pulse","aria-hidden":"true"})]}),t.jsxs("div",{className:"alert-content",children:[t.jsxs("div",{className:"alert-header",children:[t.jsx("span",{className:"alert-badge",children:c.severity.label}),t.jsx("h3",{className:"alert-title",children:c.title}),t.jsxs("span",{className:"alert-meta",children:[t.jsx("span",{className:"alert-department",children:c.department}),t.jsx("span",{className:"alert-separator","aria-hidden":"true",children:""}),t.jsx("span",{className:"alert-time",children:Rr(c.timestamp)})]})]}),t.jsxs("div",{className:`alert-body ${d?"alert-body-visible":""}`,children:[t.jsx("p",{className:"alert-message",children:c.message}),c.link&&t.jsxs(q,{to:c.link,className:"alert-link",onClick:u=>u.stopPropagation(),children:[c.linkText||"Learn More",t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]}),t.jsxs("div",{className:"alert-actions",children:[t.jsx("button",{className:"alert-expand-btn","aria-label":d?"Collapse alert":"Expand alert","aria-expanded":d,children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:d?"rotated":"",children:t.jsx("path",{d:"M6 9l6 6 6-6"})})}),c.dismissible&&t.jsx("button",{className:"alert-dismiss-btn",onClick:u=>o(c.id,u),"aria-label":"Dismiss alert",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})]}),c.severity.level==="critical"&&t.jsx("div",{className:"alert-progress","aria-hidden":"true",children:t.jsx("div",{className:"alert-progress-bar"})})]},c.id)}),n.length>1&&t.jsx("div",{className:"alert-count",children:t.jsxs("span",{children:[n.length," active alerts"]})})]})}const Tr=[{type:"department",title:"National Police Agency",description:"Emergency response, public safety, licensing",url:"/npa",keywords:["police","emergency","911","crime","safety","report","incident"]},{type:"department",title:"Bank of Praya",description:"Central banking, monetary policy, financial services",url:"/bop",keywords:["bank","money","currency","interest","loan","financial"]},{type:"department",title:"Cannabis Tax Bureau",description:"Licensing, taxation, compliance for cannabis",url:"/ctb",keywords:["cannabis","marijuana","license","tax","dispensary"]},{type:"department",title:"Justice Department",description:"Courts, legal aid, criminal code",url:"/doj",keywords:["court","judge","law","legal","case","trial","attorney"]},{type:"department",title:"Interior Department",description:"Land registry, building permits, civil records",url:"/interior",keywords:["land","property","deed","parks","permit"]},{type:"department",title:"Transport Department",description:"Driver licensing, vehicle registration",url:"/transport",keywords:["driver","license","vehicle","car","registration","road"]},{type:"department",title:"Revenue Department",description:"Tax filing, business accounts, benefits",url:"/revenue",keywords:["tax","income","refund","business","filing"]},{type:"department",title:"Praya Post",description:"Mail, package delivery, shipping",url:"/post",keywords:["mail","package","shipping","delivery","postal","stamp"]},{type:"department",title:"Health Department",description:"Public health, healthcare licensing",url:"/health",keywords:["health","medical","hospital","doctor","vaccine","disease"]},{type:"department",title:"Housing Authority",description:"Affordable housing, rental assistance",url:"/housing",keywords:["housing","rent","apartment","subsidy","affordable"]},{type:"department",title:"Customs & Border Control",description:"Immigration, customs, border services",url:"/cbca",keywords:["customs","border","immigration","visa","passport","travel"]},{type:"department",title:"Legislative Council",description:"Laws, council members, legislation",url:"/lc",keywords:["law","bill","legislation","council","vote","representative"]},{type:"department",title:"Buildings Department",description:"Building permits, inspections, codes",url:"/bd",keywords:["building","permit","inspection","construction","code"]},{type:"department",title:"Companies Registry",description:"Business registration, company filings",url:"/cr",keywords:["company","business","incorporate","registration","corporate"]},{type:"department",title:"Social Welfare Department",description:"Benefits, family services, elderly care",url:"/swd",keywords:["welfare","benefits","social","family","elderly","disability"]},{type:"service",title:"Pay Taxes Online",description:"File and pay your taxes electronically",url:"/payments",keywords:["pay","tax","online","file"]},{type:"service",title:"Renew Driver License",description:"Renew your driver license online",url:"/transport",keywords:["renew","driver","license"]},{type:"service",title:"Register a Vehicle",description:"Register your vehicle with Transport Department",url:"/transport",keywords:["register","vehicle","car","registration"]},{type:"service",title:"Apply for Passport",description:"Submit passport application",url:"/cbca",keywords:["passport","travel","apply"]},{type:"service",title:"Report a Crime",description:"File a police report online",url:"/npa",keywords:["report","crime","police","incident"]},{type:"service",title:"Check Air Quality",description:"View current air quality index",url:"/air-quality",keywords:["air","quality","pollution","aqi"]},{type:"service",title:"Track Package",description:"Track your Praya Post package",url:"/post",keywords:["track","package","delivery","shipping"]},{type:"service",title:"Apply for Housing",description:"Submit housing assistance application",url:"/housing",keywords:["housing","apply","assistance","rent"]},{type:"service",title:"Business Registration",description:"Register a new business",url:"/cr",keywords:["business","register","company","start"]},{type:"service",title:"Building Permit",description:"Apply for a building permit",url:"/bd",keywords:["building","permit","construction"]},{type:"service",title:"Court Case Lookup",description:"Search court cases and records",url:"/doj",keywords:["court","case","lookup","search","record"]},{type:"service",title:"System Status",description:"Check government service status",url:"/status",keywords:["status","uptime","outage","system"]},{type:"service",title:"Weather Forecast",description:"View weather forecasts and alerts",url:"/weather",keywords:["weather","forecast","rain","temperature"]},{type:"page",title:"Login to PrayaPass",description:"Sign in to your government account",url:"/login",keywords:["login","sign in","account"]},{type:"page",title:"Create Account",description:"Register for a PrayaPass account",url:"/register",keywords:["register","create","account","sign up"]},{type:"page",title:"Account Dashboard",description:"Manage your account settings",url:"/account",keywords:["account","dashboard","profile","settings"]},{type:"page",title:"National Security Level",description:"Current national security status",url:"/national-security",keywords:["security","threat","level","alert"]},{type:"page",title:"Make a Payment",description:"Pay government fees and taxes",url:"/payments",keywords:["pay","payment","fee","tax"]}];function Mr({isOpen:n,onClose:e}){const[i,s]=f.useState(""),[r,a]=f.useState([]),[o,l]=f.useState(0),[c,d]=f.useState([]),p=f.useRef(null),u=Ut();f.useEffect(()=>{const y=localStorage.getItem("recentSearches");y&&d(JSON.parse(y))},[]),f.useEffect(()=>{n&&p.current&&p.current.focus()},[n]),f.useEffect(()=>{const y=j=>{j.key==="Escape"&&e()};return n&&(document.addEventListener("keydown",y),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",y),document.body.style.overflow=""}},[n,e]),f.useEffect(()=>{if(!i.trim()){a([]),l(0);return}const y=i.toLowerCase().split(" "),I=Tr.map(S=>{let b=0;const N=S.title.toLowerCase(),P=S.description.toLowerCase();return y.forEach(D=>{N===D&&(b+=100),N.startsWith(D)&&(b+=50),N.includes(D)&&(b+=30),P.includes(D)&&(b+=15),S.keywords.some(W=>W.includes(D))&&(b+=20),S.keywords.includes(D)&&(b+=35)}),S.type==="department"&&(b*=1.1),{...S,score:b}}).filter(S=>S.score>0).sort((S,b)=>b.score-S.score).slice(0,8);a(I),l(0)},[i]);const m=y=>{y.key==="ArrowDown"?(y.preventDefault(),l(j=>Math.min(j+1,r.length-1))):y.key==="ArrowUp"?(y.preventDefault(),l(j=>Math.max(j-1,0))):y.key==="Enter"&&r[o]&&(y.preventDefault(),h(r[o]))},h=y=>{const j=[y,...c.filter(I=>I.url!==y.url)].slice(0,5);d(j),localStorage.setItem("recentSearches",JSON.stringify(j)),u(y.url),e(),s("")},g=()=>{d([]),localStorage.removeItem("recentSearches")};if(!n)return null;const x={department:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M3 21h18M5 21V7l7-4 7 4v14M9 21v-6h6v6"})}),service:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),page:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"})]})};return t.jsx("div",{className:"search-overlay",onClick:e,children:t.jsxs("div",{className:"search-modal",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"search-input-wrapper",children:[t.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"M21 21l-4.35-4.35"})]}),t.jsx("input",{ref:p,type:"text",placeholder:"Search departments, services, or pages...",value:i,onChange:y=>s(y.target.value),onKeyDown:m}),t.jsx("kbd",{className:"search-shortcut",children:"ESC"})]}),t.jsxs("div",{className:"search-results",children:[i&&r.length===0&&t.jsxs("div",{className:"search-empty",children:[t.jsxs("p",{children:['No results found for "',i,'"']}),t.jsx("span",{children:'Try searching for departments like "Revenue" or services like "pay taxes"'})]}),i&&r.length>0&&t.jsx("div",{className:"search-results-list",children:r.map((y,j)=>t.jsxs("button",{className:`search-result-item ${j===o?"selected":""}`,onClick:()=>h(y),onMouseEnter:()=>l(j),children:[t.jsx("div",{className:`search-result-icon search-result-icon-${y.type}`,children:x[y.type]}),t.jsxs("div",{className:"search-result-content",children:[t.jsx("span",{className:"search-result-title",children:y.title}),t.jsx("span",{className:"search-result-description",children:y.description})]}),t.jsx("span",{className:"search-result-type",children:y.type})]},y.url+y.title))}),!i&&c.length>0&&t.jsxs("div",{className:"search-recent",children:[t.jsxs("div",{className:"search-recent-header",children:[t.jsx("span",{children:"Recent Searches"}),t.jsx("button",{onClick:g,children:"Clear"})]}),t.jsx("div",{className:"search-results-list",children:c.map((y,j)=>t.jsxs("button",{className:"search-result-item",onClick:()=>h(y),children:[t.jsx("div",{className:"search-result-icon search-result-icon-recent",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),t.jsxs("div",{className:"search-result-content",children:[t.jsx("span",{className:"search-result-title",children:y.title}),t.jsx("span",{className:"search-result-description",children:y.description})]})]},y.url+j))})]}),!i&&c.length===0&&t.jsxs("div",{className:"search-suggestions",children:[t.jsx("p",{className:"search-suggestions-title",children:"Popular Searches"}),t.jsxs("div",{className:"search-suggestions-list",children:[t.jsx("button",{onClick:()=>s("pay taxes"),children:"Pay taxes"}),t.jsx("button",{onClick:()=>s("driver license"),children:"Driver license"}),t.jsx("button",{onClick:()=>s("housing"),children:"Housing assistance"}),t.jsx("button",{onClick:()=>s("passport"),children:"Passport"}),t.jsx("button",{onClick:()=>s("business"),children:"Register business"}),t.jsx("button",{onClick:()=>s("court"),children:"Court services"})]})]})]}),t.jsx("div",{className:"search-footer",children:t.jsxs("div",{className:"search-footer-hint",children:[t.jsx("kbd",{children:""}),t.jsx("kbd",{children:""})," to navigate",t.jsx("kbd",{children:""})," to select",t.jsx("kbd",{children:"esc"})," to close"]})})]})})}function Or({onClick:n}){return f.useEffect(()=>{const e=i=>{(i.metaKey||i.ctrlKey)&&i.key==="k"&&(i.preventDefault(),n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),t.jsxs("button",{className:"search-trigger",onClick:n,"aria-label":"Search",children:[t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"M21 21l-4.35-4.35"})]}),t.jsx("span",{children:"Search..."}),t.jsx("kbd",{children:"K"})]})}const qr={npa:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2l7 4v6c0 5-4 9-7 10-3-1-7-5-7-10V6z"}),t.jsx("path",{d:"M9 12h6"}),t.jsx("path",{d:"M12 9v6"})]}),bop:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),t.jsx("path",{d:"M2 10h20"})]}),ctb:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 3.5 6 6.75v3.6c0 3.12 2.52 6.25 6 7.9 3.48-1.65 6-4.78 6-7.9v-3.6z"}),t.jsx("path",{d:"M12 6.5c-.8 1.45-1.26 3.11-1.26 4.74 0 .53.03 1.05.1 1.56"}),t.jsx("path",{d:"M12 6.5c.8 1.45 1.26 3.11 1.26 4.74 0 .53-.03 1.05-.1 1.56"}),t.jsx("path",{d:"M9.75 12.4c.7.34 1.46.53 2.25.53.79 0 1.55-.19 2.25-.53"})]}),doj:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 3v4M6 11h12M3 11l3 10h12l3-10M12 7l-2 4h4l-2-4"})}),interior:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t.jsx("polyline",{points:"14 2 14 8 20 8"}),t.jsx("line",{x1:"9",y1:"13",x2:"15",y2:"13"}),t.jsx("line",{x1:"9",y1:"17",x2:"15",y2:"17"})]}),transport:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M3 18h18M3 6h18M5 18V6M19 18V6M9 10h6M9 14h6"})}),revenue:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8M12 18V6"})]}),post:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),t.jsx("polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}),t.jsx("polyline",{points:"7.5 19.79 7.5 14.6 3 12"}),t.jsx("polyline",{points:"21 12 16.5 14.6 16.5 19.79"})]}),health:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),housing:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),cbca:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"5",y:"4",width:"14",height:"17",rx:"2"}),t.jsx("circle",{cx:"12",cy:"15",r:"1"}),t.jsx("path",{d:"M9 4v-2a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"})]}),legislative:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M3 21h18"}),t.jsx("path",{d:"M3 3h18v14H3z"}),t.jsx("path",{d:"M9 3v18"}),t.jsx("path",{d:"M3 9h18"})]}),bd:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M3 21h18M5 21V7l7-4 7 4v14M9 21v-6h6v6M9 9h.01M15 9h.01M9 13h.01M15 13h.01"})}),cr:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),t.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),swd:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})},Bt=[{id:"npa",name:"National Police Agency",abbrev:"NPA",url:"/npa",description:"National policing, emergency response, and community safety services across Praya.",color:"#1d4ed8",services:["Emergency Response","Public Safety","Licensing","Community Programs"]},{id:"bop",name:"Bank of Praya",abbrev:"BOP",url:"/bop",description:"Central bank responsible for monetary policy, financial stability, and banking supervision.",color:"#0ea5e9",services:["Monetary Policy","Banking Supervision","Currency Services","Economic Research"]},{id:"ctb",name:"Cannabis Tax Bureau",abbrev:"CTB",url:"/ctb",description:"Licensing, taxation, and regulation of cannabis industry in the Republic of Praya.",color:"#2d8659",services:["Business Licensing","Tax Filing","Compliance","Research"]},{id:"doj",name:"Justice Department",abbrev:"DOJ",url:"/doj",description:"Court system, prosecution services, and legal resources for citizens of Praya.",color:"#991b1b",services:["Court Services","Case Lookup","Legal Aid","Criminal Code"]},{id:"interior",name:"Interior Department",abbrev:"ID",url:"/interior",description:"Land registry, building permits, civil records, and parks management.",color:"#71717a",services:["Land Registry","Building Permits","Civil Records","Parks & Reserves"]},{id:"transport",name:"Transport Department",abbrev:"TD",url:"/transport",description:"Driver licensing, vehicle registration, and management of national highways.",color:"#0d9488",services:["Driver Licensing","Vehicle Registration","National Highways","Road Safety"]},{id:"revenue",name:"Revenue Department",abbrev:"RD",url:"/revenue",description:"Tax collection, benefits, and financial services for individuals and businesses.",color:"#0ea5e9",services:["Tax Filing","Business Accounts","Benefits","Compliance"]},{id:"post",name:"Praya Post",abbrev:"PP",url:"/post",description:"National postal service providing domestic and international mail and package delivery.",color:"#f97316",services:["Package Delivery","International Mail","Express Shipping","P.O. Boxes"]},{id:"health",name:"Health Department",abbrev:"HD",url:"/health",description:"Public health services, disease control, healthcare licensing, and health statistics.",color:"#0d9488",services:["Public Health","Disease Control","Healthcare Licensing","Health Statistics"]},{id:"housing",name:"Housing Authority",abbrev:"HA",url:"/housing",description:"Affordable public housing programs and subsidized rental assistance for eligible citizens.",color:"#ea580c",services:["Housing Applications","Eligibility Check","Regional Availability","Tenant Resources"]},{id:"cbca",name:"Customs & Border Control",abbrev:"CBCA",url:"/cbca",description:"Border security, customs duties, immigration services, and trade facilitation for the Republic.",color:"#0891b2",services:["Customs Declarations","Immigration & Visas","Border Enforcement","Traveler Information"]},{id:"legislative",name:"Legislative Council",abbrev:"LC",url:"/lc",description:"The unicameral legislature of Praya, responsible for enacting laws and providing oversight.",color:"#6366f1",services:["View Legislation","Council Members","Session Calendar","Public Comment"]},{id:"bd",name:"Buildings Department",abbrev:"BD",url:"/bd",description:"Building permits, construction safety, inspections, and enforcement of building codes.",color:"#d97706",services:["Building Permits","Inspections","Building Codes","Contractor Licensing"]},{id:"cr",name:"Companies Registry",abbrev:"CR",url:"/cr",description:"Business incorporation, company registration, and corporate filing services.",color:"#3b82f6",services:["Company Registration","Annual Filings","Company Search","Document Retrieval"]},{id:"swd",name:"Social Welfare Department",abbrev:"SWD",url:"/swd",description:"Social benefits, family services, elderly care, and support for vulnerable citizens.",color:"#ec4899",services:["Social Benefits","Family Services","Elderly Care","Disability Support"]}],Fr=[{title:"Safety & Justice",detail:"Fast access to courts, case lookup, and policing resources for every district.",link:"/doj"},{title:"Land, Housing & Parks",detail:"Land registry searches, building permits, and protected areas managed by Interior.",link:"/interior"},{title:"Business & Tax",detail:"Licensing, tax filings, and compliance guidance for entrepreneurs and companies.",link:"/revenue"},{title:"Public Health",detail:"Disease surveillance, healthcare licensing, and health statistics for all citizens.",link:"/health"},{title:"Financial Stability",detail:"Central banking, monetary policy, and economic research from the Bank of Praya.",link:"/bop"},{title:"Cannabis Regulation",detail:"Industry licensing, tax filing, and compliance for legal cannabis businesses.",link:"/ctb"},{title:"Customs & Border",detail:"Import duties, immigration visas, and border control for travelers and traders.",link:"/cbca"},{title:"Postal Services",detail:"Domestic and international mail delivery, package shipping, and P.O. box services nationwide.",link:"/post"},{title:"Legislative Oversight",detail:"View bills, contact council members, and participate in the democratic process.",link:"/lc"},{title:"Building Permits",detail:"Construction permits, building inspections, and code compliance for all property development.",link:"/bd"},{title:"Business Registration",detail:"Incorporate companies, file annual returns, and search the companies register.",link:"/cr"},{title:"Social Welfare",detail:"Benefits, family services, elderly care, and support programs for vulnerable citizens.",link:"/swd"}],Br=[{label:"Pay taxes & fees",href:"/payments"},{label:"Report an incident",href:"/npa/report"},{label:"File cannabis taxes",href:"/ctb/taxation"},{label:"Book a court date",href:"/doj/courts"},{label:"Check system status",href:"/status"},{label:"Submit business returns",href:"/revenue/file"}];function _r(){var d,p;const[n,e]=f.useState(!1),[i,s]=f.useState(!1),{user:r,isAuthenticated:a,loading:o}=Yt(),l=ri(),c=ni();return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"portal-header",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"portal-logo",children:[t.jsx("div",{className:"logo-emblem",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",children:[t.jsx("rect",{x:"3",y:"3",width:"9",height:"18",fill:"#4b5563",rx:"2",ry:"2"}),t.jsx("rect",{x:"12",y:"3",width:"9",height:"18",fill:"#f97316",rx:"2",ry:"2"})]})}),t.jsxs("div",{className:"logo-text",children:[t.jsx("h1",{children:"Republic of Praya"}),t.jsx("span",{className:"tagline",children:"Official Government Portal"})]})]}),t.jsxs("nav",{className:"portal-nav",children:[t.jsx(Or,{onClick:()=>s(!0)}),t.jsxs("div",{className:"nav-dropdown",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:[t.jsxs("button",{className:"nav-link",children:["Services",t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M6 9l6 6 6-6"})})]}),n&&t.jsx("div",{className:"dropdown-menu",children:t.jsx("div",{className:"dropdown-grid",children:Bt.map(u=>t.jsxs("a",{href:u.url,className:"dropdown-item",children:[t.jsx("div",{className:"dropdown-item-icon",style:{background:`color-mix(in srgb, ${u.color} 15%, transparent)`,color:u.color},children:u.abbrev}),t.jsxs("div",{children:[t.jsx("div",{className:"dropdown-item-title",children:u.name}),t.jsxs("div",{className:"dropdown-item-desc",children:[u.description.substring(0,60),"..."]})]})]},u.id))})})]}),!o&&(a?t.jsxs(q,{to:"/account",className:"nav-account-btn",children:[t.jsxs("div",{className:"nav-avatar",children:[(d=r==null?void 0:r.firstName)==null?void 0:d[0],(p=r==null?void 0:r.lastName)==null?void 0:p[0]]}),t.jsx("span",{children:r==null?void 0:r.firstName})]}):t.jsxs(q,{to:"/login",className:"nav-login-btn",children:[t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 40 40",fill:"none",children:[t.jsx("rect",{width:"40",height:"40",rx:"8",fill:"url(#nav-logo-gradient)"}),t.jsx("path",{d:"M12 20c0-4.4 3.6-8 8-8s8 3.6 8 8-3.6 8-8 8",stroke:"#fff",strokeWidth:"2.5",strokeLinecap:"round"}),t.jsx("path",{d:"M20 16v8M16 20h8",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"nav-logo-gradient",x1:"0",y1:"0",x2:"40",y2:"40",children:[t.jsx("stop",{stopColor:"#f97316"}),t.jsx("stop",{offset:"1",stopColor:"#ea580c"})]})})]}),"Login with PrayaPass"]}))]})]})}),t.jsx(Dr,{}),t.jsxs("section",{className:"portal-hero",children:[t.jsxs("div",{className:"hero-bg",children:[t.jsx("div",{className:"hero-bg-shape"}),t.jsx("div",{className:"hero-bg-shape"}),t.jsx("div",{className:"hero-bg-shape"})]}),t.jsx("div",{className:"container",children:t.jsxs("div",{className:"hero-content",children:[t.jsxs("h2",{children:["Welcome to ",t.jsx("span",{style:{color:"#f97316"},children:"GOV.PRAYA"})]}),t.jsx("p",{children:"Your central gateway to government services in the Republic of Praya. Founded in 2011 on Flower Island, our nation has grown from a small settlement to a thriving city-state of 4.2 million residents across Metropolitan and Braemar Countiesall served through one unified digital platform."}),t.jsxs("div",{className:"hero-features",children:[t.jsxs("div",{className:"hero-feature",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),t.jsx("span",{children:"127 online services available 24/7"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),t.jsx("span",{children:"Secure, encrypted government services"})]}),t.jsxs("div",{className:"hero-feature",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),t.jsx("span",{children:"15 major departments & agencies"})]})]}),t.jsxs("div",{className:"hero-actions",children:[t.jsx("a",{href:"#departments",className:"btn btn-primary",children:"Browse Departments"}),t.jsx("a",{href:"#services",className:"btn btn-secondary",children:"Featured Services"})]})]})})]}),t.jsx("section",{className:"portal-stats",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"stats-grid",children:[t.jsxs(q,{to:"/air-quality",className:"stat-item stat-item-link",children:[t.jsx("span",{className:"stat-label",children:"Air Quality Index"}),t.jsx("span",{className:"stat-value",style:{color:l.color},children:l.value}),t.jsxs("span",{className:"stat-change",children:[l.label,"  Updated ",l.lastUpdated]})]}),t.jsxs(q,{to:"/national-security",className:"stat-item stat-item-link",children:[t.jsx("span",{className:"stat-label",children:"National Security Level"}),t.jsx("span",{className:"stat-value",style:{color:c.color},children:c.level}),t.jsxs("span",{className:"stat-change",children:[c.name,"  Routine vigilance"]})]}),t.jsxs(q,{to:"/status",className:"stat-item stat-item-link",children:[t.jsx("span",{className:"stat-label",children:"System Status"}),t.jsx("span",{className:"stat-value",style:{color:"#10b981"},children:"99.9%"}),t.jsx("span",{className:"stat-change",children:"All services operational"})]}),t.jsxs(q,{to:"/payments",className:"stat-item stat-item-link",children:[t.jsx("span",{className:"stat-label",children:"Pay Online"}),t.jsx("span",{className:"stat-value",style:{color:"var(--primary)"},children:"127"}),t.jsx("span",{className:"stat-change",children:"Payment types available"})]})]})})}),t.jsx("section",{className:"featured-services",id:"services",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"featured-header",children:t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Featured Services"}),t.jsx("h2",{className:"section-title",children:"Essential Government Services"}),t.jsx("p",{className:"section-subtitle",children:"Quick access to our most-used departments and services"})]})}),t.jsxs("div",{className:"featured-grid",children:[t.jsxs("a",{href:"/bop",className:"featured-card featured-large",children:[t.jsx("div",{className:"featured-badge",children:"Central Banking"}),t.jsx("div",{className:"featured-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),t.jsx("path",{d:"M2 10h20"})]})}),t.jsx("h3",{children:"Bank of Praya"}),t.jsx("p",{children:"Monetary policy, banking supervision, and economic research. View interest rates, inflation data, and financial stability reports."}),t.jsxs("div",{className:"featured-stats",children:[t.jsxs("div",{className:"featured-stat",children:[t.jsx("span",{className:"featured-stat-value",children:"3.75%"}),t.jsx("span",{className:"featured-stat-label",children:"Base Rate"})]}),t.jsxs("div",{className:"featured-stat",children:[t.jsx("span",{className:"featured-stat-value",children:"2.1%"}),t.jsx("span",{className:"featured-stat-label",children:"Inflation"})]}),t.jsxs("div",{className:"featured-stat",children:[t.jsx("span",{className:"featured-stat-value",children:"82.4B"}),t.jsx("span",{className:"featured-stat-label",children:"Reserves"})]})]}),t.jsxs("span",{className:"featured-link",children:["Visit Bank of Praya",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("a",{href:"/post",className:"featured-card",children:[t.jsx("div",{className:"featured-badge",children:"Postal Services"}),t.jsx("div",{className:"featured-icon featured-icon-sm",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"})})}),t.jsx("h3",{children:"Praya Post"}),t.jsx("p",{children:"Ship packages nationwide and internationally. Request shipping labels, track deliveries, and find post offices."}),t.jsxs("div",{className:"featured-stat-row",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"4.2M"})," packages delivered"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"124"})," post offices"]})]}),t.jsxs("span",{className:"featured-link",children:["Request Shipping Label",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("a",{href:"/housing",className:"featured-card",children:[t.jsx("div",{className:"featured-badge",children:"Public Housing"}),t.jsx("div",{className:"featured-icon featured-icon-sm",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),t.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),t.jsx("h3",{children:"Housing Authority"}),t.jsx("p",{children:"Apply for affordable public housing. Heavily subsidized rental units for eligible Prayan citizens across all regions."}),t.jsxs("div",{className:"featured-stat-row",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"24,847"})," active units"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"385"})," avg. rent"]})]}),t.jsxs("span",{className:"featured-link",children:["Apply for Housing",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("a",{href:"/npa",className:"featured-card",children:[t.jsx("div",{className:"featured-badge",children:"Public Safety"}),t.jsx("div",{className:"featured-icon featured-icon-sm",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M12 2l7 4v6c0 5-4 9-7 10-3-1-7-5-7-10V6z"})})}),t.jsx("h3",{children:"National Police"}),t.jsx("p",{children:"Emergency response, public safety services, background checks, and community programs across all districts."}),t.jsxs("div",{className:"featured-stat-row",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"7m 42s"})," avg response"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"18,240"})," officers"]})]}),t.jsxs("span",{className:"featured-link",children:["Police Services",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("a",{href:"/health",className:"featured-card",children:[t.jsx("div",{className:"featured-badge",children:"Public Health"}),t.jsx("div",{className:"featured-icon featured-icon-sm",children:t.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}),t.jsx("h3",{children:"Health Department"}),t.jsx("p",{children:"Public health services, disease control, healthcare licensing, and vital statistics for all citizens."}),t.jsxs("div",{className:"featured-stat-row",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"127"})," hospitals"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"24/7"})," emergency"]})]}),t.jsxs("span",{className:"featured-link",children:["Health Services",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("a",{href:"/doj",className:"featured-card",children:[t.jsx("div",{className:"featured-badge",children:"Justice System"}),t.jsx("div",{className:"featured-icon featured-icon-sm",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]})}),t.jsx("h3",{children:"Justice Department"}),t.jsx("p",{children:"Court services, case lookup, legal aid, and access to the criminal code and legal resources."}),t.jsxs("div",{className:"featured-stat-row",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"42"})," court locations"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"98.4%"})," resolved"]})]}),t.jsxs("span",{className:"featured-link",children:["Court Services",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})}),t.jsx("section",{className:"digital-services",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"digital-header",children:t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Digital Government"}),t.jsx("h2",{className:"section-title",children:"Modern Services for Modern Citizens"}),t.jsx("p",{className:"section-subtitle",children:"Access government services anytime, anywhere with our secure digital platform"})]})}),t.jsxs("div",{className:"digital-grid",children:[t.jsxs("div",{className:"digital-card",children:[t.jsx("div",{className:"digital-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),t.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),t.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),t.jsx("h3",{children:"Online Portal Access"}),t.jsx("p",{children:"Manage all your government interactions through one unified account. Apply for permits, pay taxes, and access services 24/7."}),t.jsxs("div",{className:"digital-stat",children:[t.jsx("span",{className:"digital-stat-number",children:"98.7%"}),t.jsx("span",{className:"digital-stat-label",children:"Uptime reliability"})]})]}),t.jsxs("div",{className:"digital-card",children:[t.jsx("div",{className:"digital-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2"}),t.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]})}),t.jsx("h3",{children:"Mobile Government"}),t.jsx("p",{children:"Access critical services on the go with our mobile-optimized platform. Report issues, check applications, and receive real-time updates."}),t.jsxs("div",{className:"digital-stat",children:[t.jsx("span",{className:"digital-stat-number",children:"847K"}),t.jsx("span",{className:"digital-stat-label",children:"Monthly active users"})]})]}),t.jsxs("div",{className:"digital-card",children:[t.jsx("div",{className:"digital-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),t.jsx("path",{d:"M9 12l2 2 4-4"})]})}),t.jsx("h3",{children:"Bank-Level Security"}),t.jsx("p",{children:"Your data is protected with end-to-end encryption, multi-factor authentication, and regular security audits following international standards."}),t.jsxs("div",{className:"digital-stat",children:[t.jsx("span",{className:"digital-stat-number",children:"ISO 27001"}),t.jsx("span",{className:"digital-stat-label",children:"Security certified"})]})]}),t.jsxs("div",{className:"digital-card",children:[t.jsx("div",{className:"digital-icon",children:t.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[t.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t.jsx("polyline",{points:"7 10 12 15 17 10"}),t.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),t.jsx("h3",{children:"Instant Document Access"}),t.jsx("p",{children:"Download official certificates, tax records, and legal documents instantly. Digital signatures accepted for most government transactions."}),t.jsxs("div",{className:"digital-stat",children:[t.jsx("span",{className:"digital-stat-number",children:"2.3M"}),t.jsx("span",{className:"digital-stat-label",children:"Documents issued last year"})]})]})]})]})}),t.jsx("section",{className:"announcements",id:"news",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"announcements-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Latest Updates"}),t.jsx("h2",{className:"section-title",children:"Government Announcements"}),t.jsx("p",{className:"section-subtitle",children:"Stay informed about new policies, services, and important notices"})]}),t.jsx("a",{href:"#departments",className:"btn btn-accent",children:"Browse Departments"})]}),t.jsxs("div",{className:"announcements-grid",children:[t.jsxs("div",{className:"announcement-card announcement-featured",children:[t.jsx("div",{className:"announcement-badge",children:"Policy Update"}),t.jsx("span",{className:"announcement-date",children:"December 5, 2025"}),t.jsx("h3",{children:"New Housing Subsidy Program Expanded"}),t.jsx("p",{children:"The Housing Authority announces expansion of rental assistance programs to include middle-income families. Applications now open for eligible households earning up to 65,000 annually."}),t.jsxs("a",{href:"/housing",className:"announcement-link",children:["Read full announcement",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("div",{className:"announcement-card",children:[t.jsx("div",{className:"announcement-badge",children:"Service Launch"}),t.jsx("span",{className:"announcement-date",children:"December 2, 2025"}),t.jsx("h3",{children:"Digital ID Cards Now Available"}),t.jsx("p",{children:"Apply for your digital government ID through the Interior Department portal. Accepted at all government facilities and participating businesses."}),t.jsxs("a",{href:"/interior",className:"announcement-link",children:["Learn more",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),t.jsxs("div",{className:"announcement-card",children:[t.jsx("div",{className:"announcement-badge",children:"Tax Notice"}),t.jsx("span",{className:"announcement-date",children:"November 28, 2025"}),t.jsx("h3",{children:"2026 Tax Filing Season Opens January 15"}),t.jsx("p",{children:"Revenue Department reminds citizens that tax returns for 2025 are due by April 15, 2026. Early filers may receive refunds within 10 business days."}),t.jsxs("a",{href:"/revenue",className:"announcement-link",children:["Tax information",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})]})}),t.jsx("main",{className:"portal-main",id:"departments",children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{className:"section-title",children:"All Government Departments"}),t.jsx("p",{className:"section-subtitle",children:"Browse the complete directory of Praya government agencies and services"}),t.jsx("div",{className:"dept-grid",children:Bt.map(u=>t.jsxs("a",{href:u.url,className:"dept-card",style:{"--dept-color":u.color},children:[t.jsx("div",{className:"dept-icon",children:qr[u.id]}),t.jsx("h3",{children:u.name}),t.jsx("p",{children:u.description}),t.jsx("ul",{className:"dept-services",children:u.services.map(m=>t.jsx("li",{children:m},m))}),t.jsxs("span",{className:"dept-link",children:["Visit Department",t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]},u.id))})]})}),t.jsx("section",{className:"portal-priorities",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"priorities-header",children:[t.jsxs("div",{children:[t.jsx("p",{className:"eyebrow",children:"Key Service Areas"}),t.jsx("h3",{children:"Core programs serving every citizen"}),t.jsx("p",{className:"section-subtitle",children:"Explore our department sites for detailed policies, forms, and up-to-date announcements."})]}),t.jsx("a",{href:"#departments",className:"btn btn-accent",children:"View all departments"})]}),t.jsx("div",{className:"priorities-grid",children:Fr.map(u=>t.jsxs("a",{href:u.link,className:"priority-card",children:[t.jsx("div",{className:"priority-dot"}),t.jsxs("div",{children:[t.jsx("h4",{children:u.title}),t.jsx("p",{children:u.detail})]}),t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]},u.title))})]})}),t.jsx("section",{className:"portal-quicklinks",children:t.jsxs("div",{className:"container",children:[t.jsx("h3",{className:"section-title",children:"Popular actions"}),t.jsx("p",{className:"section-subtitle",children:"Jump straight into the completed department pages for the most requested services."}),t.jsx("div",{className:"quicklink-grid",children:Br.map(u=>t.jsxs("a",{href:u.href,className:"quicklink-card",children:[t.jsx("span",{children:u.label}),t.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:t.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]},u.label))})]})}),t.jsx("footer",{className:"portal-footer",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"footer-grid",children:[t.jsxs("div",{className:"footer-brand",children:[t.jsx("h4",{children:"Republic of Praya"}),t.jsx("p",{children:"Founded on 26 February 2011, the Republic of Praya has grown from its original settlement on Flower Island to a thriving city-state. Today, we serve 4.2 million citizens across Metropolitan County (home to districts like Downtown, Surowski Valley, and Western District) and Braemar County (featuring the cities of Braemar and Oakville). This portal provides unified access to all government services 24/7."}),t.jsxs("p",{style:{marginTop:"8px",fontSize:"13px",color:"var(--text-muted)"},children:[t.jsx("strong",{children:"Office of the Mayor:"})," Jeff Bai  ",t.jsx("strong",{children:"Governor, Braemar County:"})," Karson Mo"]})]}),t.jsxs("div",{className:"footer-section",children:[t.jsx("h5",{children:"Quick Links"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx(q,{to:"/#services",children:"About Praya"})}),t.jsx("li",{children:t.jsx(q,{to:"/lc",children:"Contact Us"})}),t.jsx("li",{children:t.jsx(q,{to:"/#services",children:"Accessibility"})}),t.jsx("li",{children:t.jsx(q,{to:"/#services",children:"Privacy Policy"})})]})]}),t.jsxs("div",{className:"footer-section footer-departments",children:[t.jsx("h5",{children:"Departments"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx("a",{href:"/npa",children:"National Police Agency"})}),t.jsx("li",{children:t.jsx("a",{href:"/bop",children:"Bank of Praya"})}),t.jsx("li",{children:t.jsx("a",{href:"/ctb",children:"Cannabis Tax Bureau"})}),t.jsx("li",{children:t.jsx("a",{href:"/doj",children:"Justice Department"})}),t.jsx("li",{children:t.jsx("a",{href:"/interior",children:"Interior Department"})}),t.jsx("li",{children:t.jsx("a",{href:"/transport",children:"Transport Department"})}),t.jsx("li",{children:t.jsx("a",{href:"/revenue",children:"Revenue Department"})}),t.jsx("li",{children:t.jsx("a",{href:"/post",children:"Praya Post"})}),t.jsx("li",{children:t.jsx("a",{href:"/health",children:"Health Department"})}),t.jsx("li",{children:t.jsx("a",{href:"/housing",children:"Housing Authority"})}),t.jsx("li",{children:t.jsx("a",{href:"/cbca",children:"Customs & Border"})}),t.jsx("li",{children:t.jsx("a",{href:"/lc",children:"Legislative Council"})}),t.jsx("li",{children:t.jsx(q,{to:"/bd",children:"Buildings Dept"})}),t.jsx("li",{children:t.jsx(q,{to:"/cr",children:"Companies Registry"})}),t.jsx("li",{children:t.jsx(q,{to:"/swd",children:"Social Welfare"})})]})]}),t.jsxs("div",{className:"footer-section",children:[t.jsx("h5",{children:"Help"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx(q,{to:"/#services",children:"FAQs"})}),t.jsx("li",{children:t.jsx(q,{to:"/interior",children:"Support"})}),t.jsx("li",{children:t.jsx(q,{to:"/status",children:"System Status"})}),t.jsx("li",{children:t.jsx(q,{to:"/payments",children:"Make a Payment"})})]})]})]}),t.jsxs("div",{className:"footer-bottom",children:[t.jsx("span",{children:" 2011-2026 Republic of Praya. All rights reserved."}),t.jsxs("div",{className:"footer-legal",children:[t.jsx(q,{to:"/#services",children:"Terms of Service"}),t.jsx(q,{to:"/#services",children:"Privacy"}),t.jsx(q,{to:"/#services",children:"Cookies"})]})]})]})}),t.jsx(Mr,{isOpen:i,onClose:()=>s(!1)})]})}function Ce({children:n}){const{isAuthenticated:e,loading:i}=Yt(),s=Gt();return i?t.jsxs("div",{className:"auth-loading",children:[t.jsx("div",{className:"auth-loading-spinner"}),t.jsx("p",{children:"Loading..."})]}):e?n:t.jsx(gi,{to:"/login",state:{from:s},replace:!0})}const $r=f.lazy(()=>E(()=>import("./NPA-CEH8iTid.js"),__vite__mapDeps([0,1,2,3,4]))),Hr=f.lazy(()=>E(()=>import("./BOP-dDHhzKYf.js"),__vite__mapDeps([5,1,2,3,4]))),Vr=f.lazy(()=>E(()=>import("./DOJ-BWLSEqC4.js"),__vite__mapDeps([6,1,2,3,4]))),Wr=f.lazy(()=>E(()=>import("./CTB-SzQeD1Xl.js"),__vite__mapDeps([7,1,2,3,4]))),zr=f.lazy(()=>E(()=>import("./Interior-DPHh5D2W.js"),__vite__mapDeps([8,1,2,3,4]))),Ur=f.lazy(()=>E(()=>import("./BD-BafQMf3t.js"),__vite__mapDeps([9,1,2,3,4]))),Gr=f.lazy(()=>E(()=>import("./CR-Bp0R9uw6.js"),__vite__mapDeps([10,1,2,3,4]))),Kr=f.lazy(()=>E(()=>import("./SWD-CA2rhidO.js"),__vite__mapDeps([11,1,2,3,4]))),Jr=f.lazy(()=>E(()=>import("./Post-CjhOHRCj.js"),__vite__mapDeps([12,1,2,3,4]))),Qr=f.lazy(()=>E(()=>import("./CBCA-Bj-josBQ.js"),__vite__mapDeps([13,1,2,3,4]))),Yr=f.lazy(()=>E(()=>import("./Health-DuGOzqgk.js"),__vite__mapDeps([14,1,2,3,4]))),Xr=f.lazy(()=>E(()=>import("./Housing-D3WjAXNJ.js"),__vite__mapDeps([15,1,2,3,4]))),Zr=f.lazy(()=>E(()=>import("./Revenue-DGvxx0UG.js"),__vite__mapDeps([16,1,2,3,4]))),en=f.lazy(()=>E(()=>import("./Transport-DevPC-CO.js"),__vite__mapDeps([17,1,2,3,18,4]))),tn=f.lazy(()=>E(()=>import("./LC-B2YAaclP.js"),__vite__mapDeps([19,1,2,3,4]))),sn=f.lazy(()=>E(()=>import("./PSE-BvtNc2qx.js"),__vite__mapDeps([20,1,2,3,21]))),rn=f.lazy(()=>E(()=>import("./AirQuality-DHVGnR06.js"),__vite__mapDeps([22,1,2,3,4]))),nn=f.lazy(()=>E(()=>import("./NationalSecurity-DWuu1f31.js"),__vite__mapDeps([23,1,2,3,4]))),an=f.lazy(()=>E(()=>import("./Weather-CNi_l485.js"),__vite__mapDeps([24,1,2,3,4]))),on=f.lazy(()=>E(()=>import("./Status-BneQ8fpx.js"),__vite__mapDeps([25,1,2,3,26]))),ln=f.lazy(()=>E(()=>import("./Payments-yzPNccNe.js"),__vite__mapDeps([27,1,2,3,28]))),cn=f.lazy(()=>E(()=>import("./NotFound-P8BbH6Dw.js"),__vite__mapDeps([29,1,2,3]))),dn=f.lazy(()=>E(()=>import("./AlertAdmin-D4gaVobO.js"),__vite__mapDeps([30,1,2,3,31]))),un=f.lazy(()=>E(()=>import("./Login-zg68m-rL.js"),__vite__mapDeps([32,1,2,3,33]))),pn=f.lazy(()=>E(()=>import("./Register-CyIWG_a7.js"),__vite__mapDeps([34,1,2,3,33]))),hn=f.lazy(()=>E(()=>import("./ForgotPassword-D4ohVNJQ.js"),__vite__mapDeps([35,1,2,3,33]))),mn=f.lazy(()=>E(()=>import("./AuthCallback-kGHYbDOm.js"),__vite__mapDeps([36,1,2,3,33]))),_t=f.lazy(()=>E(()=>import("./Dashboard-VJET2_N2.js"),__vite__mapDeps([37,1,2,3,38]))),fn=f.lazy(()=>E(()=>import("./Security-BwPsqLOl.js"),__vite__mapDeps([39,1,2,3,40,38]))),gn=f.lazy(()=>E(()=>import("./Appointments-nl8p98dt.js"),__vite__mapDeps([41,1,2,3,42])));function yn(){return t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",color:"var(--text-secondary)"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid var(--border-color)",borderTopColor:"var(--primary-color)",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),t.jsx("p",{children:"Loading..."})]}),t.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function xn(){return t.jsx($i,{children:t.jsx(zi,{children:t.jsxs(fr,{children:[t.jsx(br,{}),t.jsx(f.Suspense,{fallback:t.jsx(yn,{}),children:t.jsxs(yi,{children:[t.jsx(R,{path:"/admin/alerts",element:t.jsx(Ce,{children:t.jsx(dn,{})})}),t.jsx(R,{path:"/status",element:t.jsx(on,{})}),t.jsx(R,{path:"/payments",element:t.jsx(ln,{})}),t.jsxs(R,{path:"/",element:t.jsx(mr,{}),children:[t.jsx(R,{index:!0,element:t.jsx(_r,{})}),t.jsx(R,{path:"npa/*",element:t.jsx($r,{})}),t.jsx(R,{path:"bop/*",element:t.jsx(Hr,{})}),t.jsx(R,{path:"ctb/*",element:t.jsx(Wr,{})}),t.jsx(R,{path:"doj/*",element:t.jsx(Vr,{})}),t.jsx(R,{path:"bd/*",element:t.jsx(Ur,{})}),t.jsx(R,{path:"cr/*",element:t.jsx(Gr,{})}),t.jsx(R,{path:"swd/*",element:t.jsx(Kr,{})}),t.jsx(R,{path:"interior/*",element:t.jsx(zr,{})}),t.jsx(R,{path:"post/*",element:t.jsx(Jr,{})}),t.jsx(R,{path:"cbca/*",element:t.jsx(Qr,{})}),t.jsx(R,{path:"health/*",element:t.jsx(Yr,{})}),t.jsx(R,{path:"housing/*",element:t.jsx(Xr,{})}),t.jsx(R,{path:"revenue/*",element:t.jsx(Zr,{})}),t.jsx(R,{path:"transport/*",element:t.jsx(en,{})}),t.jsx(R,{path:"lc/*",element:t.jsx(tn,{})}),t.jsx(R,{path:"pse/*",element:t.jsx(sn,{})}),t.jsx(R,{path:"air-quality",element:t.jsx(rn,{})}),t.jsx(R,{path:"national-security",element:t.jsx(nn,{})}),t.jsx(R,{path:"weather/*",element:t.jsx(an,{})}),t.jsx(R,{path:"login",element:t.jsx(un,{})}),t.jsx(R,{path:"register",element:t.jsx(pn,{})}),t.jsx(R,{path:"forgot-password",element:t.jsx(hn,{})}),t.jsx(R,{path:"auth/callback",element:t.jsx(mn,{})}),t.jsx(R,{path:"account",element:t.jsx(Ce,{children:t.jsx(_t,{})})}),t.jsx(R,{path:"account/security",element:t.jsx(Ce,{children:t.jsx(fn,{})})}),t.jsx(R,{path:"account/profile",element:t.jsx(Ce,{children:t.jsx(_t,{})})}),t.jsx(R,{path:"appointments",element:t.jsx(Ce,{children:t.jsx(gn,{})})}),t.jsx(R,{path:"*",element:t.jsx(cn,{})})]})]})})]})})})}const{slice:vn,forEach:bn}=[];function wn(n){return bn.call(vn.call(arguments,1),e=>{if(e)for(const i in e)n[i]===void 0&&(n[i]=e[i])}),n}function kn(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(n))}const $t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,jn=function(n,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let a=`${n}=${r}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!$t.test(s.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${s.domain}`}if(s.path){if(!$t.test(s.path))throw new TypeError("option path is invalid");a+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(a+="; Partitioned"),a},Ht={create(n,e,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+i*60*1e3)),s&&(r.domain=s),document.cookie=jn(n,e,r)},read(n){const e=`${n}=`,i=document.cookie.split(";");for(let s=0;s<i.length;s++){let r=i[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var Sn={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Ht.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:i,cookieMinutes:s,cookieDomain:r,cookieOptions:a}=e;i&&typeof document<"u"&&Ht.create(i,n,s,r,a)}},Cn={name:"querystring",lookup(n){var s;let{lookupQuerystring:e}=n,i;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((s=window.location.hash)==null?void 0:s.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(i=o[l].substring(c+1))}}return i}},Nn={name:"hash",lookup(n){var r;let{lookupHash:e,lookupFromHashIndex:i}=n,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(s=l[c].substring(d+1))}}if(s)return s;if(!s&&i>-1){const l=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(r=l[typeof i=="number"?i:0])==null?void 0:r.replace("/",""):void 0}}}return s}};let fe=null;const Vt=()=>{if(fe!==null)return fe;try{if(fe=typeof window<"u"&&window.localStorage!==null,!fe)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{fe=!1}return fe};var Pn={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Vt())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:i}=e;i&&Vt()&&window.localStorage.setItem(i,n)}};let ge=null;const Wt=()=>{if(ge!==null)return ge;try{if(ge=typeof window<"u"&&window.sessionStorage!==null,!ge)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{ge=!1}return ge};var An={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Wt())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:i}=e;i&&Wt()&&window.sessionStorage.setItem(i,n)}},In={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:i,userLanguage:s,language:r}=navigator;if(i)for(let a=0;a<i.length;a++)e.push(i[a]);s&&e.push(s),r&&e.push(r)}return e.length>0?e:void 0}},Ln={name:"htmlTag",lookup(n){let{htmlTag:e}=n,i;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(i=s.getAttribute("lang")),i}},Rn={name:"path",lookup(n){var r;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(r=i[typeof e=="number"?e:0])==null?void 0:r.replace("/",""):void 0}},En={name:"subdomain",lookup(n){var r,a;let{lookupFromSubdomainIndex:e}=n;const i=typeof e=="number"?e+1:1,s=typeof window<"u"&&((a=(r=window.location)==null?void 0:r.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[i]}};let li=!1;try{document.cookie,li=!0}catch{}const ci=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];li||ci.splice(1,1);const Dn=()=>({order:ci,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class di{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,i)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=wn(i,this.options||{},Dn()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Sn),this.addDetector(Cn),this.addDetector(Pn),this.addDetector(An),this.addDetector(In),this.addDetector(Ln),this.addDetector(Rn),this.addDetector(En),this.addDetector(Nn)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return e.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(i=i.concat(r))}}),i=i.filter(s=>s!=null&&!kn(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||i.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}di.type="languageDetector";const Tn={en:{translation:{"common.loading":"Loading...","common.error":"Error","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.search":"Search","common.filter":"Filter","common.clear":"Clear","common.back":"Back","common.next":"Next","common.previous":"Previous","common.submit":"Submit","nav.home":"Home","nav.services":"Services","nav.account":"My Account","nav.login":"Login","nav.logout":"Logout","nav.register":"Register","portal.title":"GOV.PRAYA","portal.subtitle":"Government Portal of the Republic of Praya","portal.search.placeholder":"Search government services...","portal.popular.services":"Popular Services","portal.all.departments":"All Departments","dept.npa":"National Police Agency","dept.bop":"Bank of Praya","dept.revenue":"Revenue Department","dept.health":"Health Department","dept.transport":"Transport Department","account.dashboard":"Dashboard","account.security":"Security","account.profile":"Profile","account.settings":"Settings","alert.emergency":"Emergency","alert.warning":"Warning","alert.info":"Information","alert.success":"Success"}},es:{translation:{"common.loading":"Cargando...","common.error":"Error","common.success":"xito","common.cancel":"Cancelar","common.confirm":"Confirmar","common.save":"Guardar","common.delete":"Eliminar","common.edit":"Editar","common.search":"Buscar","common.filter":"Filtrar","common.clear":"Limpiar","common.back":"Atrs","common.next":"Siguiente","common.previous":"Anterior","common.submit":"Enviar","nav.home":"Inicio","nav.services":"Servicios","nav.account":"Mi Cuenta","nav.login":"Iniciar Sesin","nav.logout":"Cerrar Sesin","nav.register":"Registrarse","portal.title":"GOV.PRAYA","portal.subtitle":"Portal Gubernamental de la Repblica de Praya","portal.search.placeholder":"Buscar servicios gubernamentales...","portal.popular.services":"Servicios Populares","portal.all.departments":"Todos los Departamentos","dept.npa":"Agencia Nacional de Polica","dept.bop":"Banco de Praya","dept.revenue":"Departamento de Ingresos","dept.health":"Departamento de Salud","dept.transport":"Departamento de Transporte","account.dashboard":"Panel","account.security":"Seguridad","account.profile":"Perfil","account.settings":"Configuracin","alert.emergency":"Emergencia","alert.warning":"Advertencia","alert.info":"Informacin","alert.success":"xito"}},zh:{translation:{"common.loading":"...","common.error":"","common.success":"","common.cancel":"","common.confirm":"","common.save":"","common.delete":"","common.edit":"","common.search":"","common.filter":"","common.clear":"","common.back":"","common.next":"","common.previous":"","common.submit":"","nav.home":"","nav.services":"","nav.account":"","nav.login":"","nav.logout":"","nav.register":"","portal.title":"GOV.PRAYA","portal.subtitle":"Praya","portal.search.placeholder":"...","portal.popular.services":"","portal.all.departments":"","dept.npa":"","dept.bop":"Praya","dept.revenue":"","dept.health":"","dept.transport":"","account.dashboard":"","account.security":"","account.profile":"","account.settings":"","alert.emergency":"","alert.warning":"","alert.info":"","alert.success":""}}};K.use(di).use(ks).init({resources:Tn,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});gr();Fi.createRoot(document.getElementById("root")).render(t.jsx(xi.StrictMode,{children:t.jsx(vi,{children:t.jsx(xn,{})})}));export{$n as A,_n as C,Bn as a,ni as b,Hn as c,Gn as d,Ft as e,Er as f,ri as g,wr as h,Wn as i,t as j,Un as r,Vn as s,zn as t,Yt as u};
